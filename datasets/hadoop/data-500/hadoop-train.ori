HDFS-11592. Closing a file has a wasteful preconditions in NameNode. Contributed by Eric Badger
YARN-1362. Distinguish between nodemanager shutdown for decommission vs shutdown for restart. (Contributed by Jason Lowe)
HDFS-11547. Add logs for slow BlockReceiver while writing data to disk. Contributed by Xiaobing Zhou.
HDFS-11964. Decoding inputs should be correctly prepared in pread. Contributed by Takanobu Asanuma
YARN-5533. JMX AM Used metrics for queue wrong when app submited to nodelabel partition (Bibin A Chundatt via Varun Saxena)
YARN-8024. LOG in class MaxRunningAppsEnforcer is initialized with a faulty class. Contributed by Sen Zhao.
HDFS-10286. Fix TestDFSAdmin#testNameNodeGetReconfigurableProperties. Contributed by Xiaobing Zhou.
YARN-6481. Yarn top shows negative container number in FS (Contributed by Tao Jie via Daniel Templeton)
HADOOP-9135. JniBasedUnixGroupsMappingWithFallback should log at debug rather than info during fallback. Contributed by Colin Patrick McCabe.
MAPREDUCE-2779. JobSplitWriter.java can't handle large job.split file. Contributed by Ming Ma.
HDFS-9882. Add heartbeatsTotal in Datanode metrics. (Contributed by Hua Liu)
HDFS-6215. Wrong error message for upgrade. (Kihwal Lee via jeagles)
YARN-1616. RMFatalEventDispatcher should log the cause of the event (kasha)
HADOOP-8962. RawLocalFileSystem.listStatus fails when a child filename contains a colon (jlowe via bobby)
HDFS-12984. BlockPoolSlice can leak in a mini dfs cluster. Contributed by Ajay Kumar.
HADOOP-9720. Rename Client#uuid to Client#clientId. Contributed by Arpit Agarwal.
HDFS-5843. DFSClient.getFileChecksum() throws IOException if checksum is disabled. Contributed by Laurent Goujon.
YARN-4115. Reduce loglevel of ContainerManagementProtocolProxy to Debug (adhoot via rkanter)
YARN-6987. Log app attempt during InvalidStateTransition. Contributed by Jonathan Eagles
HADOOP-9154. SortedMapWritable#putAll() doesn't add key/value classes to the map. Contributed by Karthik Kambatla.
HDFS-7046. HA NN can NPE upon transition to active. Contributed by Kihwal Lee.
HADOOP-6138. Eliminate the depracate warnings introduced by H-5438.  Contributed by He Yongqiang
MAPREDUCE-5824. Fixed test-failure of TestPipesNonJavaInputFormat in Windows. Contributed by Xuan Gong.
YARN-7052. RM SchedulingMonitor gives no indication why the spawned thread crashed. Contributed by Eric Payne
HADOOP-11160. Fix typo in nfs3 server duplicate entry reporting. Contributed by Charles Lamb.
HADOOP-6754. DefaultCodec.createOutputStream() leaks memory. Contributed by Aaron Kimball.
HDFS-10963. Reduce log level when network topology cannot find enough datanodes. Contributed by Xiao chen
HDFS-11399. Many tests fails in Windows due to injecting disk failures. Contributed by Yiqun Lin.
"YARN-3593. Add label-type and Improve ""DEFAULT_PARTITION"" in Node Labels Page. (Naganarasimha G R via wangda)"
YARN-1751. Improve MiniYarnCluster for log aggregation testing. Contributed by Ming Ma
Temporarily disable NameNodeRaidTestUtil.getDatanodeMap(..) for MAPREDUCE-2711.
HDFS-4444. Add space between total transaction time and number of transactions in FSEditLog#printStatistics. Contributed by Stephen Chu.
HADOOP-14596. AWS SDK 1.11+ aborts() on close() if > 0 bytes in stream; logs error. Contributed by Steve Loughran
YARN-3158. Correct log messages in ResourceTrackerService. Contributed by Varun Saxena
YARN-2075. Fixed the test failure of TestRMAdminCLI. Contributed by Kenji Kikushima.
HADOOP-13601. Fix a log message typo in AbstractDelegationTokenSecretManager. Contributed by Mehran Hassani.
"HADOOP-9358. ""Auth failed"" log should include exception string. Contributed by Todd Lipcon."
HDFS-10404. Fix formatting of CacheAdmin command usage help text (Yiqun Lin via cmccabe)
HDFS-9210. Fix some misuse of %n in VolumeScanner#printStats. Contributed by Xiaoyu Yao.
HDFS-11815. CBlockManager#main should join() after start() service. Contributed by Chen Liang.
YARN-300. After YARN-271, fair scheduler can infinite loop and not schedule any application. Contributed by Sandy Ryza.
YARN-2803. MR distributed cache not working correctly on Windows after NodeManager privileged account changes. Contributed by Craig Welch.
HDFS-7675. Remove unused member DFSClient.spanReceiverHost (cmccabe)
HADOOP-14352. Make some HttpServer2 SSL properties optional (jzhuge via rkanter)
YARN-3086. Make NodeManager memory configurable in MiniYARNCluster. Contributed by Robert Metzger.
HDFS-11411. Avoid OutOfMemoryError in TestMaintenanceState test runs. (Manoj Govindassamy via mingma)
HDFS-2729. Update BlockManager's comments regarding the invalid block set (harsh)
HDFS-6117. Print file path information in FileNotFoundException on INode ID mismatch. Contributed by Suresh Srinivas.
YARN-5262. Optimize sending RMNodeFinishedContainersPulledByAMEvent for every AM heartbeat.
HDFS-5403. WebHdfs client cannot communicate with older WebHdfs servers post HDFS-5306. Contributed by Aaron T. Myers.
HDFS-9514. TestDistributedFileSystem.testDFSClientPeerWriteTimeout failing; exception being swallowed. (Wei-Chiu Chuang via Yongjun Zhang)
HADOOP-7402. TestConfiguration doesn't clean up after itself. Contributed by Aaron T. Myers
HDFS-6612. MiniDFSNNTopology#simpleFederatedTopology(int) always hardcode nameservice ID. Contributed by Juan Yu.
Removed some logs.
HDFS-4655. DNA_FINALIZE is logged as being an unknown command by the DN when received from the standby NN. Contributed by Aaron T. Myers.
HDFS-10688. BPServiceActor may run into a tight loop for sending block report when hitting IOException. Contributed by Chen Liang.
HDFS-3524. Update TestFileLengthOnClusterRestart for HDFS-3522.  Contributed by Brandon Li 
YARN-586. Fixed a typo in ApplicationSubmissionContext#setApplicationId. Contributed by Zhijie Shen.
MAPREDUCE-5358. MRAppMaster throws invalid transitions for JobImpl. Contributed by Devaraj K
HADOOP-8177. MBeans shouldn't try to register when it fails to create MBeanName. (Contributed by Devaraj K).
YARN-5131. Distributed shell AM fails when extra container arrives during finishing. Contributed by Wangda Tan.
YARN-4400. AsyncDispatcher.waitForDrained should be final. Contributed by Daniel Templeton.
HDFS-6190. Minor textual fixes in DFSClient. Contributed by Charles Lamb.
YARN-3824. Fix two minor nits in member variable properties of YarnConfiguration. Contributed by Ray Chiang.
YARN-5608. TestAMRMClient.setup() fails with ArrayOutOfBoundsException. Contributed by Daniel Templeton.
HDFS-10555: Unable to loadFSEdits due to a failure in readCachePoolInfo. Contributed by Uma Maheswara Rao G
HDFS-6433. Replace BytesMoved class with AtomicLong. Contributed by Benoy Antony.
MAPREDUCE-6404. Allow AM to specify a port range for starting its webapp. Contributed by Varun Saxena.
HDFS-3138. Move DatanodeInfo#ipcPort to DatanodeID. Contributed by Eli Collins
Revert previous commit - accidentally included two changes.
"Revert ""HADOOP-12469. distcp shout not ignore the ignoreFailures option. Contributed by Mingliang Liu."""
HDFS-10760. DataXceiver#run() should not log InvalidToken exception as an error. Contributed by Pan Yuxuan.
Addendum patch for HADOOP-9652 to fix performance problems. Contributed by Andrew Wang
HDFS-8607. TestFileCorruption doesn't work as expected. (Contributed by Walter Su)
HADOOP-8144. pseudoSortByDistance in NetworkTopology doesn't work properly if no local node and first node is local rack node. Contributed by Junping Du
HADOOP-12081. Fix UserGroupInformation.java to support 64-bit zLinux. (aajisaka)
HADOOP-10733. Fix potential null dereference in CredShell. (Ted Yu via omalley)
YARN-6967. Limit application attempt's diagnostic message size thoroughly (Contributed by Chengbing Liu via Daniel Templeton)
YARN-7279. Fix typo in helper message of ContainerLauncher. Contributed by Elek, Marton.
HDFS-2361. hftp is broken, fixed username checks in JspHelper.
YARN-2897. CrossOriginFilter needs more log statements (Mit Desai via jeagles)
HDFS-12789. [READ] Image generation tool does not close an opened stream
HDFS-2012. Balancer incorrectly treats nodes whose utilization equals avgUtilization. Contributed by Uma Maheswara Rao G.
HADOOP-8819. Incorrectly & is used instead of && in some file system implementations. Contributed by Brandon Li.
HDFS-8114. Erasure coding: Add auditlog FSNamesystem#createErasureCodingZone if this operation fails. Contributed by Rakesh R.
HADOOP-7189. Add ability to enable debug property in JAAS configuration. Contributed by Ted Yu.
HDFS-7329. Improve logging when MiniDFSCluster fails to start. Contributed by Byron Wong.
HDFS-10496. DiskBalancer: ExecuteCommand checks planFile in a wrong way. Contributed by Lei (Eddy) Xu.
HADOOP-11355. When accessing data in HDFS and the key has been deleted, a Null Pointer Exception is shown. Contributed by Arun Suresh.
HADOOP-9770. Make RetryCache#state non volatile. Contributed by Suresh Srinivas.
YARN-637. FS: maxAssign is not honored. (kkambatl via tucu)
YARN-5097. NPE in Separator.joinEncoded() (Vrushali C via sjlee)
HADOOP-11521. Make connection timeout configurable in s3a. (Thomas Demoor via stevel)
HDFS-10769. BlockIdManager.clear doesn't reset the counter for blockGroupIdGenerator (Contributed by Yiqun Lin and Rakesh R)
HDFS-9342. Erasure coding: client should update and commit block based on acknowledged size. Contributed by SammiChen.
YARN-6298. Metric preemptCall is not used in new preemption. (Yufei Gu via kasha)
MAPREDUCE-2994. Fixed a bug in ApplicationID parsing that affects RM UI. Contributed by Devaraj K.
HDFS-12024. Fix typo's in FsDatasetImpl.java. Contributed by Yasen liu.
YARN-5096. timelinereader has a lot of logging that's not useful. (Sangjin Lee via Varun Saxena)
HDFS-10457. DataNode should not auto-format block pool directory if VERSION is missing. (Wei-Chiu Chuang via lei)
HADOOP-10125. no need to process RPC request if the client connection has been dropped. Contributed by Min Ma
YARN-5053. More informative diagnostics when applications killed by a user. Contributed by Eric Badger
HDFS-3258. Test for HADOOP-8144 (pseudoSortByDistance in NetworkTopology for first rack local node). Contributed by Junping Du
HDFS-5106. TestDatanodeBlockScanner fails on Windows due to incorrect path format. Contributed by Chuan Liu.
YARN-7508. NPE in FiCaSchedulerApp when debug log enabled in async-scheduling mode. Contributed by Tao Yang.
YARN-476. ProcfsBasedProcessTree info message confuses users. (sandyr via tucu)
MAPREDUCE-5310. MRAM should not normalize allocation request capabilities. (tucu)
HDFS-11272. Refine the assert messages in TestFSDirAttrOp. Contributed by Jimmy Xiang.
HDFS-7409. Allow dead nodes to finish decommissioning if all files are fully replicated.
HADOOP-13965. Groups should be consistent in using default group mapping class. Contributed by Yiqun Lin.
HDFS-2720. Fix MiniDFSCluster HA support to work properly on Windows. Contributed by Uma Maheswara Rao G.
HDFS-7079. Few more unit test fixes for HDFS-6581. (Arpit Agarwal)
HADOOP-13353. LdapGroupsMapping getPassward shouldn't return null when IOException throws. Contributed by Zhaohao Liang and Wei-Chiu Chuang.
HADOOP-8634. Ensure FileSystem#close doesn't squawk for deleteOnExit paths (daryn via bobby)
MAPREDUCE-5642. TestMiniMRChildTask fails on Windows. Contributed by Chuan Liu.
HADOOP-7318. MD5Hash factory should reset the digester it returns. Contributed by Todd Lipcon
HDFS-7075. hadoop-fuse-dfs fails because it cannot find JavaKeyStoreProvider$Factory. (cmccabe)
YARN-4550. Some tests in TestContainerLanch fails on non-english locale environment. (Takashi Ohnishi via stevel)
HDFS-5501. Fix pendingReceivedRequests tracking in BPServiceActor.
HDFS-9372. Remove dead code in DataStorage.recoverTransitionRead. Contributed by Duo Zhang.
HADOOP-13943. TestCommonConfigurationFields#testCompareXmlAgainstConfigurationClass fails after HADOOP-13863. Contributed by Brahma Reddy Battula.
HDFS-6646. [ HDFS Rolling Upgrade - Shell ] shutdownDatanode and getDatanodeInfo usage is missed ( Contributed by Brahma Reddy Battula)
HDFS-3132. Fix findbugs warning on HDFS trunk. Contributed by Todd Lipcon.
MAPREDUCE-4224. TestFifoScheduler throws org.apache.hadoop.metrics2.MetricsException (Devaraj K via tgraves)
HDFS-2233. Add WebUI tests with URI reserved chars. Contributed by Eli Collins
YARN-7918. Fix TestAMRMClientPlacementConstraints. (Gergely Novák via asuresh)
MAPREDUCE-4504. SortValidator writes to wrong directory (Robert Evans via tgraves)
YARN-5901. Fix race condition in TestGetGroups beforeclass setup() (Contributed by Haibo Chen via Daniel Templeton)
HADOOP-13125 FS Contract tests don't report FS initialization errors well. (stevel)
HADOOP-6538. Sets hadoop.security.authentication to simple by default. Contributed by Devaraj Das.
HDFS-6785. Should not be able to create encryption zone using path to a non-directory file. (clamb)
YARN-2148. TestNMClient failed due more exit code values added and passed to AM (Wangda Tan via bikas)
HADOOP-8041. Log a warning when a failover is first attempted. Contributed by Todd Lipcon.
MAPREDUCE-5008. Merger progress miscounts with respect to EOF_MARKER. Contributed by Sandy Ryza.
HADOOP-7229. Do not default to an absolute path for kinit in Kerberos auto-renewal thread. Contributed by Aaron T. Myers.
HADOOP-6460. Reinitializes buffers used for serializing responses in ipc server on exceeding maximum response size to free up Java heap. Contributed by Suresh Srinivas.
MAPREDUCE-2398. MRBench: setting the baseDir parameter has no effect. Contributed by Michael Noll and Wilfred Spiegelenburg.
HADOOP-8587. HarFileSystem access of harMetaCache isn't threadsafe. Contributed by Eli Collins
HADOOP-12878. KMS SPNEGO sequence does not work with WEBHDFS. Contributed by Xiaoyu Yao.
New addendum to YARN-5080. Cannot obtain logs using YARN CLI -am for either KILLED or RUNNING AM.
HDFS-1723. quota errors messages should use the same scale. (Jim Plush via atm)
YARN-1549. Fixed a bug in ResourceManager's ApplicationMasterService that was causing unamanged AMs to not finish correctly. Contributed by haosdent.
MAPREDUCE-5261. Fix issues in TestRMContainerAllocator after YARN-617. Contributed by Omkar Vinit Joshi.
YARN-4366. Fix Lint Warnings in YARN Common (templedf via rkanter)
HDFS-12388. A bad error message in DFSStripedOutputStream. Contributed by Huafeng Wang
HADOOP-8242. AbstractDelegationTokenIdentifier: add getter methods for owner and realuser. Contributed by Colin Patrick McCabe
HDFS-9919. TestStandbyCheckpoints#testNonPrimarySBNUploadFSImage waitForCheckpoint incorrectly. Contributed by Lin Yiqun.
YARN-6780. ResourceWeights.toString() cleanup (Contributed by weiyuan via Daniel Templeton)
HDFS-10990. TestPendingInvalidateBlock should wait for IBRs. Contributed by Yiqun Lin.
HDFS-3468. Make BKJM-ZK session timeout configurable. Contributed by Uma Maheswara Rao G.
HADOOP-13798. TestHadoopArchives times out.
MAPREDUCE-3689. RM web UI doesn't handle newline in job name. (Thomas Graves via mahadev)
HDFS-13275. Adding log for BlockPoolManager#refreshNamenodes failures. Contributed by Ajay Kumar.
HADOOP-7101. UserGroupInformation.getCurrentUser() fails when called from non-Hadoop JAAS context. Contributed by Todd Lipcon
YARN-6778. In ResourceWeights, weights and setWeights() should be final. (Daniel Templeton via Yufei Gu)
MAPREDUCE-5749. TestRMContainerAllocator#testReportedAppProgress Failed. Contributed by Jason Lowe
HDFS-7785. Improve diagnostics information for HttpPutFailedException. Contributed by Chengbing Liu.
HDFS-3884. Journal format() should reset cached values. Contributed by Todd Lipcon.
HDFS-13184. RBF: Improve the unit test TestRouterRPCClientRetries. Contributed by Yiqun Lin.
HADOOP-8168. empty-string owners or groups causes {{MissingFormatWidthException}} in o.a.h.fs.shell.Ls.ProcessPath() (ekoontz via tucu)
YARN-3149. Fix typo in message for invalid application id. Contributed by Bibin A Chundatt.
HDFS-8894. Set SO_KEEPALIVE on DN server sockets. Contributed by Kanaka Kumar Avvaru.
YARN-2400. Fixed TestAMRestart fails intermittently. Contributed by Jian He:
HDFS-4165. Faulty sanity check in FsDirectory.unprotectedSetQuota. Contributed by Binglin Chang.
YARN-2323. FairShareComparator creates too many Resource objects (Hong Zhiguo via Sandy Ryza)
HDFS-4544. Error in deleting blocks should not do check disk, for all types of errors. Contributed by Arpit Agarwal.
HADOOP-6614. RunJar should provide more diags when it can't create a temp file. Contributed by Jonathan Hsieh
HADOOP-7361. Provide an option, -overwrite/-f, in put and copyFromLocal shell commands.  Contributed by Uma Maheswara Rao G
HDFS-6582. Missing null check in RpcProgramNfs3#read(XDR, SecurityHandler). Contributed by Abhiraj Butala
MAPREDUCE-4165. Committing is misspelled as commiting in task logs (John Eagles via bobby)
HADOOP-13389 TestS3ATemporaryCredentials.testSTS error when using IAM credentials. Contributed by Steven K. Wong
MAPREDUCE-6798. Fix intermittent failure of TestJobHistoryParsing.testJobHistoryMethods (Haibo Chen via Varun Saxena)
HDFS-4592. Default values for access time precision are out of sync between hdfs-default.xml and the code. Contributed by Aaron T. Myers.
HDFS-9290. DFSClient#callAppend() is not backward compatible for slightly older NameNodes. Contributed by Tony Wu.
HDFS-12693. Ozone: Enable XFrame options for KSM/SCM web ui. Contributed by Elek, Marton.
HADOOP-10006. Compilation failure in trunk for o.a.h.fs.swift.util.JSONUtil
YARN-2359. Application hangs when it fails to launch AM container. (Zhihai Xu via kasha)
YARN-7692. Skip validating priority acls while recovering applications. Contributed by Sunil G.
YARN-6935. [YARN-3926] ResourceProfilesManagerImpl.parseResource() has no need of the key parameter (Contributed by Manikandan R via Daniel Templeton)
YARN-15. Updated default classpath for YARN applications to reflect split of YARN into a sub-project. Contributed by Arun C Murthy.
HADOOP-12789. log classpath of ApplicationClassLoader at INFO level. (Sangjin Lee via mingma)
YARN-6872. [Addendum patch] Ensure apps could run given NodeLabels are disabled post RM switchover/restart. Contributed by Sunil G
MAPREDUCE-3687.  If AM dies before it returns new tracking URL, proxy redirects to http://N/A/ and doesn't return error code (Ravi Prakash via bobby)
MAPREDUCE-3233. Fixed a bug in MR Job so as to be able to restart the application on AM crash. Contributed by Mahadev Konar.
HDFS-9300. TestDirectoryScanner.testThrottle() is still a little flakey. Contributed by Daniel Templeton.
HDFS-11275. Check groupEntryIndex and throw a helpful exception on failures when removing ACL.
MAPREDUCE-6291. Correct mapred queue usage command. Contributed by Brahma Reddy Battula.
"YARN-7120. CapacitySchedulerPage NPE in ""Aggregate scheduler counts"" section. Contributed by Eric Payne"
HDFS-8548. Minicluster throws NPE on shutdown. Contributed by surendra singh lilhore.
HDFS-5165. Remove the TotalFiles metrics. Contributed by Akira AJISAKA.
HDFS-5144. Document time unit to NameNodeMetrics. Contributed by Akira Ajisaka.
YARN-5567. Fix script exit code checking in NodeHealthScriptRunner#reportHealthStatus. (Yufei Gu via rchiang)
YARN-3432.  Cluster metrics have wrong Total Memory when there is reserved memory on CS. (Brahma Reddy Battula via curino)
YARN-3430. Made headroom data available on app attempt page of RM WebUI. Contributed by Xuan Gong.
HDFS-9881. DistributedFileSystem#getTrashRoot returns incorrect path for encryption zones.
YARN-5278. Remove unused argument in TestRMWebServicesForCSWithPartitions#setupQueueConfiguration. Contributed by Tao Jie.
HDFS-2347. Fix checkpointTxnCount's comment about editlog size. Contributed by Uma Maheswara Rao G.
HADOOP-10017. Fix NPE in DFSClient#getDelegationToken when doing Distcp from a secured cluster to an insecured cluster. Contributed by Haohui Mai.
HADOOP-9305. Add support for running the Hadoop client on 64-bit AIX. Contributed by Aaron T. Myers.
"HDFS-8821. Explain message ""Operation category X is not supported in state standby"". Contributed by Gautam Gopalakrishnan."
HDFS-5486. Fix TestNameNodeMetrics for HDFS-2832.
HADOOP-14434. Use MoveFileEx to allow renaming a file when the destination exists. Contributed by Lukas Majercak
HDFS-10308. TestRetryCacheWithHA#testRetryCacheOnStandbyNN failing (Rakesh R via cmccabe)
MAPREDUCE-2740. MultipleOutputs in new API creates needless TaskAttemptContexts. Contributed by Todd Lipcon.
HADOOP-6139. Fix the FsShell help messages for rm and rmr.  Contributed by Jakob Homan
HADOOP-6215. fix GenericOptionParser to deal with -D with '=' in the value. Contributed by Amar Kamat.
HDFS-11129. TestAppendSnapshotTruncate fails with bind exception. Contributed by Brahma Reddy Battula
YARN-1301. Added the INFO level log of the non-empty blacklist additions and removals inside ApplicationMasterService. Contributed by Tsuyoshi Ozawa.
"Revert ""HDFS-11280. Allow WebHDFS to reuse HTTP connections to NN. Contributed by Zheng Shao."""
MAPREDUCE-6366. mapreduce.terasort.final.sync configuration in TeraSort doesn't work. Contributed by Takuya Fukudome.
HDFS-3817. Avoid printing SafeModeException stack trace in RPC server. Contributed by Brandon Li.
HDFS-4046. Adding the missed file in revision 1406011
YARN-1728. Regression test for guice-undecoded pathInfo in YARN WebApp. (Yuanbo Liu via gera)
HDFS-7818. OffsetParam should return the default value instead of throwing NPE when the value is unspecified. Contributed by Eric Payne.
HDFS-11757. Query StreamCapabilities when creating balancer's lock file. Contributed by SammiChen.
HADOOP-7145. Configuration.getLocalPath should trim whitespace from the provided directories. Contributed by Todd Lipcon.
HADOOP-8342. HDFS command fails with exception following merge of HADOOP-8325 (tucu)
HADOOP-100046. Print a log message when SSL is enabled (David S. Wang via wang)
HDFS-12619. Do not catch and throw unchecked exceptions if IBRs fail to process. Contributed by Wei-Chiu Chuang.
MAPREDUCE-5688. TestStagingCleanup fails intermittently with JDK7 (Mit Desai via jeagles)
HADOOP-13859. TestConfigurationFieldsBase fails for fields that are DEFAULT values of skipped properties. (Haibo Chen via kasha)
HDFS-69. Improve the 'dfsadmin' commandline help. (harsh)
YARN-7393. RegistryDNS doesn't work in tcp channel. Contributed by Eric Yang
HDFS-7899. Improve EOF error message (Contributed by Jagadesh Kiran N)
HDFS-11074. Remove unused method FsDatasetSpi#getFinalizedBlocksOnPersistentStorage. Contributed by Hanisha Koneru.
MAPREDUCE-5078. TestMRAppMaster fails on Windows due to mismatched path separators. (Contributed by Chris Nauroth)
HDFS-11280. Allow WebHDFS to reuse HTTP connections to NN. Contributed by Zheng Shao.
MAPREDUCE-4742. Fix typo in nnbench#displayUsage. Contributed by Liang Xie.
HDFS-10920. TestStorageMover#testNoSpaceDisk is failing intermittently. Contributed by Rakesh R
HDFS-3665. Add a test for renaming across file systems via a symlink. Contributed by Eli Collins
HDFS-9904. testCheckpointCancellationDuringUpload occasionally fails. Contributed by Lin Yiqun.
HDFS-4858. HDFS DataNode to NameNode RPC should timeout. Contributed by Henry Wang.
HDFS-8428. Erasure Coding: Fix the NullPointerException when deleting file. Contributed by Yi Liu.
HDFS-8857. Erasure Coding: Fix ArrayIndexOutOfBoundsException in TestWriteStripedFileWithFailure. Contributed by Li Bo
YARN-5539. TimelineClient failed to retry on java.net.SocketTimeoutException: Read timed out (Junping Du via Varun Saxena)
HDFS-10336. TestBalancer failing intermittently because of not reseting UserGroupInformation completely. Contributed by Yiqun Lin.
HDFS-13251. Avoid using hard coded datanode data dirs in unit tests(addendum). Contributed by Ajay Kumar.
YARN-6145. Improve log message on fail over. Contributed by Jian He.
MAPREDUCE-4800. Cleanup o.a.h.mapred.MapTaskStatus - remove unused code. (kkambatl via tucu)
HDFS-9085. Show renewer information in DelegationTokenIdentifier#toString. Contributed by Zhihai Xu.
YARN-2606. Application History Server tries to access hdfs before doing secure login (Mit Desai via jeagles)
HADOOP-6103. Clones the classloader as part of Configuration clone. Contributed by Amareshwari Sriramadasu.
YARN-4916. TestNMProxy.tesNMProxyRPCRetry fails. Contributed by Tibor Kiss.
MAPREDUCE-4050. For tasks without assigned containers, changes the node text on the UI to N/A instead of a link to null. (Contributed by Bhallamudi Venkata Siva Kamesh)
HDFS-10242. Cannot create space quota of zero. Contributed by Takashi Ohnishi.
YARN-7360. TestRM.testNMTokenSentForNormalContainer() should be scheduler agnostic.
HADOOP-13640. Fix findbugs warning in VersionInfoMojo.java. Contributed by Yuanbo Liu.
HDFS-3575. HttpFS does not log Exception Stacktraces (brocknoland via tucu)
HADOOP-6940. RawLocalFileSystem's markSupported method misnamed markSupport. Contributed by Tom White.
HDFS-4391. TestDataTransferKeepalive fails when tests are executed in a certain order. Contributed by Andrew Wang.
YARN-2321. NodeManager web UI can incorrectly report Pmem enforcement. Contributed by Leitao Guo
HDFS-11637. Fix javac warning caused by the deprecated key used in TestDFSClientRetries#testFailuresArePerOperation. Contributed by Yiqun Lin.
HADOOP-6312. Remove unnecessary debug logging in Configuration constructor. Contributed by Aaron Kimball
Addendum for YARN-5548. Use MockRMMemoryStateStore to reduce test failures (Bibin A Chundatt via Varun Saxena)
YARN-4510. Fix SLS startup failure caused by NPE. (Bibin A Chundatt via wangda)
HDFS-12850. Ozone: TestContainerPersistence#testListContainer fails frequently due to timed out. Contributed by Yiqun Lin.
HADOOP-9688. Adding a file missed in the commit 1500843
HDFS-5585. Provide admin commands for data node upgrade. Contributed by Kihwal Lee. (missing file)
HADOOP-10252. HttpServer can't start if hostname is not specified. Contributed by Jimmy Xiang.
HDFS-11391. Numeric usernames do no work with WebHDFS FS write access. (Pierre Villard via Yongjun Zhang)
HDFS-2890. DFSUtil#getSuffixIDs should skip unset configurations. Contributed by Aaron T. Myers.
HDFS-13309. Ozone: Improve error message in case of missing nodes. Contributed by Elek, Marton.
YARN-4669. Fix logging statements in resource manager's Application class. Contributed by Sidharta Seethana.
MAPREDUCE-7023. TestHadoopArchiveLogs.testCheckFilesAndSeedApps fails on rerun
HADOOP-13299. JMXJsonServlet is vulnerable to TRACE. (Haibo Chen via kasha)
HADOOP-10451. Remove unused field and imports from SaslRpcServer. Contributed by Benoy Antony.
HDFS-10572. Fix TestOfflineEditsViewer#testGenerated. Contributed by Surendra Singh Lilhore.
Fix treatment of NNHAStatusHeartbeat in protobuffer.
HADOOP-14214. DomainSocketWatcher::add()/delete() should not self interrupt while looping await(). Contributed by Mingliang Liu
YARN-4350. TestDistributedShell fails for V2 scenarios. (Naganarasimha G R via Varun Saxena)
HDFS-7926. NameNode implementation of ClientProtocol.truncate(..) is not idempotent. Contributed by Tsz Wo Nicholas Sze
HADOOP-14912. FairCallQueue may defer servicing calls. Contributed by Daryn Sharp
YARN-1598. HA-related rmadmin commands don't work on a secure cluster (kasha)
MAPREDUCE-2629. Workaround a JVM class loading quirk which prevents JIT compilation of inner classes methods in ReduceContextImpl. Contributed by Eric Caspole.
YARN-5876. TestResourceTrackerService#testGracefulDecommissionWithApp fails intermittently on trunk. (Robert Kanter via Yufei Gu)
HDFS-4646. createNNProxyWithClientProtocol ignores configured timeout value. Contributed by Jagane Sundar 
MAPREDUCE-4380. Empty Userlogs directory is getting created under logs directory (Devaraj K via bobby)
YARN-8162. Remove Method DirectoryCollection#verifyDirUsingMkdir. (Yufei Gu via Haibo Chen)
HADOOP-13795. Skip testGlobStatusThrowsExceptionForUnreadableDir in TestFSMainOperationsSwift. Contributed by John Zhuge.
HDFS-8552. Fix hdfs CLI usage message for namenode and zkfc. Contributed by Brahma Reddy Battula
HDFS-11188. Change min supported DN and NN versions back to 2.x. Contributed by Andrew Wang.
HDFS-11054. Suppress verbose log message in BlockPlacementPolicyDefault. Contributed by Chen Liang.
HDFS-9942. Add an HTrace span when refreshing the groups for a username (cmccabe)
HADOOP-8566. AvroReflectSerializer.accept(Class) throws a NPE if the class has no package (primitive types and arrays). (tucu)
"MAPREDUCE-3542. Support ""FileSystemCounter"" legacy counter group name for compatibility."
YARN-7594. TestNMWebServices#testGetNMResourceInfo fails on trunk. Contributed by Gergely Novák.
HDFS-10783. The option '-maxSize' and '-step' fail in OfflineImageViewer. Contributed by Yiqun Lin.
MAPREDUCE-6045. need close the DataInputStream after open it in TestMapReduce.java (zxu via rkanter)
MAPREDUCE-4005. Fixes broken AM container logs URL on ResourceManager Application Info page. (Contributed by Jason Lowe)
YARN-3956. Fix TestNodeManagerHardwareUtils fails on Mac (Varun Vasudev via wangda)
HDFS-3176. Use MD5MD5CRC32FileChecksum.readFields() in JsonUtil .  Contributed by Kihwal Lee
MAPREDUCE-6191. Improve clearing stale state of Java serialization                 testcase.  (Sam Liu via Eric Yang)
HDFS-7336. Unused member DFSInputStream.buffersize. Contributed by Milan Desai.
YARN-3859. LeafQueue doesn't print user properly for application add. Contributed by Varun Saxena.
YARN-4696. Improving EntityGroupFSTimelineStore on exception handling, test setup, and concurrency.
HADOOP-9372. Fix bad timeout annotations on tests. Contributed by Arpit Agarwal.
HDFS-2541. For a sufficiently large value of blocks, the DN Scanner may request a random number with a negative seed value. Contributed by Harsh J
HDFS-6204. Fix TestRBWBlockInvalidation: change the last sleep to a loop.
HDFS-11818. TestBlockManager.testSufficientlyReplBlocksUsesNewRack fails intermittently. Contributed by Nathan Roberts
HADOOP-7721. Add a log before login in KerberosAuthenticationHandler.
HDFS-10619. Cache path in InodesInPath. Contributed by Daryn Sharp.
HADOOP-11648. Set DomainSocketWatcher thread name explicitly. Contributed by Liang Xie.
HDFS-6033. PBImageXmlWriter incorrectly handles processing cache directives. Contributed by Aaron T. Myers.
YARN-6297. TestAppLogAggregatorImp.verifyFilesUploaded() should check # of filed uploaded with that of files expected (haibochen via rkanter)
HADOOP-13072. WindowsGetSpaceUsed constructor should be public (Vinayakumar B via cmccabe)
YARN-1046. Disable mem monitoring my default in MiniYARNCluster (Karthik Kambatla via Sandy Ryza)
HDFS-7258. CacheReplicationMonitor rescan schedule log should use DEBUG level instead of INFO level. Contributed by Xiaoyu Yao.
HDFS-3169. TestFsck should test multiple -move operations in a row. Contributed by Colin Patrick McCabe
Correcting the check-in mistake for HADOOP-10581.
YARN-1083. Changed ResourceManager to fail when the expiry interval is less than the configured node-heartbeat interval. Contributed by Zhijie Shen.
HADOOP-14150. Implement getHomeDirectory() method in NativeAzureFileSystem. Contributed by Santhosh G Nayak
HDFS-10738. Fix TestRefreshUserMappings.testRefreshSuperUserGroupsConfiguration test failure. Contributed by Rakesh R.
HDFS-4058. DirectoryScanner may fail with IOOB if the directory scanning threads return out of volume order. Contributed by Eli Collins
YARN-605. Fix failing unit test in TestNMWebServices when versionInfo has parantheses like when running on a git checkout. Contributed by Hitesh Shah.
YARN-6354. LeveldbRMStateStore can parse invalid keys when recovering reservations. Contributed by Jason Lowe
HDFS-11861. ipc.Client.Connection#sendRpcRequest should log request name. Contributed by John Zhuge.
MAPREDUCE-4936. JobImpl uber checks for cpu are wrong. Contributed by Arun C Murthy
HADOOP-12388. Fix components' version information in the web page About the Cluster. Contributed by Jun Gong.
YARN-2461. Fix PROCFS_USE_SMAPS_BASED_RSS_ENABLED property in YarnConfiguration. (rchiang via rkanter)
MAPREDUCE-5725. Make explicit that TestNetworkedJob relies on the Capacity Scheduler (Sandy Ryza)
YARN-7410. Cleanup FixedValueResource to avoid dependency to ResourceUtils. Contributed by Wangda Tan.
YARN-7453. Fix issue where RM fails to switch to active after first successful start. (Rohith Sharma K S via asuresh)
HADOOP-11243. SSLFactory shouldn't allow SSLv3. (Wei Yan via kasha)
HADOOP-10291. TestSecurityUtil#testSocketAddrWithIP fails due to test order dependency. (Contributed by Mit Desai)
MAPREDUCE-4129. Lots of unneeded counters log messages (Ahmed Radwan via bobby)
HADOOP-9563. Fix incompatibility introduced by HADOOP-9523. Contributed by Tian Hong Wang.
HADOOP-10173. Remove UGI from DIGEST-MD5 SASL server creation. Contributed by Daryn Sharp.
HDFS-12070. Failed block recovery leaves files open indefinitely and at risk for data loss. Contributed by Kihwal Lee.
YARN-3832. Resource Localization fails on a cluster due to existing cache directories. Contributed by Brahma Reddy Battula
MAPREDUCE-6721. mapreduce.reduce.shuffle.memory.limit.percent=0.0 should be legal to enforce shuffle to disk. (Gera Shegalov via ozawa)
HDFS-4880. Print the image and edits file loaded by the namenode in the logs. Contributed by Arpit Agarwal.
HDFS-13239. Fix non-empty dir warning message when setting default EC policy. Contributed by Bharat Viswanadham.
HDFS-7308. Change the packet chunk size computation in DFSOutputStream in order to enforce packet size <= 64kB.  Contributed by Takuya Fukudome
HADOOP-10249. LdapGroupsMapping should trim ldap password read from file. Contributed by Dilli Armugam.
HDFS-11262. Remove unused variables in FSImage.java. Contributed by Jagadesh Kiran N.
HADOOP-6717. Log levels in o.a.h.security.Groups too high. Todd Lipcon via jghoman.
MAPREDUCE-4206. Sorting by Last Health-Update on the RM nodes page sorts does not work correctly (Jonathon Eagles via tgraves)
HADOOP-13034. Log message about input options in distcp lacks some items (Takashi Ohnishi via aw)
HADOOP-13235. Use Date and Time API in KafkaSink.
HDFS-8592. SafeModeException never get unwrapped. Contributed by Haohui Mai.
HADOOP-12519. hadoop-azure tests should avoid creating a metrics configuration fiale in the module root directory. Contributed by Chris Nauroth.
MAPREDUCE-6751. Add debug log message when splitting is not possible due to unsplittable compression. (Peter Vary via rchiang)
HDFS-3462. TestDFSClientRetries.busyTest() should restore default xceiver count in the config. Contributed by Madhukara Phatak. (harsh)
HDFS-9299. Give ReplicationMonitor a readable thread name (Staffan Friberg via Colin P. McCabe)
HDFS-3325. When configuring 'dfs.namenode.safemode.threshold-pct' to a value greater or equal to 1 there is mismatch in the UI report (Contributed by J.Andreina)
YARN-2011. Fix typo and warning in TestLeafQueue (Contributed by Chen He)
HADOOP-12416. Trash messages should be handled by Logger instead of being delivered on System.out. Contributed by Mingliang Liu.
HADOOP-6991.  Fix SequenceFile::Reader to honor file lengths and call openFile (cdouglas via omalley)
HDFS-7199. DFSOutputStream should not silently drop data if DataStreamer crashes with an unchecked exception (rushabhs via cmccabe)
HDFS-8806. Inconsistent metrics: number of missing blocks with replication factor 1 not properly cleared. Contributed by Zhe Zhang.
HDFS-4440. Avoid annoying log message when dfs.domain.socket.path is not set. Contributed by Colin Patrick McCabe.
HADOOP-10694. Remove synchronized input streams from Writable deserialization. Contributed by Gopal V and Rajesh Balamohan.
MAPREDUCE-5036. Default shuffle handler port should not be 8080. Contributed by Sandy Ryza.
Trivial fix for minor refactor error for YARN-521
YARN-5299. Log Docker run command when container fails. Contributed by Varun Vasudev.
HDFS-6499. Use NativeIO#renameTo instead of File#renameTo in FileJournalManager. Contributed by Yongjun Zhang.
YARN-6480. Timeout is too aggressive for TestAMRestart.testPreemptedAMRestartOnRMRestart. Contributed by Eric Badger
HDFS-7328. TestTraceAdmin assumes Unix line endings. Contributed by Chris Nauroth.
HDFS-2788. HdfsServerConstants#DN_KEEPALIVE_TIMEOUT is dead code. Contributed by Eli Collins
HADOOP-12284. UserGroupInformation doAs can throw misleading exception (Aaron Dosset via stevel)
MAPREDUCE-6389. Fix BaileyBorweinPlouffe CLI usage message. Contributed by Brahma Reddy Battula.
HDFS-12470. DiskBalancer: Some tests create plan files under system directory. Contributed by Hanisha Koneru.
YARN-2061. Revisit logging levels in ZKRMStateStore. (Ray Chiang via kasha)
HDFS-5140. Too many safemode monitor threads being created in the standby namenode causing it to fail with out of memory error. Contributed by Jing Zhao.
HDFS-10965. Add unit test for HDFS command 'dfsadmin -printTopology'. Contributed by Xiaobing Zhou
YARN-3707. RM Web UI queue filter doesn't work. Contributed by Wangda Tan
MAPREDUCE-2938. Log application submission failure in CapacityScheduler
HADOOP-10473. TestCallQueueManager should interrupt before counting calls.
HADOOP-10517. InputStream is not closed in two methods of JarFinder. Contributed by Ted Yu.
MAPREDUCE-6287. Deprecated methods in org.apache.hadoop.examples.Sort. Contributed by Chao Zhang.
HDFS-5895. HDFS cacheadmin -listPools has exit_code of 1 when the command returns 0 result. Contributed by Tassapol Athiapinya.
HADOOP-11117 UGI HadoopLoginModule doesn't catch & wrap all kerberos-related exceptions (stevel)
HDFS-2606. webhdfs client filesystem impl must set the content-type header for create/append. (tucu)
HADOOP-14108. CLI MiniCluster: add an option to specify NameNode HTTP port. Contributed by Takanobu Asanuma.
"HADOOP-13166. Add getFileStatus(""/"") test to AbstractContractGetFileStatusTest. Contributed by Steve Loughran"
Remove SHORT_STRING_MAX, left out of the previous commit.
YARN-2766. Made ApplicationHistoryManager return a sorted list of apps, attempts and containers. Contributed by Robert Kanter.
HDFS-6601. Issues in finalizing rolling upgrade when there is a layout version change. Contributed by Kihwal Lee.
HADOOP-13538. Deprecate getInstance and initialize methods with Path in TrashPolicy. Contributed by Yiqun Lin.
YARN-368. Fixed a typo in error message in Auxiliary services. Contributed by Albert Chu.
MAPREDUCE-6503. archive-logs tool should use HADOOP_PREFIX instead of HADOOP_HOME (rkanter)
YARN-7503. Configurable heap size / JVM opts in service AM. Contributed by Jonathan Hung
"Revert ""HADOOP-11361. Fix a race condition in MetricsSourceAdapter.updateJmxCache. Contributed by Brahma Reddy Battula."""
HADOOP-8362. Improve exception message when Configuration.set() is called with a null key or value. Contributed by Madhukara Phatak and Suresh Srinivas (harsh)
HADOOP-8725. MR is broken when security is off (daryn via bobby)
HDFS-10987. Make Decommission less expensive when lot of blocks present. Contributed by Brahma Reddy Battula.
HADOOP-12687. SecureUtil#QualifiedHostResolver#getByName should also try to resolve direct hostname (Sunil G via rohithsharmaks)
YARN-7396. NPE when accessing container logs due to null dirsHandler. Contributed by Jonathan Hung
HADOOP-8175. Add -p option to mkdir in FsShell.  Contributed by Daryn Sharp
HDFS-7126. TestEncryptionZonesWithHA assumes Unix path separator for KMS key store path. Contributed by Xiaoyu Yao.
MAPREDUCE-5561. org.apache.hadoop.mapreduce.v2.app.job.impl.TestJobImpl testcase failing on trunk. Contributed by Karthik Kambatla
MAPREDUCE-4856. TestJobOutputCommitter uses same directory as TestJobCleanup. Contributed by Sandy Ryza.
HADOOP-13552. RetryInvocationHandler logs all remote exceptions. Contributed by Jason Lowe
HDFS-6143. WebHdfsFileSystem open should throw FileNotFoundException for non-existing paths. Contributed by Gera Shegalov.
HDFS-9413. getContentSummary() on standby should throw StandbyException. (Brahma Reddy Battula via mingma)
YARN-2794. Fixed log messages about distributing system-credentials. Contributed by Jian He.
MAPREDUCE-6234. TestHighRamJob fails due to the change in MAPREDUCE-5785. (Masatake Iwasaki via kasha)
HDFS-11410. Use the cached instance when edit logging SetAclOp, SetXAttrOp and RemoveXAttrOp.
HDFS-12378.  TestClientProtocolForPipelineRecovery#testZeroByteBlockRecovery fails on trunk. (Lei (Eddy) Xu)
HDFS-9087. Add some jitter to DataNode.checkDiskErrorThread (Elliott Clark via Colin P. McCabe)
Amend previous commit of HDFS-3626: accidentally included a hunk from HADOOP-8621 in svn commit. Reverting that hunk
HDFS-6998. warning message 'ssl.client.truststore.location has not been set' gets printed for hftp command. (Contributed by Xiaoyu Yao)
YARN-5809. AsyncDispatcher possibly invokes multiple shutdown threads when handling exception (Jian He via Varun Saxena)
HDFS-7741. Remove unnecessary synchronized in FSDataInputStream and HdfsDataInputStream. (yliu)
HADOOP-8710. Remove ability for users to easily run the trash emptire. Contributed by Eli Collins
YARN-7049. FSAppAttempt preemption related fields have confusing names. (Contributed by Karthik Kambatla via Yufei Gu)
HADOOP-11877. SnappyDecompressor's Logger class name is wrong ( Contributed by surendra singh lilhore)
HADOOP-8086. KerberosName silently sets defaultRealm to empty if the Kerberos config is not found, it should log a WARN (tucu)
HADOOP-12095. org.apache.hadoop.fs.shell.TestCount fails. Contributed by Brahma Reddy Battula.
HDFS-12380. Simplify dataQueue.wait condition logical operation in DataStreamer::run(). Contributed by liaoyuxiangqin
HDFS-8358. TestTraceAdmin fails. Contributed by Masatake Iwasaki.
HDFS-6836. HDFS INFO logging is verbose & uses file appenders. (Contributed by Xiaoyu Yao)
HADOOP-7542. Change Configuration XML format to 1.1 to support for serializing additional characters Contributed by Christopher Egner.
HDFS-6173. Move the default processor from Ls to Web in OfflineImageViewer. Contributed by Akira Ajisaka.
Revert previous commit r1301273 for HADOOP-8175.
HADOOP-13232. Typo in exception in ValueQueue.java. Contributed by Jiayi Zhou.
HDFS-2532. Add timeout to TestDfsOverAvroRpc
HADOOP-7811. TestUserGroupInformation#testGetServerSideGroups test fails in chroot. (Jonathan Eagles via mahadev)
YARN-3472. Fixed possible leak in DelegationTokenRenewer#allTokens. Contributed by Rohith Sharmaks
HDFS-13039. StripedBlockReader.createBlockReader leaks socket on IOException. (Lei (Eddy) Xu)
MAPREDUCE-2840. mr279 TestUberAM.testSleepJob test fails. (jonathan eagles via mahadev)
HADOOP-14427. Avoid reloading of Configuration in ViewFileSystem creation. Contributed by Vinayakumar B
HDFS-11947. When constructing a thread name, BPOfferService may print a bogus warning message. Contributed by Weiwei Yang
HADOOP-13467. Shell#getSignalKillCommand should use the bash builtin on Linux. (Arpit Agarwal)
HDFS-2682. When a FailoverProxyProvider is used, Client should not retry for 45 times if it is timing out to connect to server. Contributed by Uma Maheswara Rao G.
HDFS-9435. TestBlockRecovery#testRBWReplicas is failing intermittently. Contributed by Rakesh R.
YARN-5394. Remove bind-mount /etc/passwd for Docker containers. Contributed by Zhankun Tang.
HADOOP-10318. Incorrect reference to nodeFile in RumenToSLSConverter error message. Contributed by Wei Yan.
HDFS-13363. Record file path when FSDirAclOp throws AclException. Contributed by Gabor Bota.
HDFS-13036. Reusing the volume storage ID obtained by replicaInfo. Contributed by liaoyuxiangqin.
YARN-6552. Increase YARN test timeouts from 1 second to 10 seconds. Contributed by Eric Badger
MAPREDUCE-5687. Correcting the previous commit by ushing the right patch.
"Revert ""YARN-5567. Fix script exit code checking in NodeHealthScriptRunner#reportHealthStatus. (Yufei Gu via rchiang)"""
HDFS-10415. TestDistributedFileSystem#MyDistributedFileSystem attempts to set up statistics before initialize() is called (Mingliang Liu via cmccabe)
YARN-1176. RM web services ClusterMetricsInfo total nodes doesn't include unhealthy nodes (Jonathan Eagles via tgraves)
YARN-5822. Log ContainerRuntime initialization error in LinuxContainerExecutor. Contributed by Sidharta Seethana.
YARN-981. Fixed YARN webapp so that /logs servlet works like before. Contributed by Jian He.
HADOOP-10171. TestRPC fails intermittently on jkd7 (Mit Desai via jeagles)
YARN-7385. TestFairScheduler#testUpdateDemand and TestFSLeafQueue#testUpdateDemand are failing with NPE (yufeigu via rkanter)
HDFS-6206. Fix NullPointerException in DFSUtil.substituteForWildcardAddress.
YARN-4598. Invalid event: RESOURCE_FAILED at CONTAINER_CLEANEDUP_AFTER_KILL. Contributed by tangshangwen
HADOOP-6534. Trim whitespace from directory lists initializing LocalDirAllocator. Contributed by Todd Lipcon
MAPREDUCE-2855. Passing a cached class-loader to ResourceBundle creator to minimize counter names lookup time. Contributed by Siddarth Seth.
HDFS-12933. Improve logging when DFSStripedOutputStream failed to write some blocks. Contributed by chencan.
HADOOP-12404. Disable caching for JarURLConnection to avoid sharing JarFile with other users when loading resource from URL in Configuration class. Contributed by Zhihai Xu
YARN-4298. Fix findbugs warnings in hadoop-yarn-common. Contributed by Sunil G.
HDFS-10729. Improve log message for edit loading failures caused by FS limit checks. Contributed by Wei-Chiu Chuang.
HDFS-12304. Remove unused parameter from FsDatasetImpl#addVolume. Contributed by Chen Liang.
MAPREDUCE-6286. A typo in HistoryViewer makes some code useless, which causes counter limits are not reset correctly. Contributed by Zhihai Xu.
HADOOP-8014. ViewFileSystem does not correctly implement getDefaultBlockSize, getDefaultReplication, getContentSummary
HDFS-6587. Bug in TestBPOfferService can cause test failure. (Contributed by Zhilei Xu)
HDFS-8207. Improper log message when blockreport interval compared with initial delay. Contributed by Brahma Reddy Battula and Ashish Singhi.
HADOOP-8323. Revert HADOOP-7940, cause it may cause a performance regression. (harsh)
YARN-7180. Remove class ResourceType. Contributed by Sunil G.
YARN-2155. FairScheduler: Incorrect threshold check for preemption. (Wei Yan via kasha)
HADOOP-11378. Fix new findbugs warnings in hadoop-kms. Contributed by Li Lu.
YARN-180. Capacity scheduler - containers that get reserved create container token to early (acmurthy and bobby)
HDFS-5103. TestDirectoryScanner fails on Windows. Contributed by Chuan Liu.
YARN-4402. TestNodeManagerShutdown And TestNodeManagerResync fails with bind exception. Contributed by Brahma Reddy Battula
HDFS-11840. Log HDFS Mover exception message of exit to its own log. Contributed by LiXin Ge.
MAPREDUCE-4010.  TestWritableJobConf fails on trunk (tucu via bobby)
HDFS-12963. Error log level in ShortCircuitRegistry#removeShm. Contributed by hu xiaodong.
HDFS-11878. Fix journal missing log httpServerUrl address in JournalNodeSyncer. Contributed by Hanisha Koneru.
MAPREDUCE-5834. Increased test-timeouts in TestGridMixClasses to avoid occassional failures. Contributed by Mit Desai.
YARN-5210 NPE in Distributed Shell while publishing DS_CONTAINER_START event (Varun Saxena via Vrushali C)
HDFS-7236. Fix TestOpenFilesWithSnapshot#testOpenFilesWithMultipleSnapshots. Contributed by Yongjun Zhang.
HADOOP-15390. Yarn RM logs flooded by DelegationTokenRenewer trying to renew KMS tokens (xiaochen via rkanter)
HDFS-6462. NFS: fsstat request fails with the secure hdfs. Contributed by Brandon Li
MAPREDUCE-3964. ResourceManager does not have JVM metrics (Jason Lowe via bobby)
HDFS-6397. NN shows inconsistent value in deadnode count. Contributed by Mohammad Kamrul Islam.
HDFS-7922. ShortCircuitCache#close is not releasing ScheduledThreadPoolExecutors (Rakesh R via Colin P. McCabe)
HADOOP-15294. TestUGILoginFromKeytab fails on Java9
YARN-4251. TestAMRMClientOnRMRestart#testAMRMClientOnAMRMTokenRollOverOnRMRestart is failing. Contributed by Brahma Reddy Battula.
MAPREDUCE-4723 amendment. Fix JobHistory Event handling. (Contributed by Sandy Ryza)
YARN-6228: EntityGroupFSTimelineStore should allow configurable cache stores. Contributed by Li Lu
HDFS-5666. Fix inconsistent synchronization in BPOfferService (jxiang via cmccabe)
HDFS-9434. Recommission a datanode with 500k blocks may pause NN for 30 seconds for printing info log messags.
HDFS-4090. getFileChecksum() result incompatible when called against zero-byte files. (Kihwal Lee via daryn)
HADOOP-14486 TestSFTPFileSystem#testGetAccessTime test failure using openJDK 1.8.0. Contributed by Hongyuan Li.
HADOOP-10939. Fix TestKeyProviderFactory testcases to use default 128 bit length keys. Contributed by Arun Suresh.
YARN-2810. TestRMProxyUsersConf fails on Windows VMs. Contributed by Varun Vasudev
YARN-2789. Re-instated the NodeReport.newInstance private unstable API modified in YARN-2698 so that tests in YARN frameworks don't break. Contributed by Wangda Tan.
HADOOP-14892. MetricsSystemImpl should use Time.monotonicNow for measuring durations. Contributed by Chetna Chaudhari.
YARN-5444. Fix failing unit tests in TestLinuxContainerExecutorWithMocks. Contributed by Yufei Gu.
HDFS-11178. TestAddStripedBlockInFBR#testAddBlockInFullBlockReport fails frequently in trunk. Contributed By Yiqun Lin.
HDFS-7797. Add audit log for setQuota operation (Rakesh R via umamahesh)
HDFS-8223. Should calculate checksum for parity blocks in DFSStripedOutputStream. Contributed by Yi Liu.
YARN-188. Coverage fixing for CapacityScheduler (Aleksey Gorshkov via bobby)
HDFS-4932. Avoid a wide line on the name node webUI if we have more Journal nodes. Contributed by Fengdong Yu.
HADOOP-11570. S3AInputStream.close() downloads the remaining bytes of the object from S3. (Dan Hecht via stevel).
HADOOP-10280. Make Schedulables return a configurable identity of user or group. (Contributed by Chris Li)
HDFS-8337. Accessing httpfs via webhdfs doesn't work from a jar with kerberos. Contributed by Yongjun Zhang.
YARN-1785. FairScheduler treats app lookup failures as ERRORs. (bc Wong via kasha)
MAPREDUCE-5886. Allow wordcount example job to accept multiple input paths. Contributed by Chris Nauroth.
HADOOP-6939. Inconsistent lock ordering in AbstractDelegationTokenSecretManager. Contributed by Todd Lipcon.
Revert accidental change in previous commit.
HDFS-3202. NamespaceInfo PB translation drops build version. Contributed by Aaron T. Myers.
HADOOP-13414. Hide Jetty Server version header in HTTP responses. Contributed by Surendra Singth Lilhore.
HADOOP-6596. Add a version field to the AbstractDelegationTokenIdentifier's serialized value. (omalley)
HADOOP-13565. KerberosAuthenticationHandler#authenticate should not rebuild SPN based on client request. Contributed by Xiaoyu Yao.
YARN-1481. Reverting addendum patch
YARN-7100. Added JsonIgnore annotation to Resource#getMemoryMB. Contributed by Eric Yang
YARN-4525. Fix bug in RLESparseResourceAllocation.getRangeOverlapping(). (Ishai Menache and Carlo Curino via asuresh)
HDFS-5581. NameNodeFsck should use only one instance of BlockPlacementPolicy (vinay via cmccabe)
YARN-1845. Elapsed time for failed tasks that never started is wrong (Rushabh S Shah via jeagles)
HADOOP-12117. Potential NPE from Configuration#loadProperty with allowNullValueProperties set. (Contributed by zhihai xu)
MAPREDUCE-5166. Fix ConcurrentModificationException due to insufficient synchronization on updates to task Counters. Contributed by Sandy Ryza.
HDFS-11053. Unnecessary superuser check in versionRequest(). Contributed by Kihwal Lee.
YARN-4387. Fix typo in FairScheduler log message. Contributed by Xin Wang.
HADOOP-8437. getLocalPathForWrite should throw IOException for invalid paths. Contributed by Brahma Reddy Battula
HADOOP-14494. ITestJets3tNativeS3FileSystemContract tests NPEs in teardown if store undefined. Contributed by Steve Loughran
YARN-4136. LinuxContainerExecutor loses info when forwarding ResourceHandlerException. Contributed by Bibin A Chundatt.
HDFS-12887. [READ] Allow Datanodes with Provided volumes to start when blocks with the same id exist locally
YARN-60: Fix minor merge conflict (bobby)
HADOOP-14029. Fix KMSClientProvider for non-secure proxyuser use case. Contributed by Xiaoyu Yao.
HADOOP-13422. ZKDelegationTokenSecretManager JaasConfig does not work well with other ZK users in process. Contributed by Sergey Shelukhin.
YARN-5118. Tests fails with localizer port bind exception. Contributed by Brahma Reddy Battula.
HDFS-9237. NPE at TestDataNodeVolumeFailureToleration#tearDown. Contributed by Brahma Reddy Battula.
YARN-3197. Confusing log generated by CapacityScheduler. Contributed by Varun Saxena.
YARN-3336. FileSystem memory leak in DelegationTokenRenewer.
HDFS-4517. Cover class RemoteBlockReader with unit tests. Contributed by Vadim Bondarev and Dennis Y.
YARN-2668 yarn-registry JAR won't link against ZK 3.4.5. (stevel)
HADOOP-10562. Namenode exits on exception without printing stack trace in AbstractDelegationTokenSecretManager. (Contributed by Suresh Srinivas)
HADOOP-10078. KerberosAuthenticator always does SPNEGO. (rkanter via tucu)
"Revert ""HDFS-13388. RequestHedgingProxyProvider calls multiple configured NNs all the time. Contributed by Jinglun."""
YARN-656. In scheduler UI, including reserved memory in Memory Total can make it exceed cluster capacity. (Sandy Ryza)
YARN-5816. TestDelegationTokenRenewer#testCancelWithMultipleAppSubmissions is still flakey. Contributed by Robert Kanter
HDFS-5701. Fix the CacheAdmin -addPool -maxTtl option name. Contributed by Stephen Chu.
HDFS-11048. Audit Log should escape control characters. Contributed by Eric Badger
HDFS-3454. Balancer unconditionally logs InterruptedException at INFO level on shutdown if security is enabled. Contributed by Eli Collins
HDFS-11152. Start erasure coding policy ID number from 1 instead of 0 to void potential unexpected errors. Contributed by SammiChen.
YARN-4411. RMAppAttemptImpl#createApplicationAttemptReport throws IllegalArgumentException. Contributed by Bibin A Chundatt and yarntime.
"HADOOP-11418. Property ""io.compression.codec.lzo.class"" does not work with other value besides default. (Yuanbo Liu via iwasakims)"
HADOOP-11041. VersionInfo specifies subversion (Tsuyoshi OZAWA via aw)
HDFS-7660. BlockReceiver#close() might be called multiple times, which causes the fsvolume reference being released incorrectly. (Lei Xu via yliu)
HDFS-5726. Fix compilation error in AbstractINodeDiff for JDK7. Contributed by Jing Zhao.
YARN-4773. Log aggregation performs extraneous filesystem operations when rolling log aggregation is disabled. Contributed by Jun Gong
HADOOP-14637. GenericTestUtils.waitFor needs to check condition again after max wait time. Contributed by Daniel Templeton
HDFS-3615. Two BlockTokenSecretManager findbugs warnings. Contributed by Aaron T. Myers.
HADOOP-12469. distcp shout not ignore the ignoreFailures option. Contributed by Mingliang Liu.
HADOOP-11085. Excessive logging by org.apache.hadoop.util.Progress when value is NaN. Contributed by Mit Desai
HDFS-11253. FileInputStream leak on failure path in BlockSender. Contributed by Arpit Agarwal
HDFS-5961. OIV cannot load fsimages containing a symbolic link. Contributed by Kihwal Lee.
HDFS-10731. FSDirectory#verifyMaxDirItems does not log path name. Contributed by Wei-Chiu Chuang.
YARN-1898. Addendum patch to ensure /jmx and /metrics are re-directed to Active RM.
YARN-500. Fixed YARN webapps to not roll-over ports when explicitly asked to use non-ephemeral ports. Contributed by Kenji Kikushima.
HDFS-6367. EnumSetParam$Domain#parse fails for parameter containing more than one enum. Contributed by Yi Liu.
 MAPREDUCE-4336. Distributed Shell fails when used with the CapacityScheduler (ahmed via tucu)
Fix the length of the secret key.
YARN-3433. Jersey tests failing with Port in Use -again.  (Brahma Reddy Battula)
YARN-302. Fair scheduler assignmultiple should default to false. (sandyr via tucu)
MAPREDUCE-4301. Dedupe some strings in MRAM for memory savings (bobby via tgraves)
HDFS-5803. TestBalancer.testBalancer0 fails. Contributed by Chen He.
YARN-5297. Avoid printing a stack trace when recovering an app after the RM restarts. (Junping Du via Varun Saxena).
HDFS-10333. Intermittent org.apache.hadoop.hdfs.TestFileAppend failure in trunk. Contributed by Yiqun Lin.
HDFS-2868. Expose xceiver counts via the DataNode MXBean. (harsh)
MAPREDUCE-5191. TestQueue#testQueue fails with timeout on Windows. (Contributed by Ivan Mitic)
HDFS-2757. Cannot read a local block that's being written to when using the local read short circuit. Contributed by Jean-Daniel Cryans
MAPREDUCE-2984. Better error message for displaying completed containers. Contributed by Devaraj K.
"Revert ""HDFS-9569.  Log the name of the fsimage being loaded for better supportability. Contributed by Yongjun Zhang."""
Resolve trivial compilation error after previous merge
HADOOP-12817. Enable TLS v1.1 and 1.2 (rkanter)
HADOOP-11629. WASB filesystem should not start BandwidthGaugeUpdater if fs.azure.skip.metrics set to true. Contributed by Shanyu Zhao.
HDFS-10934. TestDFSShell#testStat fails intermittently. Contributed by Eric Badger
HADOOP-13202. Avoid possible overflow in org.apache.hadoop.util.bloom.BloomFilter#getNBytes. Contributed by Kai Sasaki.
HADOOP-10296. Incorrect null check in SwiftRestClient#buildException(). Contributed by Rahul Palamuttam and Kanaka Kumar Avvaru.
MAPREDUCE-4777. In TestIFile, testIFileReaderWithCodec relies on testIFileWriterWithCodec. Contributed by Sandy Ryza
HDFS-13268. TestWebHdfsFileContextMainOperations fails on Windows. Contributed by Xiao Liang.
HADOOP-8986. Server$Call object is never released after it is sent (bobby)
HADOOP-9560. metrics2#JvmMetrics should have max memory size of JVM. Contributed by Tsuyoshi Ozawa.
HDFS-9659. EditLogTailerThread to Active Namenode RPC should timeout (Contributed by surendra singh lilhore)
HADOOP-11595. Add default implementation for AbstractFileSystem#truncate. (yliu)
HADOOP-15109. TestDFSIO -read -random doesn't work on file sized 4GB. Contributed by Ajay Kumar.
YARN-3713. Remove duplicate function call storeContainerDiagnostics in ContainerDiagnosticsUpdateTransition (zxu via rkanter)
MAPREDUCE-6836. exception thrown when accessing the job configuration web UI. Contributed by Haibo Chen
YARN-7542. Fix issue that causes some Running Opportunistic Containers to be recovered as PAUSED. (Sampada Dehankar via asuresh)
HDFS-7059. HAadmin transtionToActive with forceActive option can show confusing message. Contributed by Rushabh Shah.
HDFS-7217. Better batching of IBRs. Contributed by Kihwal Lee.
MAPREDUCE-4031. Prevent a Node Manager hang during shutdown. (Contributed by Devaraj K)
YARN-7285. ContainerExecutor always launches with priorities due to yarn-default property. Contributed by Jason Lowe.
HADOOP-6724. IPC doesn't properly handle IOEs thrown by socket factory. Contributed by Todd Lipcon.
MAPREDUCE-6483. Replace deprecated method NameNode.getUri() with DFSUtilClient.getNNUri() in TestMRCredentials. Contributed by Mingliang Liu.
MAPREDUCE-3038. job history server not starting because conf() missing HsController (Jeffrey Naisbitt via mahadev)
MAPREDUCE-6718. add progress log to JHS during startup (haibochen via rkanter)
MAPREDUCE-4570. ProcfsBasedProcessTree#constructProcessInfo() prints a warning if procfsDir/<pid>/stat is not found. (Ahmed Radwan via bobby)
MAPREDUCE-3513. Capacity Scheduler web UI has a spelling mistake for Memory. (chackaravarthy via mahadev)
HDFS-4676. TestHDFSFileSystemContract should set MiniDFSCluster variable to null to free up memory. Contributed by Suresh Srinivas.
HDFS-2708. Stats for the # of blocks per DN. Contributed by Aaron T. Myers.
HDFS-4259. Improve pipeline DN replacement failure message. Contributed by Harsh J. (harsh)
MAPREDUCE-4202. TestYarnClientProtocolProvider is broken (Daryn Sharp via bobby)
HDFS-8273. FSNamesystem#Delete() should not call logSync() when holding the lock. Contributed by Haohui Mai.
HADOOP-10169. Remove the unnecessary synchronized in JvmMetrics class. Contributed by Liang Xie.
HDFS-6754. TestNamenodeCapacityReport.testXceiverCount may sometimes fail due to lack of retry. Contributed by Mit Desai.
YARN-5353. ResourceManager can leak delegation tokens when they are shared across apps. (Jason Lowe via Varun Saxena).
"Revert ""YARN-5533. JMX AM Used metrics for queue wrong when app submited to nodelabel partition (Bibin A Chundatt via Varun Saxena)"""
HADOOP-15114. Add closeStreams(...) to IOUtils (addendum). Contributed by Ajay Kumar.
HDFS-4020. TestRBWBlockInvalidation may time out. Contributed by Eli Collins
"MAPREDUCE-2622. Remove the last remaining reference to the deprecated configuration ""io.sort.mb"". Contributed by Harsh J Chouraria."
HDFS-9745. TestSecureNNWithQJM#testSecureMode sometimes fails with timeouts. Contributed by Xiao Chen
HADOOP-15379. Make IrqHandler.bind() public. Contributed by Ajay Kumar
HADOOP-14230. TestAdlFileSystemContractLive fails to clean up. Contributed by John Zhuge.
YARN-6287. RMCriticalThreadUncaughtExceptionHandler.rmContext should be final (Contributed by Corey Barker via Daniel Templeton)
MAPREDUCE-2670. Fixing spelling mistake in FairSchedulerServlet.java. Contributed by Eli Collins
YARN-2596. TestWorkPreservingRMRestart fails with FairScheduler. (kasha)
HADOOP-8283. Allow tests to control token service value (Daryn Sharp via bobby)
MAPREDUCE-6136. MRAppMaster doesn't shutdown file systems. Contributed by Brahma Reddy Battula.
HDFS-10344. DistributedFileSystem#getTrashRoots should skip encryption zone that does not have .Trash. Contributed by Xiaoyu Yao.
YARN-6332. Make RegistrySecurity use short user names for ZK ACLs. Contributed by Billie Rinaldi
HDFS-9443. Disabling HDFS client socket cache causes logging message printed to console for CLI commands. Contributed by Chris Nauroth.
MAPREDUCE-5155. Race condition in test case TestFetchFailure cause it to fail (Contributed by Haibo Chen via Daniel Templeton)
HADOOP-11311. Restrict uppercase key names from being created with JCEKS.
HADOOP-11130. NFS updateMaps OS check is reversed. Contributed by Brandon Li
YARN-2242. Improve exception information on AM launch crashes. (Contributed by Li Lu)
YARN-5001. Aggregated Logs root directory is created with wrong group if nonexistent. Contributed by Haibo Chen
YARN-4436. DistShell ApplicationMaster.ExecBatScripStringtPath is misspelled (mattlamantia via rkanter)
HDFS-9073. Fix failures in TestLazyPersistLockedMemory   testReleaseOnEviction(). (J.Andreina via stevel)
HDFS-5580. Fix infinite loop in Balancer.waitForMoveCompletion. (Binglin Chang via junping_du)
YARN-4289. TestDistributedShell failing with bind exception.   (Brahma Reddy Battula via stevel)
YARN-757. Changed TestRMRestart to use the default scheduler to avoid test failures. Contributed by Bikas Saha.
HADOOP-9898. Set SO_KEEPALIVE on all our sockets. Contributed by Todd Lipcon.
HDFS-7753. Fix Multithreaded correctness Warnings in BackupImage. Contributed by Rakesh R and Konstantin Shvachko.
HADOOP-8373. Port RPC.getServerAddress to 0.23 (Daryn Sharp via bobby)
HDFS-7875. Improve log message when wrong value configured for dfs.datanode.failed.volumes.tolerated. Contributed by Nijel.
HDFS-10600. PlanCommand#getThrsholdPercentage should not use throughput value. (Yiqun Lin via lei)
MAPREDUCE-3411. Performance Upgrade for jQuery (Jonathan Eagles via mahadev)
MAPREDUCE-6816. Progress bars in Web UI always at 100%. Contributed by Shen Yinjie.
HDFS-7452. skip StandbyException log for getCorruptFiles() (Contributed by Bramha Reddy Battula)
HDFS-11932. BPServiceActor thread name is not correctly set. Contributed by Chen Liang.
YARN-2270. Made TestFSDownload#testDownloadPublicWithStatCache be skipped when there’s no ancestor permissions. Contributed by Akira Ajisaka.
HDFS-10667. Report more accurate info about data corruption location. (Yuanbo Liu via Yongjun Zhang)
HDFS-7243. HDFS concat operation should not be allowed in Encryption Zone. (clamb via yliu)
MAPREDUCE-4825. JobImpl.finished doesn't expect ERROR as a final job state (jlowe via bobby)
MAPREDUCE-3188. Ensure correct shutdown in services. Contributed by Todd Lipcon.
MAPREDUCE-4040. History links should use hostname rather than IP address. (Contributed by Bhallamudi Venkata Siva Kamesh)
YARN-8116. Nodemanager fails with NumberFormatException: For input string: . (Chandni Singh via wangda)
Revert HADOOP-9042.
HDFS-12523. Thread pools in ErasureCodingWorker do not shutdown. (Huafeng Wang via Lei)
YARN-6368. Decommissioning an NM results in a -1 exit code (miklos.szegedi@cloudera.com via rkanter)
YARN-7879. NM user is unable to access the application filecache due to permissions. Contributed by Jason Lowe.
HDFS-7282. Fix intermittent TestShortCircuitCache and TestBlockReaderFactory failures resulting from TemporarySocketDirectory GC (Jinghui Wang via Colin P. McCabe)
YARN-933. Fixed InvalidStateTransitonException at FINAL_SAVING state in RMApp. Contributed by Rohith Sharmaks
HADOOP-10568. Reuse ObjectMapper instance in CombinedHostsFileReader and CombinedHostsFileWriter. Contributed by Yiqun Lin.
HADOOP-9888. KerberosName static initialization gets default realm, which is unneeded in non-secure deployment. (Dmytro Kabakchei via aw)
YARN-6618. TestNMLeveldbStateStoreService#testCompactionCycle can fail if compaction occurs more than once. Contributed by Jason Lowe.
YARN-3487. CapacityScheduler scheduler lock obtained unnecessarily when calling getQueue (Jason Lowe via wangda)
YARN-3375. NodeHealthScriptRunner.shouldRun() check is performing 3 times for starting NodeHealthScriptRunner (Devaraj K via wangda)
HDFS-3035. Fix failure of TestFileAppendRestart due to OP_UPDATE_BLOCKS. Contributed by Todd Lipcon.
YARN-1293. Fixed TestContainerLaunch#testInvalidEnvSyntaxDiagnostics failure caused by non-English system locale. Contributed by Tsuyoshi OZAWA.
YARN-3058. Fix error message of tokens' activation delay configuration. Contributed by Yi Liu.
YARN-4363. In TestFairScheduler, testcase should not create FairScheduler redundantly. Conntributed by Tao Jie.
HADOOP-10690. Lack of synchronization on access to InputStream in NativeAzureFileSystem#NativeAzureFsInputStream#close(). Contributed by Chen He.
YARN-4439. Clarify NMContainerStatus#toString method. Contributed by Jian He
YARN-3425. NPE from RMNodeLabelsManager.serviceStop when NodeLabelsManager.serviceInit failed. (Bibin A Chundatt via wangda)
MAPREDUCE-6720. Inconsistent values of counters across tasks and job reported to timeline service. Contributed by Varun Saxena
HDFS-11113. Document dfs.client.read.striped configuration in hdfs-default.xml. Contributed by Rakesh R.
MAPREDUCE-3811. Made jobclient-to-AM retries configurable. Contributed by Siddharth Seth.
HDFS-3116. Typo in fetchdt error message. Contributed by AOE Takashi.
HDFS-2337. DFSClient shouldn't keep multiple RPC proxy references (atm)
HADOOP-9791. Add a test case covering long paths for new FileUtil access check methods. Contributed by Ivan Mitic.
HADOOP-12788. OpensslAesCtrCryptoCodec should log which random number generator is used. Contributed by Wei-Chiu Chuang.
YARN-343. Capacity Scheduler maximum-capacity value -1 is invalid (Xuan Gong via tgraves)
HDFS-10795. Fix an error in ReaderStrategy#ByteBufferStrategy. Contributed by Sammi Chen
YARN-2816. NM fail to start with NPE during container recovery. Contributed by Zhihai Xu
HDFS-6873. Constants in CommandWithDestination should be static. (clamb)
MAPREDUCE-4642. MiniMRClientClusterFactory should not use job.setJar() (rkanter via tucu)
HADOOP-8883. Anonymous fallback in KerberosAuthenticator is broken. (rkanter via tucu)
HDFS-12158. Secondary Namenode's web interface lack configs for X-FRAME-OPTIONS protection. Contributed by Mukul Kumar Singh.
HDFS-5337. should do hsync for a commit request even there is no pending writes. Contributed by Brandon Li
MAPREDUCE-3478. Cannot build against ZooKeeper 3.4.0. (Tom White via mahadev)
HDFS-5558. LeaseManager monitor thread can crash if the last block is complete but another block is not. Contributed by Kihwal Lee.
HDFS-11818. TestBlockManager.testSufficientlyReplBlocksUsesNewRack fails intermittently. Contributed by Nathan Roberts
HADOOP-14617. Add ReflectionUtils.logThreadInfo that accept slf4j logger API. Contributed by Wenxin He.
YARN-2924. Fixed RMAdminCLI to not convert node labels to lower case. Contributed by Wangda Tan
HDFS-3255. HA DFS returns wrong token service. Contributed by Daryn Sharp.
YARN-1784. TestContainerAllocation assumes CapacityScheduler. (Robert Kanter via kasha)
YARN-7636. Re-reservation count may overflow when cluster resource exhausted for a long time. contributed by Tao Yang.
HADOOP-12252. LocalDirAllocator should not throw NPE with empty string configuration. Contributed by Zhihai Xu
HADOOP-10059. RPC authentication and authorization metrics overflow to negative values on busy clusters. Contributed by Tsuyoshi OZAWA and Akira AJISAKA
YARN-3157. Refactor the exception handling in ConverterUtils#to*Id. Contributed by Bibin A Chundatt.
YARN-6759. Fix TestRMRestart.testRMRestartWaitForPreviousAMToFinish failure. Contributed by Naganarasimha G R
YARN-7806. Distributed Shell should use timeline async api's. Contributed by Rohith Sharma K S
YARN-4130. Duplicate declaration of ApplicationId in RMAppManager#submitApplication method. (Kai Sasaki via rohithsharmaks)
MAPREDUCE-3500. MRJobConfig creates an LD_LIBRARY_PATH using the platform ARCH. (tucu)
YARN-4991. Fix ContainerRequest Constructor to set nodelabelExpression correctly. (Bibin A Chundatt via asuresh)
HADOOP-14706. Adding a helper method to determine whether a log is Log4j implement.
YARN-6208. Improve the log when FinishAppEvent sent to the NodeManager which didn't run the application (Contributed by Akira Ajisaka via Daniel Templeton)
YARN-2927. [YARN-1492] InMemorySCMStore properties are inconsistent. (Ray Chiang via kasha)
HADOOP-14568. GenericTestUtils#waitFor missing parameter verification. Contributed by Yiqun Lin
HDFS-9176. Fix TestDirectoryScanner#testThrottling often fails. (Daniel Templeton via lei)
HADOOP-12352. Delay in checkpointing Trash can leave trash for 2 intervals before deleting. Contributed by Casey Brotherton.
MAPREDUCE-2588. Change raid to the new DataTransferProtocol API.
MAPREDUCE-3682 Tracker URL says AM tasks run on localhost. (Ravi Prakash via tgraves)
YARN-6948. Invalid event: ATTEMPT_ADDED at FINAL_SAVING. Contributed by lujie
HADOOP-6109. Change Text to grow its internal buffer exponentially, rather than the max of the current length and the proposed length to improve performance reading large values. Contributed by thushara wijeratna
HADOOP-13183. S3A proxy tests fail after httpclient/httpcore upgrade. Contributed by Steve Loughran.
HADOOP-6871. When the value of a configuration key is set to its unresolved form, it causes an IllegalStateException in Configuration.get() stating that substitution depth is too large. Contributed by Arvind Prabhakar (harsh)
revert HADOOP-9646 to fix hadoop-streaming compile issue
Fix up a little test failure.
MAPREDUCE-6314. TestPipeApplication fails on trunk. Contributed by Varun Vasudev.
HDFS-4021. Misleading error message when resources are low on the NameNode. Contributed by Christopher Conner.
HDFS-11252. TestFileTruncate#testTruncateWithDataNodesRestartImmediately can fail with BindException. Contributed by Yiqun Lin.
HADOOP-7662. Fixed logs servlet to use the pathspec '/*' instead of '/' for correct filtering. Contributed by Thomas Graves.
HADOOP-14881. LoadGenerator should use Time.monotonicNow() to measure durations. Contributed by Bharat Viswanadham
YARN-8077. The vmemLimit parameter in ContainersMonitorImpl#isProcessTreeOverLimit is confusing. Contributed by Sen Zhao.
YARN-1932. Javascript injection on the job status page. Contributed by Mit Desai
YARN-4910. Fix incomplete log info in ResourceLocalizationService (Jun Gong via Varun Saxena)
MAPREDUCE-5009. Killing the Task Attempt slated for commit does not clear the value from the Task commitAttempt member (Robert Parker via jeagles)
HDFS-10448. CacheManager#addInternal tracks bytesNeeded incorrectly when dealing with replication factors other than 1 (Yiqun Lin via cmccabe)
YARN-4863. AHS Security login should be in serviceInit() instead of serviceStart(). Contributed by Junping Du
HDFS-7997. The first non-existing xattr should also throw IOException. (zhouyingchao via yliu)
HDFS-4581. DataNode.checkDiskError should not be called on network errors. Contributed by Rohit Kochar.
MAPREDUCE-2971. ant build mapreduce fails protected access jc.displayJobList (jobs) (Thomas Graves via mahadev)
HADOOP-8290. Remove remaining references to hadoop.native.lib (harsh)
HADOOP-7608. SnappyCodec check for Hadoop native lib is wrong. Contributed by Alejandro Abdelnur.
MAPREDUCE-6574. MR AM should print host of failed tasks. (Mohammad Shahid Khan via wangda)
MAPREDUCE-6966. DistSum should use Time.monotonicNow for measuring durations. Contributed by Chetna Chaudhari.
Reverting MAPREDUCE-4422 from trunk until all comments are addressed
MAPREDUCE-3124. Fixed location of native libs i.e. libhadoop.so for containers. Contributed by John George. 
YARN-6908. ResourceProfilesManagerImpl is missing @Overrides on methods (Contributed by Sunil G. via Daniel Templeton)
HADOOP-15331. Fix a race condition causing parsing error of java.io.BufferedInputStream in class org.apache.hadoop.conf.Configuration. Contributed by Miklos Szegedi.
HADOOP-15291. TestMiniKdc fails on Java 9
MAPREDUCE-4169. Container Logs appear in unsorted order (Jonathan Eagles via bobby)
YARN-2859.addendum: fix the remaining issue from the previous patch
HADOOP-9686. Easy access to final parameters in Configuration (Jason Lowe via jeagles)
"HDFS-2424. Added a root element ""HdfsFileStatuses"" for the response of webhdfs listStatus."
HDFS-4396. Add START_MSG/SHUTDOWN_MSG for ZKFC. Contributed by Liang Xie.
YARN-6497. Method length of ResourceManager#serviceInit() is too long (Gergely Novák via jeagles)
YARN-6493. Print requested node partition in assignContainer logs. (Jonathan Hung via wangda)
HADOOP-6875. [Herriot] Cleanup of temp. configurations is needed upon restart of a cluster. Contributed by Vinay Thota.
HADOOP-6522.  Fix decoding of codepoint zero in UTF8.
HADOOP-6009. S3N listStatus incorrectly returns null instead of empty array when called on empty root. Contributed by Ian Nowland.
YARN-485. TestProcfsProcessTree#testProcessTree() doesn't wait long enough for the process to die. (kkambatl via tucu)
YARN-7479. TestContainerManagerSecurity.testContainerManager[Simple] flaky in trunk (ajisakaa via rkanter)
HADOOP-13323. Downgrade stack trace on FS load from Warn to debug. Contributed by Steve Loughran.
YARN-5905. Update the RM webapp host that is reported as part of Federation membership to current primary RM's IP.
HADOOP-8175. FsShell: Add -p option to mkdir.  Contributed by Daryn Sharp
HDFS-10476. DiskBalancer: Plan command output directory should be a sub-directory. Contributed by Anu Engineer.
HADOOP-4572. Can not access user logs - Jetty is not configured by default to serve aliases/symlinks (ahmed via tucu)
HDFS-10410. RedundantEditLogInputStream.LOG is set to wrong class. (John Zhuge via lei)
HADOOP-8141. Add method to SecurityUtil to init krb5 cipher suites. Contributed by Todd Lipcon.
HDFS-11441. Add escaping to error message in KMS web UI. Contributed by Aaron T. Myers.
HDFS-9291. Fix TestInterDatanodeProtocol to be FsDataset-agnostic. (lei)
HDFS-5665. Remove the unnecessary writeLock while initializing CacheManager in FsNameSystem Ctor. (Uma Maheswara Rao G via Andrew Wang)
HADOOP-14192. Aliyun OSS FileSystem contract test should implement getTestBaseDir(). Contributed by Mingliang Liu
HDFS-11842. TestDataNodeOutlierDetectionViaMetrics UT fails intermittently. Controbuted by Hanisha Koneru.
HADOOP-7034. Add TestPath tests to cover dot, dot dot, and slash normalization. Contributed by Eli Collins
HDFS-3802. StartupOption.name in HdfsServerConstants should be final.  Contributed by Jing Zhao
YARN-1863. Fixed test failure in TestRMFailover after YARN-1859. Contributed by Xuan Gong.
YARN-6801. NPE in RM while setting collectors map in NodeHeartbeatResponse. Contributed by Vrushali C.
HDFS-11840. Log HDFS Mover exception message of exit to its own log. Contributed by LiXin Ge.
HDFS-2625. TestDfsOverAvroRpc failing after introduction of HeartbeatResponse type. Contributed by Todd Lipcon.
YARN-8183. Fix ConcurrentModificationException inside RMAppAttemptMetrics#convertAtomicLongMaptoLongMap. (Suma Shivaprasad via wangda)
HADOOP-7118. Fix NPE in Configuration.writeXml. Contributed by Todd Lipcon
HDFS-4100. Fix all findbug security warings. Contributed by Liang Xie
HDFS-9601. NNThroughputBenchmark.BlockReportStats should handle NotReplicatedYetException on adding block (iwasakims)
YARN-6510. Fix profs stat file warning caused by process names that includes parenthesis. (Wilfred Spiegelenburg via Haibo Chen)
HDFS-5432. TestDatanodeJsp fails on Windows due to assumption that loopback address resolves to host name localhost. Contributed by Chris Nauroth.
HADOOP-12200. TestCryptoStreamsWithOpensslAesCtrCryptoCodec should be skipped in non-native profile. Contributed by Masatake Iwasaki.
YARN-2841. RMProxy should retry EOFException.  Contributed by Jian He
HDFS-7157. Using Time.now() for recording start/end time of reconfiguration tasks (Lei Xu via Colin Patrick McCabe)
MAPREDUCE-6403. Fix typo in the usage of NNBench. Contributed by Jagadesh Kiran N.
HDFS-1774. Small optimization to FSDataset. Contributed by Uma Maheswara Rao G
HADOOP-6400. Log errors getting Unix UGI. Contributed by Todd Lipcon.
Amend HDFS-3023. Add new layout version number to ImageLoaderCurrent to fix TestOfflineImageViewer.
HDFS-7652. Process block reports for erasure coded blocks. Contributed by Zhe Zhang
HDFS-5562. TestCacheDirectives and TestFsDatasetCache should stub out native mlock. Contributed by Colin Patrick McCabe and Akira Ajisaka.
HDFS-8642. Make TestFileTruncate more reliable. (Contributed by Rakesh R)
YARN-6455. Enhance the timelinewriter.flush() race condition fix (Haibo Chen via Varun Saxena)
HADOOP-14430 the accessTime of FileStatus returned by SFTPFileSystem's getFileStatus method is always 0. Contributed by Hongyuan Li.
YARN-6580. Incorrect logger for FairSharePolicy. (Vrushali C via Haibo Chen)
YARN-1993. Cross-site scripting vulnerability in TextView.java. Contributed byKenji Kikushima.
YARN-6071. Fix incompatible API change on AM-RM protocol due to YARN-3866 (trunk only) (Contributed by Wangda Tan via Daniel Templeton)
HDFS-9484. NNThroughputBenchmark$BlockReportStats should not send empty block reports. Contributed by Mingliang Liu.
HDFS-10426. TestPendingInvalidateBlock failed in trunk. Contributed by Yiqun Lin.
HADOOP-14354. SysInfoWindows is not thread safe. Contributed by Inigo Goiri
YARN-3473. Fix RM Web UI configuration for some properties (rchiang via rkanter)
HADOOP-13801 regression: ITestS3AMiniYarnCluster failing. Contributed by Steve Loughran
MAPREDUCE-5924. Changed TaskAttemptImpl to ignore TA_COMMIT_PENDING event at COMMIT_PENDING state. Contributed by Zhijie Shen
HDFS-9599. TestDecommissioningStatus.testDecommissionStatus occasionally fails (Lin Yiqun via iwasakims)
MAPREDUCE-6210. Use getApplicationAttemptId() instead of getApplicationID() for logging AttemptId in RMContainerAllocator.java (Contributed by Leitao Guo)
MAPREDUCE-4633. history server doesn't set permissions on all subdirs (tgraves via bobby)
HADOOP-14970. MiniHadoopClusterManager doesn't respect lack of format option. Contributed by Erik Krogen
YARN-1914. Fixed resource-download on NodeManagers to skip permission verification of public cache files in Windows+local file-system environment. Contribued by Varun Vasudev.
YARN-6437. TestSignalContainer#testSignalRequestDeliveryToNM fails intermittently (Jason Lowe via Varun Saxena)
MAPREDUCE-6967. gridmix/SleepReducer should use Time.monotonicNow for measuring durations. Contributed by Chetna Chaudhari
HDFS-6829. DFSAdmin refreshSuperUserGroupsConfiguration failed in security cluster. (Contributed by zhaoyunjiong)
HADOOP-10054. ViewFsFileStatus.toString() is broken. Contributed by Hanisha Koneru.
YARN-3495. Confusing log generated by FairScheduler. Contributed by Brahma Reddy Battula.
"HDFS-11405. Rename ""erasurecode"" CLI subcommand to ""ec"". Contributed by Manoj Govindassamy."
HADOOP-12689. S3 filesystem operations stopped working correctly
YARN-6271. yarn rmadin -getGroups returns information from standby RM. Contributed by Jian He.
HDFS-11438. Fix typo in error message of StoragePolicyAdmin tool. Contributed by Alison Yu.
YARN-6248. user is not removed from UsersManager’s when app is killed with pending container requests. Contributed by Eric Payne.
MAPREDUCE-6580. Test failure: TestMRJobsWithProfiler. Contributed by Eric Badger.
YARN-2182. Updated ContainerId#toString() to append RM Epoch number. Contributed by Tsuyoshi OZAWA
HDFS-6731. Run 'hdfs zkfc -formatZK' on a server in a non-namenode will cause a null pointer exception. Contributed by Masatake Iwasaki
YARN-8072. RM log is getting flooded with MemoryPlacementConstraintManager info logs. (Zian Chen via wangda)
YARN-3846. RM Web UI queue filter is not working for sub queue. Contributed by Mohammad Shahid Khan
YARN-1905. TestProcfsBasedProcessTree must only run on Linux. Contributed by Chris Nauroth.
MAPREDUCE-3678. The Map tasks logs should have the value of input split it processed. Contributed by Harsh J. (harsh)
YARN-5318. Fix intermittent test failure of TestRMAdminService#testRefreshNodesResourceWithFileSystemBasedConfigurationProvider. (Jun Gong via Varun Saxena).
YARN-87. NM ResourceLocalizationService does not set permissions of local cache directories (Jason Lowe via tgraves)
"MAPREDUCE-4902. Fix typo ""receievd"" should be ""received"" in log output. Contributed by Albert Chu"
HADOOP-6520. Adds APIs to read/write Token and secret keys. Also adds the automatic loading of tokens into UserGroupInformation upon login. The tokens are read from a file specified in the environment variable. Contributed by Devaraj Das.
MAPREDUCE-4913. TestMRAppMaster#testMRAppMasterMissingStaging occasionally  exits (Jason Lowe via tgraves)
YARN-6170. TimelineReaderServer should wait to join with HttpServer2 (Sangjin Lee via Varun Saxena)
YARN-4644. TestRMRestart fails and findbugs issue in YARN-2928 branch (Varun Saxena via Naganarasimha G R)
YARN-2605. [RM HA] Rest api endpoints doing redirect incorrectly. (Xuan Gong via stevel)
HADOOP-14814. Fix incompatible API change on FsServerDefaults to HADOOP-14104. Contributed by Junping Du.
HADOOP-10223. MiniKdc#main() should close the FileReader it creates. (Ted Yu via tucu)
HDFS-4625. Make TestNNWithQJM#testNewNamenodeTakesOverWriter work on Windows. Contributed by Ivan Mitic.
HADOOP-12925. Checks for SPARC architecture need to include 64-bit SPARC (Alan Burlison via aw)
HADOOP-11104. org.apache.hadoop.metrics2.lib.MetricsRegistry needs numerical parameter checking. Contributed by Ray Chiang.
HADOOP-10831. UserProvider is not thread safe. (Benoy Antony via umamahesh)
MAPREDUCE-6675. TestJobImpl.testUnusableNode failed (haibochen via rkanter)
Treat encrypted files as private. Contributed by Daniel Templeton.
MAPREDUCE-4133. MR over viewfs is broken (John George via bobby)
HADOOP-10274 Lower the logging level from ERROR to WARN for UGI.doAs method (Takeshi Miao via stack)
HDFS-8556. Erasure Coding: Fix usage of 'createZone' (Contributed by Vinayakumar B)
HDFS-9423. Fix intermittent failure of TestEditLogTailer. Contributed by Masatake Iwasaki.
HDFS-11979. Ozone: TestContainerPersistence never uses MiniOzoneCluster. Contributed by Tsz Wo Nicholas Sze.
HDFS-3999. HttpFS OPEN operation expects len parameter, it should be length. (tucu)
HADOOP-14827. Allow StopWatch to accept a Timer parameter for tests. Contributed by Erik Krogen
HDFS-3715. Fix TestFileCreation#testFileCreationNamenodeRestart. Contributed by Andrew Whang
HADOOP-6975.  Integer overflow in S3InputStream for blocks > 2GB.  Contributed by Patrick Kling.
HDFS-3093. Fix bug where namenode -format interpreted the -force flag in reverse. Contributed by Todd Lipcon.
HADOOP-11098. [JDK8] Max Non Heap Memory default changed between JDK7 and 8.
HDFS-11287. Storage class member storageDirs should be private to avoid unprotected access by derived classes. (Manoj Govindassamy via lei)
YARN-5899. Debug log in AbstractCSQueue#canAssignToThisQueue needs improvement. Contributed by Ying Zhang.
MAPREDUCE-6633. AM should retry map attempts if the reduce task encounters commpression related errors. Contributed by Rushabh Shah
Validate docker image name before launching container.
YARN-2991. Fixed DrainDispatcher to reuse the draining code path in AsyncDispatcher. Contributed by Rohith Sharmaks.
HDFS-5034.  Remove debug prints from GetFileLinkInfo (Andrew Wang via Colin Patrick McCabe)
HDFS-9284. fsck command should not print exception trace when file not found. Contributed by Jagadesh Kiran N.
"HADOOP-12786. ""hadoop key"" command usage is not documented. Contributed by Xiao Chen."
MAPREDUCE-3975. Default value not set for Configuration parameter mapreduce.job.local.dir (Eric Payne via bobby)
HADOOP-6814. Adds an API in UserGroupInformation to get the real authentication method of a passed UGI. Contributed by Jitendra Pandey.
"Revert ""HADOOP-13565. KerberosAuthenticationHandler#authenticate should not rebuild SPN based on client request. Contributed by Xiaoyu Yao."""
HDFS-2886. CreateEditLogs should generate a realistic edit log. Contributed by Konstantin Shvachko.
HDFS-2976 corrected the previous wrong commit for this issue.
HDFS-13408. MiniDFSCluster to support being built on randomized base directory. Contributed by Xiao Liang
YARN-4984. LogAggregationService shouldn't swallow exception in handling createAppDir() which cause thread leak. (Junping Du via wangda)
"Revert ""HDFS-7857. Improve authentication failure WARN message to avoid user confusion. Contributed by Yongjun Zhang."""
HDFS-4294. Backwards compatibility is not maintained for TestVolumeId. Contributed by Ivan A. Veselovsky and Robert Parker.
HADOOP-6691. TestFileSystemCaching sometimes hangs. Contributed by Hairong Kuang.
HDFS-7503. Namenode restart after large deletions can cause slow processReport (Arpit Agarwal)
MAPREDUCE-4189. TestContainerManagerSecurity is failing (Devaraj K via bobby)
HADOOP-8356. FileSystem service loading mechanism should print the FileSystem impl it is failing to load (tucu)
HADOOP-14211. FilterFs and ChRootedFs are too aggressive about enforcing 'authorityNeeded'. Contributed by Erik Krogen.
HADOOP-8309. Pseudo & Kerberos AuthenticationHandler should use getType() to create token (tucu)
HDFS-4946. Allow preferLocalNode in BlockPlacementPolicyDefault to be configurable. Contributed by James Kinley and Nathan Roberts.
"Revert ""TimelineClient failed to retry on java.net.SocketTimeoutException: Read timed out"""
HADOOP-10422. Remove redundant logging of RPC retry attempts. Contributed by Chris Nauroth.
MAPREDUCE-6953. Skip the testcase testJobWithChangePriority if FairScheduler is used (pbacsko via rkanter)
HDFS-8176. Record from/to snapshots in audit log for snapshot diff report. Contributed by J. Andreina.
HDFS-11681. DatanodeStorageInfo#getBlockIterator() should return an iterator to an unmodifiable set Contributed by Virajith Jalaparti
HDFS-10186. DirectoryScanner: Improve logs by adding full path of both actual and expected block directories.  Contributed by Rakesh R
MAPREDUCE-2774. Add startup message to ResourceManager & NodeManager on startup. Contributed by Venu Gopala Rao. 
HADOOP-11534. Minor improvements for raw erasure coders ( Contributed by Kai Zheng )
HDFS-4944. WebHDFS cannot create a file path containing characters that must be URI-encoded, such as space. Contributed by Chris Nauroth.
YARN-3018. Unified the default value for the configuration property yarn.scheduler.capacity.node-locality-delay in code and default xml file. Contributed by Nijel SF.
HADOOP-10868. Addendum
HADOOP-6648. Adds a check for null tokens in Credentials.addToken api. Contributed by Owen O'Malley and Devaraj Das.
YARN-5083. YARN CLI for AM logs does not give any error message if entered invalid am value. Contributed by Jian He.
HDFS-4609. TestAuditLogs should release log handles between tests.  Contributed by Ivan Mitic
YARN-3103. AMRMClientImpl does not update AMRM token properly. Contributed by Jason Lowe
YARN-3573. MiniMRYarnCluster constructor that starts the timeline server using a boolean should be marked deprecated. Contributed by Brahma Reddy Battula.
HDFS-8034. Fix TestDFSClientRetries#testDFSClientConfigurationLocateFollowingBlockInitialDelay for Windows. Contributed by Xiaoyu Yao.
HDFS-11900. Hedged reads thread pool creation not synchronized. Contributed by John Zhuge.
HDFS-5830. WebHdfsFileSystem.getFileBlockLocations throws IllegalArgumentException when accessing another cluster. (Yongjun Zhang via Colin Patrick McCabe)
YARN-5115. Avoid setting CONTENT-DISPOSITION header in the container-logs web-service. Contributed by Xuan Gong.
HDFS-9024. Deprecate the TotalFiles metric. Contributed by Akira Ahisaka.
HDFS-7572. TestLazyPersistFiles#testDnRestartWithSavedReplicas is flaky on Windows. Contributed by Arpit Agarwal.
HDFS-10699. Log object instance get incorrectly in TestDFSAdmin. Contributed by Yiqun Lin
MAPREDUCE-6762. ControlledJob#toString failed with NPE when job status is not successfully updated (Weiwei Yang via Varun Saxena)
YARN-1870. FileInputStream is not closed in ProcfsBasedProcessTree#constructProcessSMAPInfo. (Fengdong Yu via junping_du)
HDFS-12495. TestPendingInvalidateBlock#testPendingDeleteUnknownBlocks fails intermittently. Contributed by Eric Badger.
MAPREDUCE-4610. Support deprecated mapreduce.job.counters.limit property in MR2.
HADOOP-11876. Refactor code to make it more readable, minor maybePrintStats bug (Zoran Dimitrijevic via raviprak)
HDFS-3985. Add timeouts to TestMulitipleNNDataBlockScanner. Contributed by Todd Lipcon
YARN-6643. TestRMFailover fails rarely due to port conflict. Contributed by Robert Kanter
HDFS-11204. Document the missing options of hdfs zkfc command. Contributed by Yiqun Lin.
HDFS-8896. DataNode object isn't GCed when shutdown, because it has GC root in ShutdownHookManager. Contributed by Walter Su.
HDFS-3009. Remove duplicate code in DFSClient#isLocalAddress by using NetUtils. Contributed by Hari Mankude.  
HDFS-7813. TestDFSHAAdminMiniCluster#testFencer testcase is failing frequently. Contributed by Rakesh R.
MAPREDUCE-4156. ant build fails compiling JobInProgress (tgraves)
HDFS-6648. Order of namenodes in ConfiguredFailoverProxyProvider is undefined. Contributed by Inigo Goiri
HDFS-9273. ACLs on root directory may be lost after NN restart. Contributed by Xiao Chen.
HDFS-6553. Add missing DeprecationDeltas for NFS Kerberos configurations. Contributed by Stephen Chu
HADOOP-11333. Fix deadlock in DomainSocketWatcher when the notification pipe is full (zhaoyunjiong via cmccabe)
YARN-7734. Fix UT failure TestContainerLogsPage#testContainerLogPageAccess. Contributed by Tao Yang.
YARN-7128. The error message in TimelineSchemaCreator is not enough to find out the error. (Jinjiang Ling via Haibo Chen)
HDFS-6802. Some tests in TestDFSClientFailover are missing @Test annotation. Contributed by Akira Ajisaka.
YARN-4890. Unit test intermittent failure: TestNodeLabelContainerAllocation#testQueueUsedCapacitiesUpdate. (Sunil G via wangda)
YARN-2066. Wrong field is referenced in GetApplicationsRequestPBImpl#mergeLocalToBuilder (Contributed by Hong Zhiguo)
HADOOP-8721. ZKFC should not retry 45 times when attempting a graceful fence during a failover. Contributed by Vinayakumar B.
HADOOP-11719.[Fsshell] Remove bin/hadoop reference from GenericOptionsParser default help text. Contributed by Brahma Reddy Battula.
HDFS-8639. Add Option for NameNode HTTP port in MiniDFSClusterManager. Contributed by Kai Sasaki.
HDFS-11645. DataXceiver thread should log the actual error when getting InvalidMagicNumberException. Contributed by Chen Liang.
HDFS-8845. DiskChecker should not traverse the entire tree (Chang Li via Colin P. McCabe)
HDFS-9706. Log more details in debug logs in BlockReceiver's constructor. (Xiao Chen via Yongjun Zhang)
HDFS-8427. Remove dataBlockNum and parityBlockNum from BlockInfoStriped. Contributed by Kai Sasaki.
YARN-1617. Remove ancient comment and surround LOG.debug in AppSchedulingInfo.allocate (Sandy Ryza)
YARN-5103. With NM recovery enabled, restarting NM multiple times results in AM restart. Contributed by Junping Du
YARN-5380. NMTimelinePublisher should use getMemorySize instead of getMemory. Contributed by Vrushali C
HDFS-13168. XmlImageVisitor - Prefer Array over LinkedList. Contributed by BELUGA BEHR.
MAPREDUCE-6266. Job#getTrackingURL should consistently return a proper URL (rchiang via rkanter)
YARN-6379. Remove unused argument in ClientRMService. Contributed by Kai Sasaki.
YARN-3594. WintuilsProcessStubExecutor.startStreamReader leaks streams. Contributed by Lars Francke.
MAPREDUCE-3280. Removed the unnecessary job user-name configuration in mapred-site.xml. (vinodkv)  
HADOOP-7931. o.a.h.ipc.WritableRpcEngine should have a way to force initialization. Contributed by Aaron T. Myers
HDFS-10820. Reuse closeResponder to reset the response variable in DataStreamer#run. Contributed by Yiqun Lin.
MAPREDUCE-6782. JHS task page search based on each individual column not working (Ajith S via Varun Saxena)
HDFS-11952. Ozone: Fix TestContainerSQLCli#testConvertContainerDB. Contributed by Weiwei Yang.
HADOOP-10072. TestNfsExports#testMultiMatchers fails due to non-deterministic timing around cache expiry check. Contributed by Chris Nauroth.
YARN-4057. If ContainersMonitor is not enabled, only print related log info one time. Contributed by Jun Gong.
HDFS-2568. Use a set to manage child sockets in XceiverServer. Contributed by Harsh J
HADOOP-11859. PseudoAuthenticationHandler fails with httpcomponents v4.4. Contributed by Eugene Koifman.
HDFS-5448. Fix break caused by previous checkin for HDFS-5448.
HADOOP-13287. TestS3ACredentials#testInstantiateFromURL fails if AWS secret key contains +. Contributed by Chris Nauroth.
HADOOP-8727. Gracefully deprecate dfs.umaskmode in 2.x onwards (Harsh J via bobby)
YARN-2930. Fixed TestRMRestart#testRMRestartRecoveringNodeLabelManager intermittent failure. Contributed by Wangda Tan
YARN-3343. Increased TestCapacitySchedulerNodeLabelUpdate#testNodeUpdate timeout. Contributed by Rohith Sharmaks
HDFS-10172. hdfs erasurecode command should remove the redundant -usage option. Contributed by Yuanbo Liu.
HADOOP-14506. Add create() contract test that verifies ancestor dir creation. Contributed by Sean Mackrory.
HDFS-3928. MiniDFSCluster should reset the first ExitException on shutdown. Contributed by Eli Collins
MAPREDUCE-3982. Fixed FileOutputCommitter to not err out for an 'empty-job' whose tasks don't write any outputs. Contributed by Robert Joseph Evans.
HADOOP-14273. Azure: NativeAzureFileSystem should respect config for kerberosSupportEnabled flag. Contributed by Santhosh G Nayak
MAPREDUCE-6472. MapReduce AM should have java.io.tmpdir=./tmp to be consistent with tasks. Contributed by Naganarasimha G R
HDFS-5900. Cannot set cache pool limit of unlimited via CacheAdmin. Contributed by Andrew Wang.
HADOOP-12474. MiniKMS should use random ports for Jetty server by default. Contributed by Mingliang Liu.
YARN-3205. FileSystemRMStateStore should disable FileSystem Cache to avoid get a Filesystem with an old configuration. Contributed by Zhihai Xu.
HDFS-12903. [READ] Fix closing streams in ImageWriter
YARN-4784. Fairscheduler: defaultQueueSchedulingPolicy should not accept FIFO. (Yufei Gu via kasha)
HADOOP-6572. Makes sure that SASL encryption and push to responder queue for the RPC response happens atomically. Contributed by Kan Zhang.
YARN-3766. Fixed the apps table column error of generic history web UI. Contributed by Xuan Gong.
YARN-2617. Fixed ApplicationSubmissionContext to still set resource for backward compatibility. Contributed by Wangda Tan.
YARN-4256. YARN fair scheduler vcores with decimal values. Contributed by Jun Gong
MAPREDUCE-4985. Add compression option to TestDFSIO usage. Contributed by Plamen Jeliazkov.
MAPREDUCE-6808. Log map attempts as part of shuffle handler audit log (Contributed by Gergő Pásztor via Daniel Templeton)
HDFS-13261. Fix incorrect null value check. Contributed by Jianfei Jiang.
YARN-5969. FairShareComparator: Cache value of getResourceUsage for better performance. (zhangshilong via kasha)
HADOOP-13928. TestAdlFileContextMainOperationsLive.testGetFileContext1 runtime error. (John Zhuge via lei)
MAPREDUCE-6768. TestRecovery.testSpeculative failed with NPE. Contributed by Haibo Chen
HADOOP-8189. LdapGroupsMapping shouldn't throw away IOException. Contributed by Jonathan Natkins.
YARN-3010. Fixed findbugs warning in AbstractYarnScheduler. Contributed by Yi Liu
YARN-5069. TestFifoScheduler.testResourceOverCommit race condition. Contributed by Eric Badger.
HDFS-8606. Cleanup DFSOutputStream by removing unwanted changes from HDFS-8386. Contributed by Rakesh R
YARN-8000. Yarn Service component instance name shows up as component name in container record. Contributed by Chandni Singh
HADOOP-11054. Add a KeyProvider instantiation based on a URI. (tucu)
YARN-31. Fix TestDelegationTokenRenewer to not depend on test order so as to pass tests on jdk7. Contributed by Thomas Graves.
HADOOP-9216. CompressionCodecFactory#getCodecClasses should trim the result of parsing by Configuration. Contributed by Tsuyoshi Ozawa.
HDFS-3019. Fix silent failure of TestEditLogJournalFailures. Contributed by Todd Lipcon.
HADOOP-8844. Add a plaintext fs -text test-case. Contributed by Akira AJISAKA. (harsh)
YARN-4682. AMRM client to log when AMRM token updated. (Prabhu Joseph via stevel)
HADOOP-10378. Typo in help printed by hdfs dfs -help. Contributed by Mit Desai.
HDFS-13194. CachePool permissions incorrectly checked. Contributed by Jianfei Jiang.
HADOOP-13700. Remove unthrown IOException from TrashPolicy#initialize and #getInstance signatures.
MAPREDUCE-4927. Historyserver 500 error due to NPE when accessing specific counters page for failed job. Contributed by Ashwin Shankar
YARN-7608. Incorrect sTarget column causing DataTable warning on RM application and scheduler web page. Contributed by Gergely Novák.
YARN-5111. YARN container system metrics are not aggregated to application (Naganarasimha G R via sjlee)
MAPREDUCE-6396. TestPipeApplication fails by NullPointerException. Contributed by Brahma Reddy Battula.
HDFS-9428. Fix intermittent failure of TestDNFencing.testQueueingWithAppend. Contributed by Masatake Iwasaki.
HDFS-10293. StripedFileTestUtil#readAll flaky. Contributed by Mingliang Liu.
HDFS-10367. TestDFSShell.testMoveWithTargetPortEmpty fails with Address bind exception. Contributed by Brahma Reddy Battula.
MAPREDUCE-5075. DistCp leaks input file handles since ThrottledInputStream does not close the wrapped InputStream.  Contributed by Chris Nauroth
HDFS-10603. Fix flaky tests in org.apache.hadoop.hdfs.server.namenode.snapshot.TestOpenFilesWithSnapshot. Contributed by Yiqun Lin.
MAPREDUCE-4392. Counters.makeCompactString() changed behavior from 0.20 (Jason Lowe via bobby)
HDFS-12692. Ozone: fix javadoc/unit test for calling MetadataStore.getRangeKVs with non existing key. Contributed by Elek, Marton.
MAPREDUCE-5414. TestTaskAttempt fails in JDK7 with NPE. Contributed by Nemon Lou.
HDFS-4898. BlockPlacementPolicyWithNodeGroup.chooseRemoteRack() fails to properly fallback to local rack.
YARN-2429. TestAMRMTokens.testTokenExpiry fails Intermittently with error message:Invalid AMRMToken (zxu via rkanter)
HADOOP-14369. NetworkTopology calls expensive toString() when logging. Contributed by Inigo Goiri.
Validate docker image name before launching container.
YARN-6615. AmIpFilter drops query parameters on redirect. Contributed by Wilfred Spiegelenburg
HDFS-8371. Fix test failure in TestHdfsConfigFields for spanreceiver properties. Contributed by Ray Chiang.
HDFS-10748. TestFileTruncate#testTruncateWithDataNodesRestart runs sometimes timeout. Contributed by Yiqun Lin.
HADOOP-11916. TestStringUtils#testLowerAndUpperStrings failed on MAC due to a JVM bug. Contributed by Ming Ma.
YARN-5991. Yarn Distributed Shell does not print throwable t to App Master When failed to start container (Contributed by Jim Frankola via Daniel Templeton)
HDFS-3856. TestHDFSServerPorts failure is causing surefire fork failure. Contributed by Colin Patrick McCabe
HADOOP-8183. Stop using mapred.used.genericoptions.parser (harsh)
HADOOP-9605. Update junit dependency. Contributed by Timothy St. Clair.
"MAPREDUCE-4562. Support for ""FileSystemCounter"" legacy counter group name for compatibility reasons is creating incorrect counter name. Contributed by Jarek Jarcec Cecho."
HDFS-7154. Fix returning value of starting reconfiguration task (Lei Xu via Colin P. McCabe)
HADOOP-14097. Remove Java6 specific code from GzipCodec.java. Contributed by Elek, Marton.
HDFS-5544. Adding Test case For Checking dfs.checksum.type as NULL value. Contributed by Sathish.
HADOOP-13854. KMS should log error details in KMSExceptionsProvider.
HADOOP-11122. Fix findbugs in ZK DelegationTokenSecretManagers. (Arun Suresh via kasha)
HDFS-2935. Shared edits dir property should be suffixed with nameservice and namenodeID. Contributed by Todd Lipcon.
HDFS-12415. Ozone: TestXceiverClientManager and TestAllocateContainer occasionally fails. Contributed by Mukul Kumar Singh.
HADOOP-14405. Fix performance regression due to incorrect use of DataChecksum. Contributed by LiXin Ge.
HADOOP-10094. NPE in GenericOptionsParser#preProcessForWindows(). Contributed by Enis Soztutar.
HADOOP-15206. BZip2 drops and duplicates records when input split size is small. Contributed by Aki Tanaka
YARN-3592. Fix typos in RMNodeLabelsManager. Contributed by Sunil G.
HADOOP-6343. Log unexpected throwable object caught in RPC.  Contributed by Jitendra Nath Pandey
MAPREDUCE-5804. TestMRJobsWithProfiler#testProfiler timesout. Contributed by Mit Desai.
YARN-5753. fix NPE in AMRMClientImpl.getMatchingRequests() (haibochen via rkanter)
HDFS-5244. TestNNStorageRetentionManager#testPurgeMultipleDirs fails. Contributed bye Jinghui Wang.
HADOOP-14430 the accessTime of FileStatus returned by SFTPFileSystem's getFileStatus method is always 0. Contributed by Hongyuan Li.
YARN-1438. Ensure container diagnostics includes exception from container launch. Contributed by Steve Loughran.
YARN-1333: Add missing file SchedulerAppUtils
HDFS-2533. Remove needless synchronization on some FSDataSet methods. Contributed by Todd Lipcon.
HADOOP-14166. Reset the DecayRpcScheduler AvgResponseTime metric to zero when queue is not used. Contributed by Surendra Singh Lilhore.
HADOOP-14280. Fix compilation of TestKafkaMetrics.
HDFS-13246. FileInputStream redundant closes in readReplicasFromCache. Contributed by liaoyuxiangqin.
HADOOP-13519. Make Path Serializable. Contributed by Steve Loughran
HADOOP-10808. Remove unused native code for munlock. Contributed by Chris Nauroth.
HDFS-3623. BKJM: zkLatchWaitTimeout hard coded to 6000. Make use of ZKSessionTimeout instead. Contributed by Uma Maheswara Rao G.
HADOOP-10081. Client.setupIOStreams can leak socket resources on exception or error. Contributed by Tsuyoshi OZAWA
HADOOP-11628. SPNEGO auth does not work with CNAMEs in JDK8.  (Daryn Sharp via stevel).
HDFS-5341. Reduce fsdataset lock duration during directory scanning. Contributed by Qus-Jiawei.
HADOOP-14120 needless S3AFileSystem.setOptionalPutRequestParameters in S3ABlockOutputStream putObject(). Contributed by Yuanbo Liu
MAPREDUCE-3070. Fix NodeManager to use ephemeral ports by default. Contributed by Devaraj K.
YARN-848. Fix NodeManager to register with RM using the fully qualified hostname. Contributed by Hitesh Shah.
YARN-7401. Reduce lock contention in ClusterNodeTracker#getClusterCapacity()
HADOOP-11846 TestCertificateUtil.testCorruptPEM failing on Jenkins JDK8. (Larry McCay via stevel)
HADOOP-6570. RPC#stopProxy throws NPE if getProxyEngine(proxy) returns null. Contributed by Hairong Kuang.
HADOOP-14732. ProtobufRpcEngine should use Time.monotonicNow to measure durations. Contributed by Hanisha Koneru.
YARN-5679. TestAHSWebServices is failing (ajisakaa via rkanter)
MAPREDUCE-5768. TestMRJobs.testContainerRollingLog fails on trunk. Contributed by Gera Shegalov
HDFS-3827. TestHASafeMode#assertSafemode method should be made static. Contributed by Jing Zhao
HDFS-7940. Add tracing to DFSClient#setQuotaByStorageType (Rakesh R via Colin P. McCabe)
HADOOP-13599. s3a close() to be non-synchronized, so avoid risk of deadlock on shutdown. Contributed by Steve Loughran.
YARN-2992. ZKRMStateStore crashes due to session expiry. Contributed by Karthik Kambatla
HDFS-11671. TestReconstructStripedBlocks#test2RecoveryTasksForSameBlockGroup fails.
HADOOP-12771. Fix typo in JvmPauseMonitor#getNumGcWarnThreadholdExceeded. Contributed by Xiaobing Zhou.
YARN-2777. Mark the end of individual log in aggregated log. Contributed by Varun Saxena
HADOOP-12458. Retries is typoed to spell Retires in parts of hadoop-yarn and hadoop-common. Contributed by Neelesh Srinivas Salian.
YARN-960. Fixed ResourceManager to propagate client-submitted credentials irrespective of security. Contributed by Daryn Sharp.
HDFS-12430. Rebasing HDFS-10467 After HDFS-12269 and HDFS-12218. Contributed by Inigo Goiri.
HDFS-8870. Lease is leaked on write failure. Contributed by Kuhu Shukla.
HADOOP-12407. Test failing: hadoop.ipc.TestSaslRPC. (stevel)
YARN-1926. Changed DistributedShell to use appIDs as unique identifiers for HDFS paths and thus avoid test failures on Windows. Contributed by Varun Vasudev.
HDFS-11689. New exception thrown by DFSClient%isHDFSEncryptionEnabled broke hacky hive code. Contributed by Yongjun Zhang.
HADOOP-8958. ViewFs:Non absolute mount name failures when running multiple tests on Windows. Contributed by Chris Nauroth.
HADOOP-9964. Fix deadlocks in TestHttpServer by synchronize ReflectionUtils.printThreadInfo. (Junping Du via llu)
HDFS-4902. DFSClient#getSnapshotDiffReport should use string path rather than o.a.h.fs.Path. Contributed by Binglin Chang.
YARN-1060. Two tests in TestFairScheduler are missing @Test annotation (Niranjan Singh via Sandy Ryza)
HADOOP-9989. Bug introduced in HADOOP-9374, which parses the -tokenCacheFile as binary file but set it to the configuration as JSON file. (zxu via tucu)
HADOOP-15357. Configuration.getPropsWithPrefix no longer does variable substitution. Contributed by Jim Brennan
HDFS-10841. Remove duplicate or unused variable in appendFile(). Contributed by Kihwal Lee.
"Revert ""MAPREDUCE-6363. [NNBench] Lease mismatch error when running with multiple mappers. Contributed by Brahma Reddy Battula."""
MAPREDUCE-6194. Bubble up final exception in failures during creation of output collectors. Contributed by Varun Saxena.
HDFS-4075. Reduce recommissioning overhead (Kihwal Lee via daryn)
YARN-1382. Remove unusableRMNodesConcurrentSet (never used) in NodeListManager to get rid of memory leak. Contributed by Rohith Sharma K S.
HDFS-10319. Balancer should not try to pair storages with different types.
HDFS-5061. Make FSNameSystem#auditLoggers an unmodifiable list. Contributed by Arpit Agarwal.
HDFS-3008. Negative caching of local addrs doesn't work. Contributed by Eli Collins
YARN-2682. Updated WindowsSecureContainerExecutor to not use DefaultContainerExecutor#getFirstApplicationDir and use getWorkingDir() instead. Contributed by Zhihai Xu
MAPREDUCE-5261. Reverting the patch as it is no longer needed.
HDFS-5986. Capture the number of blocks pending deletion on namenode webUI. Contributed by Chris Nauroth.
YARN-7722. Rename variables in MockNM, MockRM for better clarity. Contributed by Lovekesh bansal
YARN-6588. Add native-service AM log4j properties in classpath. Contributed by Jian He
MAPREDUCE-5912. Task.calculateOutputSize does not handle Windows files after MAPREDUCE-5196. Contributed by Remus Rusanu.
HADOOP-6269. Fix threading issue with defaultResource in Configuration. Contributed by Sreekanth Ramakrishnan
MAPREDUCE-5360. TestMRJobClient fails on Windows due to path format. Contributed by Chuan Liu.
YARN-6275. Fail to show real-time tracking charts in SLS (yufeigu via rkanter)
YARN-2119. DEFAULT_PROXY_ADDRESS should use DEFAULT_PROXY_PORT. (Anubhav Dhoot via kasha)
HDFS-5657. race condition causes writeback state error in NFS gateway. Contributed by Brandon Li
YARN-5100. The YarnApplicationState is always running in ATS even application is finished. Contributed by Xuan Gong.
MAPREDUCE-6839. TestRecovery.testCrashed failed (pairg via rkanter)
HDFS-11849. JournalNode startup failure exception should be logged in log file. Contributed By Surendra Singh Lilhore.
HDFS-12959. Fix TestOpenFilesWithSnapshot redundant configurations.
HDFS-3719. Re-enable append-related tests in TestFileConcurrentReader. Contributed by Andrew Wang.
HADOOP-7875. Add helper class to unwrap protobuf ServiceException. Contributed by Suresh Srinivas.
HDFS-11374. Skip FSync in CreateEditsLog to speed up edit log generation. Contributed by Hanisha Koneru.
HADOOP-8693. TestSecurityUtil fails intermittently with JDK7 (Trevor Robinson via tgraves)
HADOOP-13159. Fix potential NPE in Metrics2 source for DecayRpcScheduler. Contributed by Xiaoyu Yao.
HADOOP-7974. TestViewFsTrash incorrectly determines the user's home directory. Contributed by Harsh J
HADOOP-6913. Circular initialization between UserGroupInformation and KerberosName
MAPREDUCE-3153. Fix TestFileOutputCommitter which was broken by MAPREDUCE-2702. Contributed by Mahadev Konar. 
YARN-2434. RM should not recover containers from previously failed attempt when AM restart is not enabled. Contributed by Jian He
HDFS-8001 RpcProgramNfs3 : wrong parsing of dfs.blocksize. Contributed by Remi Catherinot
HDFS-8785. TestDistributedFileSystem is failing in trunk. Contributed by Xiaoyu Yao.
HADOOP-10132. RPC#stopProxy() should log the class of proxy when IllegalArgumentException is encountered. Contributed by Ted Yu
MAPREDUCE-2987. Fixed display of logged user on RM Web-UI. Contributed by Thomas Graves.
YARN-2906. CapacitySchedulerPage shows HTML tags for a queue's Active Users. Contributed by Jason Lowe
MAPREDUCE-3324. Not All HttpServer tools links (stacks,logs,config,metrics) are accessible through all UI servers (Jonathan Eagles via mahadev)
HADOOP-8713. TestRPCCompatibility fails intermittently with JDK7 Trevor Robinson via tgraves)
YARN-7941. Transitive dependencies for component are not resolved. Contributed by Billie Rinaldi.
HDFS-4052. BlockManager#invalidateWork should print log outside the lock. Contributed by Jing Zhao.
HADOOP-7542. Reverting the patch to address issues.
HADOOP-14320. TestIPC.testIpcWithReaderQueuing fails intermittently. Contributed by Eric Badger.
HDFS-7951. Fix NPE for TestFsDatasetImpl#testAddVolumeFailureReleasesInUseLock on Linux. (Contributed by Xiaoyu Yao)
"MAPREDUCE-2374. ""Text File Busy"" errors launching MR tasks. Contributed by Andy Isaacson."
YARN-6884. AllocationFileLoaderService.loadQueue() has an if without braces (Contributed by weiyuan via Daniel Templeton)
HADOOP-9850. RPC kerberos errors don't trigger relogin. Contributed by Daryn Sharp.
Missing file for YARN-2701
HDFS-7714. Simultaneous restart of HA NameNodes and DataNode can cause DataNode to register successfully with only one NameNode.(Contributed by Vinayakumar B)
    HADOOP-7687 Make getProtocolSignature public  (sanjay)
HDFS-5776 Support 'hedged' reads in DFSClient
HDFS-4807. createSocketForPipeline() should not include timeout extension on connect. Contributed by Cristina Abad.
HDFS-7181. Remove incorrect precondition check on key length in FileEncryptionInfo. (wang)
YARN-6359. TestRM#testApplicationKillAtAcceptedState fails rarely due to race condition. Contributed by Robert Kanter
HADOOP-12602. TestMetricsSystemImpl#testQSize occasionally fails. Contributed by Masatake Iwasaki.
MAPREDUCE-4313. TestTokenCache doesn't compile due TokenCache.getDelegationToken compilation error (bobby)
HDFS-10960. TestDataNodeHotSwapVolumes#testRemoveVolumeBeingWritten fails at disk error verification after volume remove. (Manoj Govindassamy via lei)
"Revert ""HADOOP-14062. ApplicationMasterProtocolPBClientImpl.allocate fails with EOFException when RPC privacy is enabled. Contributed by Steven Rand"""
HADOOP-7576. Fix findbugs warnings and javac warnings in hadoop-auth.
YARN-272. Fair scheduler log messages try to print objects without overridden toString methods. (sandyr via tucu)
YARN-6655. Fix compilation failure in TestServiceApiUtil due to changes in YARN-6716.
HDFS-7497. Inconsistent report of decommissioning DataNodes between dfsadmin and NameNode webui. Contributed by Yongjun Zhang.
HDFS-10814. Add assertion for getNumEncryptionZones when no EZ is created. Contributed by Vinitha Reddy Gankidi.
YARN-6215. FairScheduler preemption and update should not run concurrently. (Tao Jie via kasha)
MAPREDUCE-6213. NullPointerException caused by job history server addr not resolvable. Contributed by Peng Zhang.
HDFS-10183. Prevent race condition during class initialization. Contributed by Pavel Avgustinov.
MAPREDUCE-4025.  AM can crash if task attempt reports bogus progress value (Jason Lowe via bobby)
HADOOP-10678. SecurityUtil has unnecessary synchronization on collection used for only tests. Contributed by Benoy Antony.
HDFS-4074. Remove the unused default constructor from INode.  Contributed by Brandon Li
HDFS-6214.  Webhdfs has poor throughput for files >2GB (daryn)
HDFS-3375. Put client name in DataXceiver thread name for readBlock and keepalive. Contributed by Todd Lipcon.
HADOOP-11287. Simplify UGI#reloginFromKeytab for Java 7+. Contributed by Li Lu.
HDFS-3054. distcp -skipcrccheck has no effect. Contributed by Colin Patrick McCabe.
HDFS-13296. GenericTestUtils generates paths with drive letter in Windows and fail webhdfs related test cases. Contributed by Xiao Liang.
HDFS-10501. DiskBalancer: Use the default datanode port if port is not provided. Contributed by Anu Engineer.
HDFS-3639. JspHelper#getUGI should always verify the token if security is enabled. Contributed by Eli Collins
"HDFS-7198. Fix ""unchecked conversion"" warning in DFSClient#getPathTraceScope (cmccabe)"
    HADOOP-7524 Change RPC to allow multiple protocols including multuple versions of the same protocol (sanjay Radia)
YARN-3400. [JDK 8] Build Failure due to unreported exceptions in RPCUtil (rkanter)
YARN-7023. Incorrect ReservationId.compareTo() implementation.
MAPREDUCE-5569. FloatSplitter is not generating correct splits. Contributed by Nathan Roberts
HDFS-10747. o.a.h.hdfs.tools.DebugAdmin usage message is misleading. (Contributed by Mingliang Liu)
YARN-6446. addendum patch. Contributed by Rohith Sharma K S.
HDFS-3663. MiniDFSCluster should capture the code path that led to the first ExitException. Contributed by Eli Collins
MAPREDUCE-5821. Avoid unintentional reallocation of byte arrays in segments during merge. Contributed by Todd Lipcon
YARN-2081. Fixed TestDistributedShell failure after YARN-1962. Contributed by Zhiguo Hong.
YARN-1962. Changed Timeline Service client configuration to be off by default given the non-readiness of the feature yet. Contributed by Mohammad Kamrul Islam.
MAPREDUCE-3112. Fixed recursive sourcing of HADOOP_OPTS environment variable. (Eric Yang)
HADOOP-7057. IOUtils.readFully and IOUtils.skipFully have typo in exception creation's message. Contributed by Konstantin Boudnik.
MAPREDUCE-6022. map_input_file is missing from streaming job environment. Contributed by Jason Lowe.
HADOOP-11659. o.a.h.FileSystem.Cache#remove should use a single hash map lookup. Contributed by Brahma Reddy Battula.
HDFS-1656. Fixes an issue to do with fetching of delegation tokens in HftpFileSystem. Contributed by Kan Zhang.
YARN-4729. SchedulerApplicationAttempt#getTotalRequiredResources can throw an NPE. (kasha)
HADOOP-10095. In CodecPool, synchronize pool and codecList separately in order to reduce lock contention.  Contributed by Nicolas Liochon
MAPREDUCE-4297. Usersmap file in gridmix should not fail on empty lines (Ravi Prakash via bobby)
YARN-1670. aggregated log writer can write more log data then it says is the log length (Mit Desai via jeagles)
HADOOP-11125. Remove redundant tests in TestOsSecureRandom. Contributed by Masanori Oyama.
HDFS-12580. Rebasing HDFS-10467 after HDFS-12447. Contributed by Inigo Goiri.
YARN-3726. Fix TestHBaseTimelineWriterImpl unit test failure by fixing its test data (Vrushali C via sjlee)
HADOOP-7769. TestJMXJsonServlet is failing.
HDFS-4994. Audit log getContentSummary() calls. Contributed by Robert Parker.
HADOOP-14044. Synchronization issue in delegation token cancel functionality. Contributed by Hrishikesh Gadre.
YARN-6381. FSAppAttempt has several variables that should be final (Contributed by Ameet Zaveri via Daniel Templeton)
HDFS-2775. Fix TestStandbyCheckpoints.testBothNodesInStandbyState failing intermittently. Contributed by Todd Lipcon.
YARN-5296. NMs going OutOfMemory because ContainerMetrics leak in ContainerMonitorImpl. Contributed by Junping Du
YARN-2398. TestResourceTrackerOnHA crashes. Contributed by Ajith S.
HADOOP-12906. AuthenticatedURL should convert a 404/Not Found into an FileNotFoundException. (Steve Loughran via gtcarrera9)
"HADOOP-13580. If user is unauthorized, log ""unauthorized"" instead of ""Invalid signed text:"". Contributed by Wei-Chiu Chuang."
YARN-7665. Allow FS scheduler state dump to be turned on/off separately from FS debug log. (Wilfred Spiegelenburg via Haibo Chen)
HDFS-11140. Directory Scanner should log startup message time correctly. Contributed by Yiqun Lin.
HADOOP-7688. Add servlet handler check in HttpServer.start().  Contributed by Uma Maheswara Rao G
YARN-7860. Fix UT failure TestRMWebServiceAppsNodelabel#testAppsRunning. Contributed by Sunil G.
HADOOP-14431. ModifyTime of FileStatus returned by SFTPFileSystem's getFileStatus method is wrong. Contributed by Hongyuan Li.
HDFS-5795. RemoteBlockReader2#checkSuccess() shoud print error status. (Xiao Chen via Yongjun Zhang)
MAPREDUCE-6601. Fix typo in Job#setUseNewAPI. Contributed by Kai Sasaki.
HADOOP-7032. Assert type constraints in the FileStatus constructor. Contributed by Eli Collins
HADOOP-11857. Fix CommandFormat#commandFormat java doc annotation. Contributed by J.Andreina.
MAPREDUCE-6540. TestMRTimelineEventHandling fails (sjlee)
MAPREDUCE-6717. Remove deprecated StringUtils.getFormattedTimeWithDiff. Contributed by Shen Yinjie.
HDFS-5381. ExtendedBlock#hashCode should use both blockId and block pool ID (Benoy Antony via Colin Patrick McCabe)
YARN-845. RM crash with NPE on NODE_UPDATE (Mayank Bansal via bikas)
MAPREDUCE-6613. Change mapreduce.jobhistory.jhist.format default from json to binary (rchiang via rkanter)
HDFS-9181. Better handling of exceptions thrown during upgrade shutdown. Contributed by Wei-Chiu Chuang.
MAPREDUCE-6126. Fixed Rumen JobBuilder to ignore NormalizedResourceEvent. Contributed by Junping Du
YARN-1760. TestRMAdminService assumes CapacityScheduler. (kasha)
"Revert ""MAPREDUCE-6455. Unable to use surefire > 2.18. (Charlie Helin via kasha)"""
YARN-6024. Capacity Scheduler 'continuous reservation looking' doesn't work when sum of queue's used and reserved resources is equal to max. Contributed by Wangda Tan.
HDFS-10506. Addendum patch to include missing changes. Contributed by Akira Ajisaka.
HDFS-5789. Some of snapshot APIs missing checkOperation double check in fsn. Contributed by Uma Maheswara Rao G.
YARN-4886. Add HDFS caller context for EntityGroupFSTimelineStore. Contributed by Li Lu
YARN-4817. Change Log Level to DEBUG for putDomain call in ATS 1.5. (Xuan Gong via gtcarrera9)
HDFS-11211. Add a time unit to the DataNode client trace format. Contributed by Jagadesh Kiran N
HADOOP-6905. Better logging messages when a delegation token is invalid. Contributed by Kan Zhang.
YARN-1268. TestFairScheduer.testContinuousScheduling is flaky (Sandy Ryza)
HADOOP-9773. TestLightWeightCache should not set size limit to zero when testing it.
HADOOP-12313. NPE in JvmPauseMonitor when calling stop() before start(). Contributed by Gabor Liptak.
MAPREDUCE-5273. Bring back a couple of protected variables in mapred and mapreduce CombineFileRecordReader for binary compatibility with 1.x APIs. Contributed by Mayank Bansal.
HDFS-9839. Reduce verbosity of processReport logging. (Contributed by Arpit Agarwal)
HADOOP-7937. Forward port SequenceFile#syncFs and friends from Hadoop 1.x.
YARN-7372. TestContainerSchedulerQueuing.testContainerUpdateExecTypeGuaranteedToOpportunistic is flaky.
MAPREDUCE-4666. JVM metrics for history server. (jlowe via jeagles)
HADOOP-6877. Common part of HDFS-1178. Contributed by Kan Zhang.
HADOOP-13473. Tracing in IPC Server is broken. Contributed by Daryn Sharp.
MAPREDUCE-4095. TestJobInProgress#testLocality uses a bogus topology. Contributed by Colin Patrick McCabe
HADOOP-8315. Support SASL-authenticated ZooKeeper in ActiveStandbyElector. Contributed by Todd Lipcon
HDFS-4482. ReplicationMonitor thread can exit with NPE due to the race between delete and replication of same file. Contributed by Uma Maheswara Rao G.
HDFS-11000. webhdfs PUT does not work if requests are routed to call queue. Contributed by Kihwal Lee.
MAPREDUCE-6873. MR Job Submission Fails if MR framework application path not on defaultFS. Contributed by Erik Krogen.
YARN-2731. Fixed RegisterApplicationMasterResponsePBImpl to properly invoke maybeInitBuilder. (Contributed by Carlo Curino)
YARN-1703. Fixed ResourceManager web-proxy to close connections correctly. Contributed by Rohith Sharma.
"Revert ""HDFS-12903. [READ] Fix closing streams in ImageWriter"""
HDFS-5592. statechangeLog of completeFile should be logged only in case of success. Contributed by Vinay.
HADOOP-12184. Remove unused Linux-specific constants in NativeIO (Martin Walsh via Colin P. McCabe)
MAPREDUCE-6104. TestJobHistoryParsing.testPartialJob fails in branch-2. Contributed by Mit Desai
HADOOP-14062. ApplicationMasterProtocolPBClientImpl.allocate fails with EOFException when RPC privacy is enabled. Contributed by Steven Rand
YARN-1868. YARN status web ui does not show correctly in IE 11. Contributed by Chuan Liu.
HADOOP-9429. TestConfiguration fails with IBM JAVA. Contributed by Amir Sanjar.
MAPREDUCE-3306. Fixed a bug in NodeManager ApplicationImpl that was causing NodeManager to crash. (vinodkv)
HDFS-2889. getNumCurrentReplicas is package private but should be public on0.23 (see HDFS-2408). Contributed by Gregory Chanan.
"Rvert ""HADOOP-11589. NetUtils.createSocketAddr should trim the input URI. Contributed by Rakesh R."""
HADOOP-10626. Limit Returning Attributes for LDAP search. Contributed by Jason Hubbard.
YARN-4534. Remove the redundant symbol in yarn rmadmin help msg. Contributed by Lin Yiqun.
ADOOP-9643. org.apache.hadoop.security.SecurityUtil calls toUpperCase(Locale.getDefault()) as well as toLowerCase(Locale.getDefault()) on hadoop.security.authentication value. (markrmiller@gmail.com via tucu)
HADOOP-14431. ModifyTime of FileStatus returned by SFTPFileSystem's getFileStatus method is wrong. Contributed by Hongyuan Li.
YARN-4498. Application level node labels stats to be available in REST (addendum patch). Contributed by Bibin A Chundatt.
HDFS-10261. TestBookKeeperHACheckpoints doesn't handle ephemeral HTTP ports. Contributed by Eric Badger.
HDFS-9880. TestDatanodeRegistration fails occasionally. Contributed by Kihwal Lee.
MAPREDUCE-6626. Reuse ObjectMapper instance in MapReduce. Contributed by Lin Yiqun.
HDFS-10273. Remove duplicate logSync() and log message in FSN#enterSafemode() (Vinayakumar B via cmccabe)
HDFS-9245. Fix findbugs warnings in hdfs-nfs/WriteCtx. Contributed by Mingliang Liu.
HADOOP-12514. Make static fields in GenericTestUtils for  assertExceptionContains() package-private and final. (Mingliang Liu via stevel)
HADOOP-8444. Fix the tests FSMainOperationsBaseTest.java and FileContextMainOperationsBaseTest.java to avoid potential test failure. Contributed by Madhukara Phatak. (harsh)
HADOOP-10478. Fix new findbugs warnings in hadoop-maven-plugins. Contributed by Li Lu.
HDFS-6059. TestBlockReaderLocal fails if native library not available (ajisakaa via cmccabe)
HADOOP-8347. Hadoop Common logs misspell 'successful'. Contributed by Philip Zeyliger
YARN-6248. user is not removed from UsersManager’s when app is killed with pending container requests. Contributed by Eric Payne.
MAPREDUCE-5545. org.apache.hadoop.mapred.TestTaskAttemptListenerImpl.testCommitWindow times out. Contributed by Robert Kanter
HADOOP-8801. ExitUtil#terminate should capture the exception stack trace. Contributed by Eli Collins
HDFS-13430. Fix TestEncryptionZonesWithKMS failure due to HADOOP-14445.
MAPREDUCE-6882. Increase MapReduce test timeouts from 1 second to 10 seconds. Contributed by Eric Badger
MAPREDUCE-3506. Calling getPriority on JobInfo after parsing a history log with JobHistoryParser throws a NullPointerException (Jason Lowe via bobby)
HADOOP-9880. SASL changes from HADOOP-9421 breaks Secure HA NN. Contributed by Daryn Sharp.
Add missing file TestCgroupsLCEResourcesHandler for YARN-1284.
YARN-4723. NodesListManager$UnknownNodeId ClassCastException. Contributed by Kuhu Shukla
YARN-3941. Proportional Preemption policy should try to avoid sending duplicate PREEMPT_CONTAINER event to scheduler. (Sunil G via wangda)
YARN-461. Fair scheduler should not accept apps with empty string queue name. (ywskycn via tucu)
Revert HDFS-7813.
HDFS-11316. TestDataNodeVolumeFailure#testUnderReplicationAfterVolFailure fails in trunk. Contributed by Yiqun Lin.
HADOOP-11815. HttpServer2 should destroy SignerSecretProvider when it stops. Contributed by Rohith.
HDFS-2434. TestNameNodeMetrics.testCorruptBlock fails intermittently. Contributed by Jing Zhao.
MAPREDUCE-6811. TestPipeApplication#testSubmitter fails after HADOOP-13802 (Brahma Reddy Battula via Varun Saxena)
HDFS-5239.  Allow FSNamesystem lock fairness to be configurable (daryn)
YARN-5922. Remove direct references of HBaseTimelineWriter/Reader in core ATS classes. Contributed by Haibo Chen.
HADOOP-12324. Better exception reporting in SaslPlainServer.   (Mike Yoder via stevel)
HDFS-10485. Fix findbugs warning in FSEditLog.java. (aajisaka)
YARN-2377. Localization exception stack traces are not passed as diagnostic info. Contributed by Gera Shegalov
MAPREDUCE-3071. app master configuration web UI link under the Job menu opens up application menu. (thomas graves  via mahadev)
HDFS-3756. DelegationTokenFetcher creates 2 HTTP connections, the second one not properly configured. (tucu)
YARN-7995. Remove unnecessary boxings and unboxings from PlacementConstraintParser.java. Contributed by Sen Zhao.
MAPREDUCE-6497. Fix wrong value of JOB_FINISHED event in JobHistoryEventHandler. Contributed by Shinichi Yamashita.
MAPREDUCE-3431
MAPREDUCE-3383. Duplicate job.getOutputValueGroupingComparator() in ReduceTask. Contributed by Binglin Chang
HADOOP-14611. NetworkTopology.DEFAULT_HOST_LEVEL is unused (Contributed by Chen Liang via Daniel Templeton)
YARN-4246. NPE while listing app attempt. (Nijel S F via rohithsharmaks)
HADOOP-11782 Correct two thrown messages in ECSchema class. Contributed by Xinwei Qin
MAPREDUCE-4716. TestHsWebServicesJobsQuery.testJobsQueryStateInvalid fails with jdk7. (tgraves via tucu)
HDFS-3419. Cleanup LocatedBlock. Contributed by Eli Collins
HDFS-11250. Fix a typo in ReplicaUnderRecovery#setRecoveryID. Contributed by Yiqun Lin.
"HDFS-13357. Improve AclException message ""Invalid ACL: only directories may have a default ACL."". Contributed by Gabor Bota."
HDFS-9852. hdfs dfs -setfacl error message is misleading (Wei-Chiu Chuang via aw)
HDFS-13271. WebHDFS: Add constructor in SnapshottableDirectoryStatus with HdfsFileStatus as argument. Contributed by Lokesh Jain
YARN-7488. Make ServiceClient.getAppId method public to return ApplicationId for a service name. Contributed by Gour Saha
HADOOP-12609. Fix intermittent failure of TestDecayRpcScheduler. (Contributed by Masatake Iwasaki)
MAPREDUCE-6639 Process hangs in LocatedFileStatusFetcher if FileSystem.get throws. Ryan Blue via stevel
YARN-4535. Fix checkstyle error in CapacityScheduler.java (Naganarasimha G R via rohithsharmaks)
HDFS-6106. Reduce default for dfs.namenode.path.based.cache.refresh.interval.ms (cmccabe)
HDFS-10822. Log DataNodes in the write pipeline. John Zhuge via Lei Xu
MAPREDUCE-3992. Reduce fetcher doesn't verify HTTP status code of response. Contributed by Todd Lipcon.
MAPREDUCE-6121. JobResourceUpdater#compareFs() doesn't handle HA namespaces (rchiang via rkanter)
YARN-4684. TestYarnCLI#testGetContainers failing in CN locale. Contributed by Bibin A Chundatt.
YARN-6310. OutputStreams in AggregatedLogFormat.LogWriter can be left open upon exceptions. Contributed by Haibo Chen
MAPREDUCE-2710. Update JobSubmitter.printTokens(..) for HDFS-2161.
HDFS-11365. Log portnumber in PrivilegedNfsGatewayStarter. Contributed by Mukul Kumar Singh.
HDFS-6197. Rolling upgrade rollback on Windows can fail attempting to rename edit log segment files to a destination that already exists. Contributed by Chris Nauroth.
HDFS-12267. Ozone: XceiverClientManager should not close the connection if client holds the reference. Contributed by Nandakumar.
HDFS-5913. Nfs3Utils#getWccAttr() should check attr parameter against null. Contributed by Brandon Li
HDFS-6198. DataNode rolling upgrade does not correctly identify current block pool directory and replace with trash on Windows. Contributed by Chris Nauroth.
HDFS-9436. Make NNThroughputBenchmark$BlockReportStats run with 10 datanodes by default. Contributed by Mingliang.
HADOOP-11143 NetUtils.wrapException loses inner stack trace on BindException
MAPREDUCE-5446. TestJobHistoryEvents and TestJobHistoryParsing have race conditions. Contributed by Jason Lowe.
HDFS-3266. DFSTestUtil#waitCorruptReplicas doesn't sleep between checks. Contributed by Madhukara Phatak.
HDFS-6799. The invalidate method in SimulatedFSDataset failed to remove (invalidate) blocks from the file system. Contributed by Megasthenis Asteris.
YARN-6799. Remove the duplicated code in CGroupsHandlerImp.java. (Contributed by Weiyuan via Yufei Gu)
YARN-8185. Improve log in DirectoryCollection constructor. (Yufei Gu via Haibo Chen)
YARN-4480. Clean up some inappropriate imports. (Kai Zheng via umamahesh)
HADOOP-11165. TestUTF8 fails when run against java 8. Contributed by Stephen Chu.
HADOOP-12169 ListStatus on empty dir in S3A lists itself instead of returning an empty list. author: Pieter Reuse.
YARN-6792. Incorrect XML convertion in NodeIDsInfo and LabelsToNodesInfo. Contributed by Giovanni Matteo Fumarola.
HADOOP-6224. Add a method to WritableUtils supported a bounded read of an encoded String. Contributed by Jothi Padmanabhan
HDFS-5791. TestHttpsFileSystem should use a random port to avoid binding error during testing. Contributed by Haohui Mai
YARN-3760. FSDataOutputStream leak in AggregatedLogFormat.LogWriter.close(). Contributed by Haibo Chen.
HDFS-7805. NameNode recovery prompt should be printed on console (Surendra Singh Lilhore via Colin P. McCabe)
YARN-1790. Fair Scheduler UI not showing apps table (bc Wong via Sandy Ryza)
HADOOP-10824. Refactor KMSACLs to avoid locking. (Benoy Antony via umamahesh)
YARN-2508. Cross Origin configuration parameters prefix are not honored (Mit Desai via jeagles)
HADOOP-15056. Fix TestUnbuffer#testUnbufferException failure. Contributed by Jack Bearden.
HDFS-9376. TestSeveralNameNodes fails occasionally. Contributed by Masatake Iwasaki.
HDFS-4982. JournalNode should relogin from keytab before fetching logs from other JNs. Contributed by Todd Lipcon.
HADOOP-8703. distcpV2: turn CRC checking off for 0 byte size (Dave Thompson via bobby)
YARN-2147. client lacks delegation token exception details when application submit fails. Contributed by Chen He
HDFS-10601. Improve log message to include hostname when the NameNode is in safemode. Contributed by Kuhu Shukla.
"YARN-3629. NodeID is always printed as ""null"" in node manager initialization log. Contributed by nijel."
Added toString to ContainerToken. Contributed by Jason Lowe.
YARN-7942. Add check for JAAS configuration for Yarn Service.            Contributed by Billie Rinaldi
MAPREDUCE-6455. Unable to use surefire > 2.18. (Charlie Helin via kasha)
HDFS-10816. TestComputeInvalidateWork#testDatanodeReRegistration fails due to race between test and replication monitor. Contributed by Eric Badger.
HADOOP-10479. Fix new findbugs warnings in hadoop-minikdc. Contributed by Swarnim Kulkarni.
HDFS-12814. Add blockId when warning slow mirror/disk in BlockReceiver. Contributed by Jiandan Yang.
HADOOP-14062. ApplicationMasterProtocolPBClientImpl.allocate fails with EOFException when RPC privacy is enabled. Contributed by Steven Rand
HADOOP-12655. TestHttpServer.testBindAddress bind port range is wider  than expected. (Wei-Chiu Chuang via stevel)
HADOOP-11607. Reduce log spew in S3AFileSystem. (Lei (Eddy) Xu via stevel)
YARN-738. TestClientRMTokens is failing irregularly while running all yarn tests. Contributed by Ming Ma
HDFS-8230. Erasure Coding: Ignore DatanodeProtocol#DNA_ERASURE_CODING_RECOVERY commands from standbynode if any (Contributed by Vinayakumar B)
MAPREDUCE-3313. Fixed initialization of ClusterMetrics which was failing TestResourceTrackerService sometimes. Contributed by Hitesh Shah.
Addendum for HDFS-7748.
HDFS-12479. Some misuses of lock in DFSStripedOutputStream. Contributed by Huafeng Wang
MAPREDUCE-3259. Added java.library.path of NodeManager to ContainerLocalizer in LinuxContainerExecutor. Contributed by Kihwal Lee. 
HADOOP-8418. Update UGI Principal classes name for running with IBM JDK on 64 bits Windows.  (Yu Gao via eyang)
HDFS-3936. MiniDFSCluster shutdown races with BlocksMap usage. Contributed by Eli Collins
HADOOP-13921. Remove log4j classes from JobConf.
HDFS-7101. Potential null dereference in DFSck#doWork(). Contributed by skrho and Ted Yu.
HADOOP-12322. Typos in rpcmetrics.java. (Contributed by Anu Engineer)
HDFS-7190. Bad use of Preconditions in startFileInternal(). Contributed by Dawson Choong.
HDFS-3367. WebHDFS doesn't use the logged in user when opening connections (daryn)
HDFS-9947. Block#toString should not output information from derived classes (cmccabe)
MAPREDUCE-6553. Replace '\u2b05' with '<-' in rendering job configuration. Contributed by Gabor Liptak.
HDFS-9935. Remove LEASE_{SOFTLIMIT,HARDLIMIT}_PERIOD and unused import from HdfsServerConstants. Contributed Yiqun Lin.
YARN-5798. Set UncaughtExceptionHandler for all FairScheduler threads. (Yufei Gu via kasha)
HDFS-9535. Newly completed blocks in IBR should not be considered under-replicated too quickly. Contributed by Mingliang Liu.
YARN-6905. Addendum to fix TestTimelineReaderWebServicesHBaseStorage due to missing FastNumberFormat
HDFS-10182. Hedged read might overwrite user's buf. Contributed by zhouyingchao.
YARN-6561. Update exception message during timeline collector aux service initialization. (Vrushali C via Haibo Chen)
HADOOP-7296. The FsPermission(FsPermission) constructor does not use the sticky bit. Contributed by Siddharth Seth
HDFS-11709. StandbyCheckpointer should handle an non-existing legacyOivImageDir gracefully. Contributed by Erik Krogen.
HDFS-5807. TestBalancerWithNodeGroup.testBalancerWithNodeGroup fails intermittently. Contributed by Chen He.
HDFS-2575. DFSTestUtil may create empty files. Contributed by Todd Lipcon.
HDFS-10434. Fix intermittent test failure of TestDataNodeErasureCodingMetrics. Contributed by Rakesh R
HDFS-4602. TestBookKeeperHACheckpoints fails. Contributed by Uma Maheswara Rao G.
MAPREDUCE-6670. TestJobListCache#testEviction sometimes fails on Windows with timeout. Contributed by Gergely Novák.
HDFS-12215. DataNode.transferBlock does not create its daemon in the xceiver thread group. (Lei Xu)
HADOOP-12318. Expose underlying LDAP exceptions in SaslPlainServer. Contributed by Mike Yoder.
HDFS-12579. JournalNodeSyncer should use fromUrl field of EditLogManifestResponse to construct servlet Url. Contributed by Hanisha Koneru.
YARN-6618. TestNMLeveldbStateStoreService#testCompactionCycle can fail if compaction occurs more than once. Contributed by Jason Lowe.
HADOOP-8923. JNI-based user-group mapping modules can be too chatty on lookup failures. Contributed by Kihwal Lee.
HADOOP-14048. REDO operation of WASB#AtomicRename should create placeholder blob for destination folder. Contributed by NITIN VERMA
YARN-2117. Fixed the issue that secret file reader is potentially not closed in TimelineAuthenticationFilterInitializer. Contributed by Chen He.
HDFS-12048. Ozone:TestOzoneContainerRatis & TestRatisManager are failing consistently. Contributed by Mukul Kumar Singh.
HDFS-11903. Ozone: Cleaning up local storage when closing MiniOzoneCluster. Contributed by Mingliang Liu
HDFS-9350. Avoid creating temprorary strings in Block.toString() and getBlockName() (Staffan Friberg via cmccabe)
YARN-6131. FairScheduler: Lower update interval for faster tests. (kasha)
MAPREDUCE-5687. Fixed failure in TestYARNRunner caused by YARN-1446. Contributed by Jian He.
YARN-3157. Refactor the exception handling in ConverterUtils#to*Id. Contributed by Bibin A Chundatt.
MAPREDUCE-2289. Permissions race can make getStagingDir fail on local filesystem (ahmed via tucu)
HDFS-6945. BlockManager should remove a block from excessReplicateMap and decrement ExcessBlocks metric when the block is removed. (aajisaka)
HDFS-7603. The background replication queue initialization may not let others run. Contributed by Kihwal Lee.
HADOOP-7568. SequenceFile should not print into stdout. Contributed by Plamen Jeliazkov.
"HDFS-10396. Using -diff option with DistCp may get ""Comparison method violates its general contract"" exception. Contributed by Yongjun Zhang."
YARN-8035. Uncaught exception in ContainersMonitorImpl during relaunch due to the process ID changing. Contributed by Shane Kumpf.
YARN-4135. Improve the assertion message in MockRM while failing after waiting for the state.(Nijel S F via rohithsharmaks)
YARN-6249. TestFairSchedulerPreemption fails inconsistently. (Tao Jie via Yufei Gu)
HADOOP-10440. HarFsInputStream.read(byte[]) updates position incorrectly.  Contributed by guodongdong
HADOOP-11891. OsSecureRandom should lazily fill its reservoir (asuresh)
HDFS-9431. DistributedFileSystem#concat fails if the target path is relative. Contributed by Kazuho Fujii.
HADOOP-13723. AliyunOSSInputStream#read() should update read bytes stat correctly. Contributed by Mingliang Liu
HDFS-2267. DataXceiver thread name incorrect while waiting on op during keepalive. Contributed by Todd Lipcon.
HADOOP-9099. NetUtils.normalizeHostName fails on domains where UnknownHost resolves to an IP address. Contributed by Ivan Mitic.
HADOOP-14542. Add IOUtils.cleanupWithLogger that accepts slf4j logger API. Contributed by Chen Liang.
HDFS-11128. CreateEditsLog throws NullPointerException. Contributed by Hanisha Koneru.
HDFS-7831. Fix the starting index and end condition of the loop in FileDiffList.findEarlierSnapshotBlocks(). Contributed by Konstantin Shvachko.
YARN-3523. Cleanup ResourceManagerAdministrationProtocol interface audience. Contributed by Naganarasimha G R
HDFS-7395. BlockIdManager#clear() bails out when resetting the GenerationStampV1Limit. Contributed by Haohui Mai.
MAPREDUCE-6125. TestContainerLauncherImpl sometimes fails. Contributed by Mit Desai
MAPREDUCE-3782. teragen terasort jobs fail when using webhdfs:// (Jason Lowe via bobby)
HADOOP-9070. Kerberos SASL server cannot find kerberos key. Contributed by Daryn Sharp.
HADOOP-6781. security audit log shouldn't have exception in it.
HDFS-442. dfsthroughput in test jar throws NPE (harsh)
MAPREDUCE-3740. Fixed broken mapreduce compilation after the patch for HADOOP-7965. Contributed by Devaraj K.
YARN-3358. Audit log not present while refreshing Service ACLs. Contributed by Varun Saxena.
YARN-6951. Fix debug log when Resource Handler chain is enabled. Contributed by Yang Wang.
YARN-786: Addendum so that RMAppAttemptImpl#getApplicationResourceUsageReport won't return null
HADOOP-15280. TestKMS.testWebHDFSProxyUserKerb and TestKMS.testWebHDFSProxyUserSimple fail in trunk. Contributed by Bharat Viswanadham.
YARN-5804. New UI2 is not able to launch with jetty 9 upgrade post HADOOP-10075. (Sunil G via wangda)
MAPREDUCE-6701. application master log can not be available when clicking jobhistory's am logs link. Contributed by Haibo Chen
HADOOP-11692. Improve authentication failure WARN message to avoid user confusion. Contributed by Yongjun Zhang.
HADOOP-14798. Update sshd-core and related mina-core library versions. (rchiang)
HADOOP-15024 Support user agent configuration and include that & Hadoop version information to oss server. Contributed by Sammi Chen.
YARN-5927. BaseContainerManagerTest::waitForNMContainerState timeout accounting is not accurate. (Kai Sasaki via kasha)
MAPREDUCE-5229. Put back FileOutputCommitter.TEMP_DIR_NAME in mapreduce for binary compatibility with 1.x APIs. Contributed by Zhijie Shen.
HADOOP-14594. ITestS3AFileOperationCost::testFakeDirectoryDeletion to uncomment metric assertions. Contributed by Mingliang Liu
MAPREDUCE-4925. The pentomino option parser may be buggy. Contributed by Karthik Kambatla. (harsh)
HDFS-11512. Increase timeout on TestShortCircuitLocalRead#testSkipWithVerifyChecksum. Contributed by Eric Badger.
YARN-7699. queueUsagePercentage is coming as INF for getApp REST api call. Contributed by Sunil G.
MAPREDUCE-3263. Fixed the MAPREDUCE-3028 commit which broke MR1. Contributed by Hitesh Shah. 
HADOOP-13243. TestRollingFileSystemSink.testSetInitialFlushTime() fails intermittently. (Daniel Templeton via kasha)
HDFS-12791. NameNode Fsck http Connection can timeout for directories with multiple levels. Contributed by Mukul Kumar Singh.
HDFS-10508. DFSInputStream should set thread's interrupt status after catching InterruptException from sleep. Contributed by Jing Zhao.
HDFS-11958. Ozone: Ensure KSM is initiated using ProtobufRpcEngine. Contributed by Weiwei Yang.
YARN-5996. Native services AM kills app on AMRMClientAsync onError call. Contributed by Billie Rinaldi
"YARN-6200. Reverting since the same functionality achieved by YARN-1623. Revert ""YARN-5068. Expose scheduler queue to application master. (Harish Jaiprakash via rohithsharmaks)"""
HDFS-12264. DataNode uses a deprecated method IoUtils#cleanup. Contributed by Ajay Yadav.
HDFS-2349. Corruption detected during block transfers should log WARNs.
HDFS-3062. Fix bug which prevented MR job submission from creating delegation tokens on an HA cluster. Contributed by Mingjie Lai.
YARN-174. Modify NodeManager to pass the user's configuration even when rebooting. Contributed by Vinod Kumar Vavilapalli.
HDFS-3243. TestParallelRead timing out on jenkins. Contributed by Henry Robinson.
HDFS-9639. Inconsistent Logging in BootstrapStandby. (Contributed by Xiaobing Zhou)
YARN-6970. Add PoolInitializationException as retriable exception in FederationFacade. (Giovanni Matteo Fumarola via Subru).
MAPREDUCE-4612. job summary file permissions not set when its created (tgraves via bobby)
YARN-4979. FSAppAttempt demand calculation considers demands at multiple locality levels different. (Zhihai Xu via kasha)
HDFS-4138. BackupNode startup fails due to uninitialized edit log. Contributed by Kihwal Lee.
MAPREDUCE-2998. Fixed a bug in TaskAttemptImpl which caused it to fork bin/mapred too many times. Contributed by Vinod K V. 
HADOOP-10833. Remove unused cache in UserProvider. (Benoy Antony)
HDFS-9516. Truncate file fails with data dirs on multiple disks. Contributed by Plamen Jeliazkov.
YARN-4113. RM should respect retry-interval when uses RetryPolicies.RETRY_FOREVER. (Sunil G via wangda)
HDFS-6291. FSImage may be left unclosed in BootstrapStandby#doRun() ( Contributed by Sanghyun Yun)
YARN-3677. Fix findbugs warnings in yarn-server-resourcemanager. Contributed by Vinod Kumar Vavilapalli.
HDFS-10617. PendingReconstructionBlocks.size() should be synchronized. Contributed by Eric Badger.
YARN-3270. Fix node label expression not getting set in ApplicationSubmissionContext (Rohit Agarwal via wangda)
HADOOP-7282. ipc.Server.getRemoteIp() may return null.  Contributed by John George
HADOOP-6386. NameNode's HttpServer can't instantiate InetSocketAddress: IllegalArgumentException is thrown. Contributed by Konstantin Boudnik.
YARN-7045. Remove FSLeafQueue#addAppSchedulable. (Contributed by Sen Zhao via Yufei Gu)
HADOOP-8804. Improve Web UIs when the wildcard address is used. Contributed by Senthil Kumar
HADOOP-14690. RetryInvocationHandler should override toString(). Contributed by Yeliang Cang.
HADOOP-6441. Protect web ui from cross site scripting attacks (XSS) on the host http header and using encoded utf-7. (omalley)
HDFS-10337. OfflineEditsViewer stats option should print 0 instead of null for the count of operations. Contributed by Yiqun Lin.
MAPREDUCE-5366. TestMRAsyncDiskService fails on Windows. Contributed by Chuan Liu.
HDFS-11152. Start erasure coding policy ID number from 1 instead of 0 to void potential unexpected errors. Contributed by SammiChen.
HADOOP-12417. TestWebDelegationToken failing with port in use. Contributed by Mingliang Liu.
HDFS-3476. Correct the default used in TestDFSClientRetries.busyTest() after HDFS-3462. (harsh)
HADOOP-6853. Common component of HDFS-1045.
"Revert ""MAPREDUCE-6300. Task list sort by task id broken. Contributed by Siqi Li."""
YARN-5028. RMStateStore should trim down app state for completed applications(addendum). Contributed by Rohith Sharma K S.
YARN-7681. Double-check placement constraints in scheduling phase before actual allocation is made. (Weiwei Yang via asuresh)
HDFS-7936. Erasure coding: resolving conflicts in the branch when merging trunk changes (this commit is for HDFS-8035). Contributed by Zhe Zhang
HDFS-10588. False alarm in datanode log - ERROR - Disk Balancer is not enabled. Contributed by Weiwei Yang.
HDFS-6396. Remove support for ACL feature from INodeSymlink. Contributed by Charles Lamb.
HDFS-9159. [OIV] : return value of the command is not correct if invalid value specified in '-p (processor)' option (Contributed by nijel)
HDFS-6084. DFSConfigKeys.DFS_BLOCKREPORT_INTERVAL_MSEC_DEFAULT is not updated with latest block report interval of 6 hrs. Contributed by Vinayakumar B.
YARN-1262. TestApplicationCleanup relies on all containers assigned in a single heartbeat (Karthik Kambatla via Sandy Ryza)
HADOOP-11603. Metric Snapshot log can be changed #MetricsSystemImpl.java since all the services will be initialized. Contributed By Brahma Reddy Battula.
YARN-5349. TestWorkPreservingRMRestart#testUAMRecoveryOnRMWorkPreservingRestart fail intermittently. Contributed by Jason Lowe.
HADOOP-7268. FileContext.getLocalFSFileContext() behavior needs to be fixed w.r.t tokens. Contributed by jitendra.
HDFS-3378. Remove DFS_NAMENODE_SECONDARY_HTTPS_PORT_KEY and DEFAULT. Contributed by Eli Collins
MAPREDUCE-3179. Ensure failed tests exit with right error code. Contributed by Jonathan Eagles.
HDFS-11899. ASF License warnings generated intermittently in trunk. Contributed by Yiqun Lin.
HADOOP-6747. TestNetUtils fails on Mac OS X (Todd Lipcon via jghoman)
HDFS-7744. Fix potential NPE in DFSInputStream after setDropBehind or setReadahead is called (cmccabe)
MAPREDUCE-6889. Add Job#close API to shutdown MR client services. Contributed by Rohith Sharma K S.
MAPREDUCE-6821. Fix javac warning related to the deprecated APIs after upgrading Jackson. Contributed by Yiqin Lin.
HDFS-11879. Fix JN sync interval in case of exception. Contributed by Hanisha Koneru.
YARN-2409. RM ActiveToStandBy transition missing stoping previous rmDispatcher. Contributed by Rohith
MAPREDUCE-4994. -jt generic command line option does not work. (sandyr via tucu)
HADOOP-3450. Add tests to Local Directory Allocator for asserting their URI-returning capability. Contributed by Sho Shimauchi. (harsh)
HADOOP-14754. TestCommonConfigurationFields failed: core-default.xml has 2 wasb properties missing in classes. Contributed by John Zhuge.
HADOOP-6337. Updates FilterInitializer class to be more visible, and the init of the class is made to take a Configuration argument. Contributed by Jakob Homan.
HADOOP-12201. Add tracing to FileSystem#createFileSystem and Globber#glob (cmccabe)
HADOOP-11722. Some Instances of Services using ZKDelegationTokenSecretManager go down when old token cannot be deleted. Contributed by Arun Suresh.
YARN-1121. Addendum patch. Fixed AsyncDispatcher hang issue during stop due to a race condition caused by the previous patch. Contributed by Jian He. 
MAPREDUCE-6079. Rename JobImpl#username to reporterUserName. Contributed by Tsuyoshi Ozawa.
HDFS-11659. TestDataNodeHotSwapVolumes.testRemoveVolumeBeingWritten fail due to no DataNode available for pipeline recovery. Contributed by Lei (Eddy) Xu.
YARN-2340. Fixed NPE when queue is stopped during RM restart. Contributed by Rohith Sharmaks
YARN-3019. Make work-preserving-recovery the default mechanism for RM recovery. (Contributed by Jian He)
MAPREDUCE-5136. TestJobImpl->testJobNoTasks fails with IBM JAVA. Contributed by Amir Sanjar
HDFS-8108. Fsck should provide the info on mandatory option to be used along with -blocks ,-locations and -racks. Contributed by J.Andreina.
HADOOP-12828. Print user when services are started. (Wei-Chiu Chuang via Yongjun Zhang)
MAPREDUCE-5117. Changed MRClientProtocolPBClientImpl to be closeable and thus fix failures in renewal of HistoryServer's delegations tokens. Contributed by Siddharth Seth.
MAPREDUCE-5544. JobClient#getJob loads job conf twice. (Sandy Ryza)
YARN-8043.  Added the exception message for failed launches running under LCE.             Contributed by Shane Kumpf
HADOOP-7162. Rmove a duplicated call FileSystem.listStatus(..) in FsShell.  Contributed by Alexey Diomin
YARN-4313. Race condition in MiniMRYarnCluster when getting history server address. Contributed by Jian He
HDFS-9383. TestByteArrayManager#testByteArrayManager fails. Contributed by Tsz Wo Nicholas Sze.
HADOOP-12406. Fixed AbstractMapWritable.readFields to use the thread's ClassLoader to load class instead of System ClassLoader. Contributed by Nadeem Douba.
HADOOP-6188. TestTrash uses java.io.File api but not hadoop FileSystem api.  Contributed by Boris Shkolnik
HADOOP-15288. TestSwiftFileSystemBlockLocation doesn't compile. Contributed by Steve Loughran.
YARN-6536. TestAMRMClient.testAMRMClientWithSaslEncryption fails intermittently. Contributed by Jason Lowe.
HDFS-3683. Edit log replay progress indicator shows >100% complete. Contributed by Plamen Jeliazkov.
HADOOP-7129. Complete patch by removing the transitional method name. Contributed by Todd Lipcon
HDFS-13048. LowRedundancyReplicatedBlocks metric can be negative
HDFS-12744. More logs when short-circuit read is failed and disabled. Contributed by Weiwei Yang.
HADOOP-9399. protoc maven plugin doesn't work on mvn 3.0.2. Contributed by Todd Lipcon.
"Revert ""HADOOP-12687. SecureUtil#QualifiedHostResolver#getByName should also try to resolve direct hostname (Sunil G via rohithsharmaks)"""
HADOOP-10834. Typo in CredentialShell usage. (Benoy Antony via umamahesh)
HDFS-2814 NamenodeMXBean does not account for svn revision in the version information. Contributed by Hitesh Shah.
MAPREDUCE-3217. Reenabled and fixed bugs in the failing ant test TestAuditLogger. Contributed by Devaraj K.
HADOOP-9459. ActiveStandbyElector can join election even before Service HEALTHY, and results in null data at ActiveBreadCrumb. Contributed by Vinay and Todd Lipcon.
TimelineClient failed to retry on java.net.SocketTimeoutException: Read timed out
HADOOP-8395. Text shell command unnecessarily demands that a SequenceFile's key class be WritableComparable (harsh)
HADOOP-12659. Incorrect usage of config parameters in token manager of KMS. Contributed by Mingliang Liu.
YARN-6203: Occasional test failure in TestWeightedRandomRouterPolicy (curino)
HDFS-3101. Cannot read empty file using WebHDFS.
HDFS-4061. TestBalancer and TestUnderReplicatedBlocks need timeouts. Contributed by Eli Collins
YARN-7591. NPE in async-scheduling mode of CapacityScheduler. (Tao Yang via wangda)
HADOOP-9152. HDFS can report negative DFS Used on clusters with very small amounts of data. Contributed by Brock Noland.
HDFS-9696. Garbage snapshot records linger forever. Contributed by Kihwal Lee
HDFS-7399. Lack of synchronization in DFSOutputStream#Packet#getLastByteOffsetBlock() (Contributed by Vinayakumar B)
HADOOP-11520. Clean incomplete multi-part uploads in S3A tests.  (Thomas Demoor via stevel)
HDFS-9297. Update TestBlockMissingException to use corruptBlockOnDataNodesByDeletingBlockFile(). (Tony Wu via lei)
MAPREDUCE-6100. replace mapreduce.job.credentials.binary with MRJobConfig.MAPREDUCE_JOB_CREDENTIALS_BINARY for better readability. Contributed by Zhihai Xu.
HDFS-12825. Fsck report shows config key name for min replication issues (Contributed by Gabor Bota).
HADOOP-11912. Extra configuration key used in TraceUtils should respect prefix (Masatake Iwasaki via Colin P. McCabe)
HDFS-5806. Balancer should set soTimeout to avoid indefinite hangs. Contributed by Nathan Roberts.
HADOOP-12442. Display help if the command option to 'hdfs dfs' is not valid (Contributed by nijel)
HDFS-5514. FSNamesystem's fsLock should allow custom implementation (daryn)
YARN-4461. Redundant nodeLocalityDelay log in LeafQueue. Contributed by Eric Payne
HADOOP-9822. create constant MAX_CAPACITY in RetryCache rather than hard-coding 16 in RetryCache constructor. Contributed by Tsuyoshi Ozawa.
HDFS-12456. TestNamenodeMetrics.testSyncAndBlockReportMetric fails. Contributed by Bharat Viswanadham.
HADOOP-14293. Initialize FakeTimer with a less trivial value.
YARN-7067. [YARN-3926] Optimize ResourceType information display in UI. Contributed by Wangda Tan.
HDFS-6051. HDFS cannot run on Windows since short-circuit memory segment changes (cmccabe)
HDFS-5186. TestFileJournalManager fails on Windows due to file handle leaks. Contributed by Chuan Liu.
HDFS-4307. SocketCache should use monotonic time. Contributed by Colin Patrick McCabe.
MAPREDUCE-6525. Fix test failure of TestMiniMRClientCluster.testRestart. Contributed by Masatake Iwasaki.
HADOOP-11005. Fix HTTP content type for ReconfigurationServlet. Contributed by Lei Xu.
Amend HDFS-3753 to ignore TestHdfsNativeCodeLoader. To be fixed in HDFS-4003.
HDFS-5805. TestCheckpoint.testCheckpoint fails intermittently on branch-2. Contributed by Eric Badger.
MAPREDUCE-3712. Change default AM heartbeat interval to 1 second. (Contributed by Hitesh Shah)
Fix OOM issue in DistributedShell. Contributed by Jian He.
YARN-6323. Rolling upgrade/config change is broken on timeline v2. (Vrushali C via Haibo Chen)
HADOOP-11361. Fix a race condition in MetricsSourceAdapter.updateJmxCache. Contributed by Vinayakumar B, Yongjun Zhang, and Brahma Reddy Battula. (ozawa)
HDFS-12181. Ozone: Fix TestContainerReplicationManager by setting proper log level for LogCapturer. Contributed by Mukul Kumar Singh.
HDFS-3197. Incorrect class comments in a few tests. Contributed by Andy Isaacson
HADOOP-11179. Java untar should handle the case that the file entry comes without its parent directory entry. Contributed by Craig Welch.
HADOOP-9369. DNS#reverseDns() can return hostname with . appended at the end. Contributed by Karthik Kambatla.
MAPREDUCE-3872. Fix an event handling races in ContainerLauncherImpl. (Contributed by Robert Kanter)
YARN-4235. FairScheduler PrimaryGroup does not handle empty groups returned for a user. (Anubhav Dhoot via rohithsharmaks)
HADOOP-12542. TestDNS fails on Windows after HADOOP-12437. Contributed by Chris Nauroth.
HADOOP-10702. KerberosAuthenticationHandler does not log the principal names correctly. Contributed by Benoy Antony.
YARN-1928. Fixed a race condition in TestAMRMRPCNodeUpdates which caused it to fail occassionally. Contributed by Zhijie Shen.
HADOOP-9025. org.apache.hadoop.tools.TestCopyListing failing. Contributed by Jonathan Eagles
HDFS-2491. TestBalancer can fail when datanode utilization and avgUtilization is exactly same. Contributed by Uma Maheswara Rao G.
HDFS-3517. TestStartup should bind ephemeral ports. Contributed by Eli Collins
YARN-4543. Fix random test failure in TestNodeStatusUpdater.testStopReentrant. (Akihiro Suda via rohithsharmaks)
YARN-2361. RMAppAttempt state machine entries for KILLED state has duplicate event entries. (Zhihai Xu via kasha)
YARN-6061. Addendum. Remove extraneous change.
YARN-2907. SchedulerNode#toString should print all resource detail instead of only memory. (Contributed by Rohith)
YARN-5107. TestContainerMetrics fails. (aajisaka)
MAPREDUCE-4012 Hadoop Job setup error leaves no useful info to users. (tgraves)
HADOOP-9958. Add old constructor back to DelegationTokenInformation to unbreak downstream builds. (Andrew Wang)
HDFS-13192. Change the code order in getFileEncryptionInfo to avoid unnecessary call of assignment. Contributed by LiXin Ge.
HDFS-13004. TestLeaseRecoveryStriped.testLeaseRecovery is failing when safeLength is 0MB or larger than the test file. (Zsolt Venczel via lei)
HDFS-9076. Log full path instead of inodeId in DFSClient#closeAllFilesBeingWritten() (Contributed by Surendra Singh Lilhore)
MAPREDUCE-3062. Fixed default RMAdmin address. Contributed by Chris Riccomini.
HDFS-4269. Datanode rejects all datanode registrations from localhost in single-node developer setup on Windows. Contributed by Chris Nauroth.
HDFS-6077. running slive with webhdfs on secure HA cluster fails with unkown host exception. Contributed by Jing Zhao.
HADOOP-11632. Cleanup Find.java to remove SupressWarnings annotations. Contributed by Akira AJISAKA.
HDFS-4815. TestRBWBlockInvalidation: Double call countReplicas() to fetch corruptReplicas and liveReplicas is not needed. Contributed by Tian Hong Wang.
HADOOP-12346. Increase some default timeouts / retries for S3a connector. (Sean Mackrory via Lei (Eddy) Xu)
HADOOP-7058. Expose number of bytes in FSOutputSummer buffer to implementatins. Contributed by Todd Lipcon.
HADOOP-12495. Fix posix_spawn error on OS X (aw)
HDFS-6610. TestShortCircuitLocalRead tests sometimes timeout on slow machines. Contributed by Charles Lamb.
HDFS-11904. Reuse iip in unprotectedRemoveXAttrs calls.
HADOOP-14459. SerializationFactory shouldn't throw a NullPointerException if the serializations list is not defined (Contributed by Nandor Kollar via Daniel Templeton)
HADOOP-11271. Use Time.monotonicNow() in Shell.java instead of Time.now() (Contributed by Vinayakumar B)
HDFS-7494. Checking of closed in DFSInputStream#pread() should be protected by synchronization (Ted Yu via Colin P. McCabe)
YARN-4393. Fix intermittent test failure for TestResourceLocalizationService#testFailedDirsResourceRelease (Varun Saxana via rohithsharmaks)
YARN-5873. RM crashes with NPE if generic application history is enabled. Contributed by Varun Saxena.
YARN-4158. Remove duplicate close for LogWriter in AppLogAggregatorImpl#uploadLogsForContainers. Contributed by Zhihai Xu
HDFS-4055. TestAuditLogs is flaky. Contributed by Binglin Chang 
HDFS-6135. In HDFS upgrade with HA setup, JournalNode cannot handle layout version bump when rolling back. Contributed by Jing Zhao.
HDFS-4863. The root directory should be added to the snapshottable directory list while loading fsimage. Contributed by Jing Zhao
HDFS-10772. Reduce byte/string conversions for get listing. Contributed by Daryn Sharp.
HADOOP-10590. ServiceAuthorizationManager is not threadsafe. (Contributed by Benoy Antony)
HDFS-7936. Erasure coding: resolving conflicts when merging with HDFS-7903, HDFS-7435 and HDFS-7930 (this commit is for HDFS-7930 only)
HADOOP-10549. MAX_SUBST and varPat should be final in Configuration.java. Contributed by Gera Shegalov.
HDFS-11904. Reuse iip in unprotectedRemoveXAttrs calls.
HADOOP-11273. TestMiniKdc failure: login options not compatible with IBM JDK. Contributed by Gao Zhong Liang.
YARN-6560. SLS doesn't honor node total resource specified in sls-runner.xml. Contributed by Wangda Tan.
HDFS-6288. DFSInputStream Pread doesn't update ReadStatistics. Contributed by Juan Yu.
YARN-5856. Unnecessary duplicate start container request sent to NM State store. Contributed by Varun Saxena.
YARN-7359. TestAppManager.testQueueSubmitWithNoPermission() should be scheduler agnostic. (Contributed by Haibo Chen)
HADOOP-11661. Deprecate FileUtil#copyMerge. Contributed by Brahma Reddy Battula.
HADOOP-13368. DFSOpsCountStatistics$OpType#fromSymbol and s3a.Statistic#fromSymbol should be O(1) operation. Contributed by Mingliang Liu.
HADOOP-10945. 4-digit octal umask permissions throws a parse error. Contributed by Chang Li
YARN-524 TestYarnVersionInfo failing if generated properties doesn't include an SVN URL
YARN-5436. Race in AsyncDispatcher can cause random test failures in Tez (probably YARN also). (Zhiyuan Yang via gtcarrera9)
YARN-4909. Fix intermittent failures of TestRMWebServices And TestRMWithCSRFFilter. Contributed by Bibin A Chundatt
YARN-3160. Fix non-atomic operation on nodeUpdateQueue in RMNodeImpl. (Contributed by Chengbing Liu)
HDFS-10908. Improve StripedBlockReader#createBlockReader error logging. Contributed by Manoj Govindassamy.
MAPREDUCE-6621. Memory Leak in JobClient#submitJobInternal(). Contributed by Xuan Gong
HDFS-10625. VolumeScanner to report why a block is found bad. Contributed by Rushabh S Shah and Yiqun Lin.
HDFS-8682. Should not remove decommissioned node,while calculating the number of live/dead decommissioned node. (Contributed by J. Andreina)
HDFS-11555. Fix typos in class OfflineImageReconstructor. Contributed by Yiqun Lin.
HADOOP-10495. TestFileUtil fails on Windows due to bad permission assertions. Contributed by Chris Nauroth.
HDFS-7334. Fix periodic failures of TestCheckpoint#testTooManyEditReplayFailures. Contributed by Charles Lamb.
HDFS-4584. Skip TestNNWithQJM.testNewNamenodeTakesOverWriter() on Windows.  Contributed by Arpit Agarwal
YARN-222. Fair scheduler should create queue for each user by default. Contributed by Sandy Ryza.
YARN-6649. RollingLevelDBTimelineServer throws RuntimeException if object decoding ever fails runtime exception. Contributed by Jon Eagles.
HDFS-10377. CacheReplicationMonitor shutdown log message should use INFO level (Yiqun Lin via cmccabe)
MAPREDUCE-6641. TestTaskAttempt fails in trunk. Contributed by Haibo Chen.
Fix CHANGES.txt (HDFS-2106 should be HDFS-2107) and add NumberReplicas.java.
YARN-3516. killing ContainerLocalizer action doesn't take effect when private localizer receives FETCH_FAILURE status. Contributed by zhihai xu
HDFS-8310. Fix TestCLI.testAll 'help: help for find' on Windows. (Kiran Kumar M R via Xiaoyu Yao)
HDFS-3925. Prettify PipelineAck#toString() for printing to a log. Contributed by Andrew Wang.
YARN-5680. Add 2 new fields in Slider status output - image-name and is-privileged-container. Contributed by Billie Rinaldi
HADOOP-10614. CBZip2InputStream is not threadsafe (Xiangrui Meng via Sandy Ryza)
MAPREDUCE-5995. native-task: Revert changes to Text internals. Contributed by Todd Lipcon.
HADOOP-7785. Add equals, hashcode, toString to DataChecksum. Contributed by Todd Lipcon.
YARN-6882. AllocationFileLoaderService.reloadAllocations() should use the diamond operator (Contributed by Larry Lo via Daniel Templeton)
YARN-1832. Fix wrong MockLocalizerStatus#equals implementation. Contributed by Hong Zhiguo.
YARN-481. Add AM Host and RPC Port to ApplicationCLI Status Output (Chris Riccomini via bikas)
HDFS-7931. DistributedFileSystem should not look for keyProvider in cache if Encryption is disabled (asuresh)
HDFS-8321. CacheDirectives and CachePool operations should throw RetriableException in safemode. Contributed by Haohui Mai.
HADOOP-14478. Optimize NativeAzureFsInputStream for positional reads. Contributed by Rajesh Balamohan
HADOOP-13288. Guard null stats key in FileSystemStorageStatistics (Mingliang Liu via Colin P. McCabe)
MAPREDUCE-4215. RM app page shows 500 error on appid parse error (Jonathon Eagles via tgraves)
HDFS-12988. RBF: Mount table entries not properly updated in the local cache. Contributed by Inigo Goiri.
MAPREDUCE-6565. Configuration to use host name in delegation token service is not read from job.xml during MapReduce job execution. Contributed by Li Lu.
HADOOP-13787. Azure testGlobStatusThrowsExceptionForUnreadableDir fails. Contributed by John Zhuge.
HADOOP-10929. Typo in Configuration.getPasswordFromCredentialProviders. Contributed by Larry McCay
YARN-4613. Fix test failure in TestClientRMService#testGetClusterNodes. (Takashi Ohnishi via rohithsharmaks)
HDFS-3495. Update Balancer to support new NetworkTopology with NodeGroup.  Contributed by Junping Du
HDFS-2553. Fix BlockPoolSliceScanner spinning in a tight loop. Contributed by Uma Maheswara Rao G.
HADOOP-12016. Typo in FileSystem::listStatusIterator. Contributed by Arthur Vigil.
HDFS-11827. NPE is thrown when log level changed in BlockPlacementPolicyDefault#chooseRandom() method. Contributed by xupeng.
HADOOP-15253. Should update maxQueueSize when refresh call queue. Contributed by Tao Jie.
HDFS-4780. Use the correct relogin method for services. Contributed by Robert Parker.
YARN-2725. Added test cases of retrying creating znode in ZKRMStateStore. Contributed by Tsuyoshi Ozawa
" HADOOP-13830. Intermittent failure of ITestS3NContractRootDir#testRecursiveRootListing: ""Can not create a Path from an empty string"". Contributed by Steve Loughran"
YARN-2195. Clean a piece of code in ResourceRequest. Contributed by Wei Yan.
HDFS-6069. Quash stack traces when ACLs are disabled. Contributed by Chris Nauroth.
MAPREDUCE-3073. Fixed build issues in MR1. Contributed by Mahadev Konar.
YARN-3892. Fixed NPE on RMStateStore#serviceStop when CapacityScheduler#serviceInit fails. Contributed by Bibin A Chundatt
YARN-538. RM address DNS lookup can cause unnecessary slowness on every JHS page load. (sandyr via tucu)
HDFS-11620. Ozone: Allocate container for MiniOzone cluster fails because of insufficient space error. Contributed by Mukul Kumar Singh.
YARN-6497. Method length of ResourceManager#serviceInit() is too long (Gergely Novák via jeagles)
MAPREDUCE-6443. Add JvmPauseMonitor to JobHistoryServer. Contributed by Robert Kanter. (cherry picked from commit c8469357bad481ca8e341050553a5ae6d98bf8e5)
YARN-5796. Convert enums values in service code to upper case and special handling of an error. Contributed by Gour Saha
HDFS-4546. Use DFSUtil.getSpnegoKeytabKey() to get the spnego keytab key in secondary namenode and namenode http server. Contributed by Arpit Agarwal.
HDFS-12167. Ozone: Intermittent failure TestContainerPersistence#testListKey. Contributed by Surendra Singh Lilhore.
YARN-1698. Fixed default TimelineStore in code to match what is documented in yarn-default.xml. Contributed by Zhijie Shen.
HADOOP-11462. TestSocketIOWithTimeout needs change for PowerPC platform. Contributed by Ayappan.
YARN-6627. Use deployed webapp folder to launch new YARN UI. Contributed by Sunil G
HDFS-10275. TestDataNodeMetrics failing intermittently due to TotalWriteTime counted incorrectly. Contributed by Lin Yiqun.
"Revert ""HDFS-12185. Ozone: Fix Leaking in TestXceiverClientManager. Contributed by Xiaoyu Yao"""
HDFS-6055. Change default configuration to limit file name length in HDFS. Contributed by Chris Nauroth.
HDFS-7950. Fix TestFsDatasetImpl#testAddVolumes failure on Windows. (Contributed by Xiaoyu Yao)
HDFS-49. MiniDFSCluster.stopDataNode will always shut down a node in the cluster if a matching name is not found. (stevel)
MAPREDUCE-3615. Fix some ant test failures. (Contributed by Thomas Graves)
HADOOP-6279. Add Runtime::maxMemory to JVM metrics. Contributed by Todd Lipcon
HDFS-4502. JsonUtil.toFileStatus(..) should check if the fileId property exists.  Contributed by Brandon Li
HADOOP-12831. LocalFS/FSOutputSummer NPEs in constructor if bytes per checksum set to 0 (Mingliang Liu via gtcarrera9)
YARN-6560. SLS doesn't honor node total resource specified in sls-runner.xml. Contributed by Wangda Tan.
HDFS-4013. TestHftpURLTimeouts throws NPE. Contributed by Chao Shi.
HDFS-5132. Deadlock in NameNode between SafeModeMonitor#run and DatanodeManager#handleHeartbeat. Contributed by Kihwal Lee.
HDFS-6787. Remove duplicate code in FSDirectory#unprotectedConcat. Contributed by Yi Liu.
YARN-2111. In FairScheduler.attemptScheduling, we don't count containers as assigned if they have 0 memory but non-zero cores (Sandy Ryza)
YARN-5915. ATS 1.5 FileSystemTimelineWriter causes flush() to be called after every event write. Contributed by Atul Sikaria
HDFS-11845. Ozone: Output error when DN handshakes with SCM. Contributed by Weiwei Yang
HDFS-9270. TestShortCircuitLocalRead should not leave socket after unit test (Masatake Iwasaki via Colin P. McCabe)
MAPREDUCE-4066. Use default value when fetching MR_AM_STAGING_DIR. Contributed by xieguiming.
YARN-3538. TimelineWebService doesn't catch runtime exception. Contributed by Steve Loughran and Tsuyoshi Ozawa.
HDFS-4310. fix test org.apache.hadoop.hdfs.server.datanode.TestStartSecureDataNode Contributed by Ivan A. Veselovsky.
reverting HDFS-5034 because jenkins did not run on it
HADOOP-7091. reloginFromKeytab() should happen even if TGT can't be found.  Contribued by Kan Zhang.
HDFS-11132. Allow AccessControlException in contract tests when getFileStatus on subdirectory of existing files. Contributed by Vishwajeet Dusane
HDFS-4443. Remove a trailing '`' character from the HTML code generated by NamenodeJspHelper.generateNodeData(..).  Contributed by Christian Rohling
HDFS-11953. Remove Guava v21 usage from HDFS-7240. Contributed by Xiaoyu Yao.
HDFS-6487. TestStandbyCheckpoint#testSBNCheckpoints is racy. Contributed by Mit Desai.
HADOOP-7131. Exceptions thrown by Text methods should include the causing exception. Contributed by Uma Maheswara Rao G.
YARN-4956. findbug issue on LevelDBCacheTimelineStore. (Zhiyuan Yang via gtcarrera9)
YARN-1718. Fix a couple isTerminals in Fair Scheduler queue placement rules (Sandy Ryza)
HADOOP-7523. Test org.apache.hadoop.fs.TestFilterFileSystem fails due to java.lang.NoSuchMethodException. Contributed by John Lee.
HADOOP-10668. TestZKFailoverControllerStress#testExpireBackAndForth occasionally fails. Contributed by Ming Ma.
YARN-6424. TimelineCollector is not stopped when an app finishes in RM. Contributed by Varun Saxena.
HDFS-5456. NameNode startup progress creates new steps if caller attempts to create a counter for a step that doesn't already exist. Contributed by Chris Nauroth.
YARN-8145. yarn rmadmin -getGroups doesn't return updated groups for user. Contributed by Sunil G.
YARN-283. Fair scheduler fails to get queue info without root prefix. (sandyr via tucu)
HDFS-3332. NullPointerException in DN when directoryscanner is trying to report bad blocks. Contributed by  Amith D K.
HDFS-8247. TestDiskspaceQuotaUpdate#testAppendOverTypeQuota is failing. Contributed by Xiaoyu Yao.
MAPREDUCE-6105. nconsistent configuration in property mapreduce.reduce.shuffle.merge.percent. Contributed by Ray Chiang.
HADOOP-10075. addendum to fix compilation on Windows
HDFS-11409. DatanodeInfo getNetworkLocation and setNetworkLocation shoud use volatile instead of synchronized. Contributed by Chen Liang.
MAPREDUCE-5757. ConcurrentModificationException in JobControl.toList. Contributed by Jason Lowe
HDFS-7936. Erasure coding: resolving conflicts in the branch when merging (this commit is for HDFS-7742)
MAPREDUCE-6831. Flaky test TestJobImpl.testKilledDuringKillAbort. Contributed by Peter Bacsko
YARN-1837. Fixed TestMoveApplication#testMoveRejectedByScheduler failure. Contributed by Hong Zhiguo
HDFS-6528. Add XAttrs to TestOfflineImageViewer. Contributed by Stephen Chu.
HADOOP-8330. Update TestSequenceFile.testCreateUsesFsArg() for HADOOP-8305.  Contributed by John George
HADOOP-11361. Fix a race condition in MetricsSourceAdapter.updateJmxCache. Contributed by Brahma Reddy Battula.
HADOOP-9576. Changed NetUtils#wrapException to throw EOFException instead of wrapping it as IOException. Contributed by Steve Loughran
YARN-4624. NPE in PartitionQueueCapacitiesInfo while accessing Schduler UI. Contributed by Brahma Reddy Battula
HDFS-4571. WebHDFS should not set the service hostname on the server side. (tucu)
MAPREDUCE-5525. Increase timeout of TestDFSIO.testAppend and TestMRJobsWithHistoryService.testJobHistoryData. Contributed by Chuan Liu.
HDFS-7963. Fix expected tracing spans in TestTracing. Contributed by Masatake Iwasaki.
YARN-5923. Unable to access logs for a running application if YARN_ACL_ENABLE is enabled. Contributed by Xuan Gong.
YARN-2392. Add more diags about app retry limits on AM failures. Contributed by Steve Loughran
HADOOP-10647. String Format Exception in SwiftNativeFileSystemStore.java.
HDFS-11890. Handle NPE in BlockRecoveryWorker when DN is getting shoutdown. Contributed by Surendra Singh Lilhore.
HADOOP-14942. DistCp#cleanup() should check whether jobFS is null. Contributed by Andras Bokor.
HDFS-3709. TestStartup tests still binding to the ephemeral port. Contributed by Eli Collins
MAPREDUCE-4932. mapreduce.job#getTaskCompletionEvents incompatible with Hadoop 1. (rkanter via tucu)
YARN-3090. DeletionService can silently ignore deletion task failures. Contributed by Varun Saxena
"Revert ""HDFS-4937. ReplicationMonitor can infinite-loop in BlockPlacementPolicyDefault#chooseRandom(). Contributed by Kihwal Lee."""
HADOOP-9433 TestLocalFileSystem#testHasFileDescriptor leaks file handle (Chris Nauroth via sanjay)
YARN-2453. TestProportionalCapacityPreemptionPolicy fails with FairScheduler. (Zhihai Xu via kasha)
HDFS-11290. TestFSNameSystemMBean should wait until JMX cache is cleared. Contributed by Erik Krogen.
HADOOP-8290. Remove remaining references to hadoop.native.lib (harsh) (fixed commit after revert)
MAPREDUCE-5454. TestDFSIO fails intermittently on JDK7 (Karthik Kambatla via Sandy Ryza)
HDFS-9331. Modify TestNameNodeMXBean#testNameNodeMXBeanInfo() to account for filesystem entirely allocated for DFS use. (Tony Wu via lei)
MAPREDUCE-4210. Expose listener address for WebApp (Daryn Sharp via bobby)
HADOOP-9657. NetUtils.wrapException to have special handling for 0.0.0.0 addresses and :0 ports. Contributed by Varun Saxena.
HDFS-11476. Fix NPE in FsDatasetImpl#checkAndUpdate. Contributed by Xiaobing Zhou.
HDFS-7932. Speed up the shutdown of datanode during rolling upgrade. Contributed by Kihwal Lee.
YARN-4995. FairScheduler: Display per-queue demand on the scheduler page. (xupeng via kasha)
HDFS-6848. Lack of synchronization on access to datanodeUuid in DataStorage#format. (Contributed by Xiaoyu Yao)
HDFS-7857. Improve authentication failure WARN message to avoid user confusion. Contributed by Yongjun Zhang.
HADOOP-11714. Add more trace log4j messages to SpanReceiverHost (cmccabe)
MAPREDUCE-2727. Fix divide-by-zero error in SleepJob for sleepCount equals 0. Contributed by Jeffrey Naisbitt.
HADOOP-11619. FTPFileSystem should override getDefaultPort. (Brahma Reddy Battula via gera)
HDFS-8581. ContentSummary on / skips further counts on yielding lock (contributed by J.Andreina)
HDFS-7561. TestFetchImage should write fetched-image-dir under target. Contributed by Liang Xie.
YARN-5660. Wrong audit constants are used in Get/Put of priority in RMWebService. Contributed by Rohith Sharma K S
MAPREDUCE-4387. RM gets fatal error and exits during TestRM (Kihwal Lee via tgraves)
YARN-1981. Nodemanager version is not updated when a node reconnects (Jason Lowe via jeagles)
HDFS-11147. Remove confusing log output in FsDatasetImpl#getInitialVolumeFailureInfos. Contributed by Chen Liang.
YARN-4634. Scheduler UI/Metrics need to consider cases like non-queue label mappings. (Sunil G via wangda)
MAPREDUCE-6012. DBInputSplit creates invalid ranges on Oracle. (Wei Yan via kasha)
YARN-4560. Make scheduler error checking message more user friendly. (Ray Chiang via kasha)
HDFS-11476. Fix NPE in FsDatasetImpl#checkAndUpdate. Contributed by Xiaobing Zhou.
HADOOP-14317. KMSWebServer$deprecateEnv may leak secret. Contributed by John Zhuge.
HDFS-554. Use System.arraycopy in BlockInfo.ensureCapacity. (harsh)
HADOOP-10612. NFS failed to refresh the user group id mapping table. Contributed by Brandon Li
HDFS-2678. When a FailoverProxyProvider is used, DFSClient should not retry connection ten times before failing over. Contributed by Aaron T. Myers.
HADOOP-12603. TestSymlinkLocalFSFileContext#testSetTimesSymlinkToDir occasionally fail. Contributed by Wei-Chiu Chuang.
HADOOP-6607. Add different variants of non caching HTTP headers. (tucu)
YARN-6534. ResourceManager failed due to TimelineClient try to init SSLFactory even https is not enabled. Contributed by Rohith Sharma K S.
HDFS-9485. Make BlockManager#removeFromExcessReplicateMap accept BlockInfo instead of Block. Contributed by Mingliang Liu.
HDFS-5434. Change block placement policy constructors from package private to protected. (Buddy Taylor via Arpit Agarwal)
YARN-2742. FairSchedulerConfiguration should allow extra spaces between value and unit. (Wei Yan via kasha)
YARN-3155. Refactor the exception handling code for TimelineClientImpl's retryOn method (Li Lu via wangda)
YARN-4581. AHS writer thread leak makes RM crash while RM is recovering. Contributed by sandflee.
YARN-6321. TestResources test timeouts are too aggressive. Contributed by Eric Badger
HDFS-8939. Test(S)WebHdfsFileContextMainOperations failing on branch-2. Contributed by Chris Nauroth.
HDFS-5100. TestNamenodeRetryCache fails on Windows due to incorrect cleanup. Contributed by Chuan Liu.
MAPREDUCE-6255. Fix JobCounter's format to use grouping separator. Contributed by Ryu Kobayashi.
HADOOP-12584. Disable browsing the static directory in HttpServer2. Contributed by Robert Kanter.
YARN-4603. FairScheduler should mention user requested queuename in error message when failed in queue ACL check. (Tao Jie via kasha)
HADOOP-11494. Lock acquisition on WrappedInputStream#unwrappedRpcBuffer may race with another thread. Contributed by Ted Yu.
MAPREDUCE-5805. Fixed MapReduce JobHistory encoding of queue-name to escape hyphens and thus avoid parsing errors. Contributed by Akira Ajisaka.
YARN-6072. RM unable to start in secure mode. Contributed by Ajith S.
HDFS-3630 Modify TestPersistBlocks to use both flush and hflush  (sanjay)
HADOOP-11112. TestKMSWithZK does not use KEY_PROVIDER_URI. (tucu via wang)
MAPREDUCE-5045. UtilTest#isCygwin method appears to be unused. Contributed by Neelesh Srinivas Salian.
HADOOP-8027. Visiting /jmx on the daemon web interfaces may print unnecessary error in logs. Contributed by Aaron T. Myers.
YARN-3359. Addendum for Recover collector list when RM fails over (Li Lu via Varun Saxena)
YARN-1919. Potential NPE in EmbeddedElectorService#stop. (Tsuyoshi Ozawa via kasha)
HADOOP-14166. Reset the DecayRpcScheduler AvgResponseTime metric to zero when queue is not used. Contributed by Surendra Singh Lilhore.
MAPREDUCE-3018. Fixed -file option for streaming. Contributed by Mahadev Konar.
HADOOP-15355. TestCommonConfigurationFields is broken by HADOOP-15312. Contributed by LiXin Ge.
HDFS-5879. Some TestHftpFileSystem tests do not close streams. Contributed by Gera Shegalov.
HDFS-6614. shorten TestPread run time with a smaller retry timeout setting. Contributed by Liang Xie.
YARN-6263. NMTokenSecretManagerInRM.createAndGetNMToken is not thread safe. Contributed by Haibo Chen
YARN-2070. Made DistributedShell publish the short user name to the timeline server. Contributed by Robert Kanter.
YARN-3236. Cleanup RMAuthenticationFilter#AUTH_HANDLER_PROPERTY. Contributed by zhihai xu
YARN-1498 addendum to fix findbugs warning
YARN-4689. FairScheduler: Cleanup preemptContainer to be more readable. (Kai Sasaki via kasha)
Revert YARN-4126. RM should not issue delegation tokens in unsecure mode.
HDFS-13233. RBF: MountTableResolver doesn't return the correct mount point of the given path. Contributed by wangzhiyuan.
HADOOP-10404.  Commit correct version of patch (cmccabe)
HDFS-10805. Reduce runtime for append test. Contributed by Gergely Novak.
YARN-5024. TestContainerResourceUsage#testUsageAfterAMRestartWithMultipleContainers random failure. Contributed by Bibin A Chundatt
HDFS-5936. MiniDFSCluster does not clean data left behind by SecondaryNameNode. Contributed by Binglin Chang.
MAPREDUCE-4750. Enable NNBenchWithoutMR in MapredTestDriver (Liang Xie and Jason Lowe via raviprak)
MAPREDUCE-4274 MapOutputBuffer should use native byte order for kvmeta. (todd via bobby)
YARN-700. TestInfoBlock fails on Windows because of line ending missmatch. Contributed by Ivan Mitic.
YARN-7947. Capacity Scheduler intra-queue preemption can NPE for non-schedulable apps. Contributed by Eric Payne.
HADOOP-13710. Supress CachingGetSpaceUsed from logging interrupted exception stacktrace. Contributed by Hanisha Koneru.
MAPREDUCE-6221. Stringifier is left unclosed in Chain#getChainElementConf(). Contributed by Ted Yu.
HADOOP-12638. UnsatisfiedLinkError while checking ISA-L in checknative command. (Kai Sasaki via Colin P. McCabe)
HDFS-7871. NameNodeEditLogRoller can keep printing 'Swallowing exception' message. Contributed by Jing Zhao.
YARN-6746. SchedulerUtils.checkResourceRequestMatchingNodePartition() is dead code (Contributed by Deepti Sawhney via Daniel Templeton)
HDFS-12771. Add genstamp and block size to metasave Corrupt blocks list. Contributed by Kuhu Shukla.
YARN-7511. NPE in ContainerLocalizer when localization failed for running container. Contributed by Tao Yang
HDFS-12894. [READ] Skip setting block count of ProvidedDatanodeStorageInfo on DN registration update
HADOOP-12901. Add warning log when KMSClientProvider cannot create a connection to the KMS server. (Xiao Chen via wang)
HDFS-5034.  Remove debug prints from GetFileLinkInfo (Andrew Wang via Colin Patrick McCabe)
YARN-5862. TestDiskFailures.testLocalDirsFailures failed (Yufei Gu via Varun Saxena)
MAPREDUCE-4678. Running the Pentomino example with defaults throws java.lang.NegativeArraySizeException. Contributed by Chris McConnell. (harsh)
HDFS-11665. HttpFSServerWebServer$deprecateEnv may leak secret. Contributed by John Zhuge.
HADOOP-8684. Deadlock between WritableComparator and WritableComparable. Contributed by Jing Zhao
HDFS-12569. Unset EC policy logs empty payload in edit log. (Lei (Eddy) Xu)
HDFS-4302. Fix fatal exception when starting NameNode with DEBUG logs. Contributed by Eugene Koontz.
"Revert ""HADOOP-12584. Disable browsing the static directory in HttpServer2. Contributed by Robert Kanter."""
HDFS-6140. WebHDFS cannot create a file with spaces in the name after HA failover changes. Contributed by Chris Nauroth.
YARN-690. RM exits on token cancel/renew problems (daryn via bobby)
HDFS-4992. Make balancer's mover thread count and dispatcher thread count configurable.  Contributed by Max Lapan
In Balancer, the target task should be removed when its size < 0.  Contributed by Yiqun Lin
YARN-4938. MiniYarnCluster should not request transitionToActive to RM on non-HA environment. Contributed by Eric Badger.
HDFS-8174. Update replication count to live rep count in fsck report. Contributed by  J.Andreina
HDFS-11891. DU#refresh should print the path of the directory when an exception is caught. Contributed by Chen Liang.
HADOOP-6833. IPC leaks call parameters when exceptions thrown. Contributed by Todd Lipcon.
YARN-3191. Log object should be initialized with its own class. Contributed by Rohith.
YARN-3397. yarn rmadmin should skip -failover. (J.Andreina via kasha)
MAPREDUCE-5493. Cleanup in-memory & on-disk segments to prevent leak on shuffle completion. Contributed by Jason Lowe.
YARN-6965. Duplicate instantiation in FairSchedulerQueueInfo. Contributed by Masahiro Tanaka.
HDFS-12176. dfsadmin shows DFS Used%: NaN% if the cluster has zero block. Contributed by Weiwei Yang.
MAPREDUCE-4212. TestJobClientGetJob sometimes fails (Daryn Sharp via tgraves)
YARN-5754. Null check missing for earliest in FifoPolicy. (Yufei Gu via kasha)
HDFS-9123. Copying from the root to a subdirectory should be forbidden. (Wei-Chiu Chuang via Yongjun Zhang)
MAPREDUCE-3110. Fixed TestRPC failure. Contributed by Vinod Kumar Vavilapalli.
HDFS-6461. Use Time#monotonicNow to compute duration in DataNode#shutDown. Contributed by James Thomas.
HADOOP-9658. SnappyCodec#checkNativeCodeLoaded may unexpectedly fail when native code is not loaded. Contributed by Zhijie Shen.
HDFS-10173. Typo in DataXceiverServer. Contributed by Michael Han.
YARN-7355. TestDistributedShell should be scheduler agnostic. (Contributed by Haibo)
HDFS-5881. Fix skip() of the short-circuit local reader(legacy). Contributed by Kihwal Lee.
HDFS-6998. warning message 'ssl.client.truststore.location has not been set' gets printed for hftp command. (Contributed by Xiaoyu Yao)
HDFS-5213. TestDataNodeConfig failing on Jenkins runs due to DN web port in use. (wang)
"Revert ""MAPREDUCE-6286. A typo in HistoryViewer makes some code useless, which causes counter limits are not reset correctly. Contributed by Zhihai Xu."""
HDFS-8584. NPE in distcp when ssl configuration file does not exist in class path. Contributed by Surendra Singh Lilhore.
YARN-7629. TestContainerLaunch# fails after YARN-7381. (Jason Lowe via wangda)
HADOOP-12076. Incomplete Cache Mechanism in CredentialProvider API. Contributed by Larry McCay.
HDFS-9278. Fix preferredBlockSize typo in OIV XML output. Contributed by Nicole Pazmany.
YARN-5564. Fix typo in RM_SCHEDULER_RESERVATION_THRESHOLD_INCREMENT_MULTIPLE. Contributed by  Ray Chiang
MAPREDUCE-3770. Zombie.getJobConf() results into NPE. (amarrk)
YARN-5943. Write native services container stderr file to log directory. Contributed by Billie Rinaldi
YARN-3369. Missing NullPointer check in AppSchedulingInfo causes RM to die. (Brahma Reddy Battula via wangda)
YARN-7381. Enable the configuration: yarn.nodemanager.log-container-debug-info.enabled by default in yarn-default.xml. (Xuan Gong via wangda)
MAPREDUCE-5357. Job staging directory owner checking could fail on Windows.
Tests in mapreduce-client-app are writing outside of target. Contributed by Akira AJISAKA.
HDFS-10342. BlockManager#createLocatedBlocks should not check corrupt replicas if none are corrupt. Contributed by Kuhu Shukla.
"HDFS-9257. improve error message for ""Absolute path required"" in INode.java to contain the rejected path. Contributed by Marcell Szabo"
HDFS-9196. Fix TestWebHdfsContentLength. Contributed by Masatake Iwasaki.
HADOOP-10236. Fix typo in o.a.h.ipc.Client#checkResponse. Contributed by Akira Ajisaka.
YARN-6436. TestSchedulingPolicy#testParseSchedulingPolicy timeout is too low. (Eric Badger via kasha)
HADOOP-13461. NPE in KeyProvider.rollNewVersion. Contributed by Colm O hEigeartaigh.
YARN-3476. Nodemanager can fail to delete local logs if log aggregation fails. Contributed by Rohith
HDFS-7491. Add incremental blockreport latency to DN metrics. Contributed by Ming Ma.
YARN-6211. Synchronization improvement for moveApplicationAcrossQueues and updateApplicationPriority. Contributed by Bibin A Chundatt.
HADOOP-10688. Expose thread-level FileSystem StatisticsData (Sandy Ryza)
YARN-6890. Not display killApp button on UI if UI is unsecured but cluster is secured. Contributed by Junping Du
HADOOP-7272. Remove unnecessary security related info logs. Contributed by Suresh Srinivas.
YARN-4388. Cleanup mapreduce.job.hdfs-servers from yarn-default.xml (Junping Du via Varun Saxena)
HADOOP-8881. FileBasedKeyStoresFactory initialization logging should be debug not info. (tucu)
YARN-5317. testAMRestartNotLostContainerCompleteMsg may fail. Contributed by sandflee
HADOOP-9022. Hadoop distcp tool fails to copy file if -m 0 specified (Jonathan Eagles vai bobby)
HDFS-5512. CacheAdmin -listPools fails with NPE when user lacks permissions to view all pools (awang via cmccabe)
HDFS-11144. TestFileCreationDelete#testFileCreationDeleteParent fails wind bind exception. Contributed By Brahma Reddy Battula.
YARN-890. Ensure CapacityScheduler doesn't round-up metric for available resources. Contributed by Xuan Gong & Hitesh Shah.
HADOOP-8157. Fix race condition in Configuration that could cause spurious ClassNotFoundExceptions after a GC. Contributed by Todd Lipcon.
MAPREDUCE-4087. [Gridmix] GenerateDistCacheData job of Gridmix can become slow in some cases (ravigummadi)
HADOOP-14472. Azure: TestReadAndSeekPageBlobAfterWrite fails intermittently. Contributed by Mingliang Liu
HADOOP-9806 PortmapInterface should check if the procedure is out-of-range. Contributed by Brandon Li
HADOOP-10146. Workaround JDK7 Process fd close bug (daryn)
HADOOP-12173. NetworkTopology::add calls toString always. Contributed by Inigo Goiri
HADOOP-9632. TestShellCommandFencer will fail if there is a 'host' machine in the network. Contributed by Chuan Liu.
YARN-5184. Fix up incompatible changes introduced on ContainerStatus and NodeReport. Contributed by Sangjin Lee.
HDFS-8535. Clarify that dfs usage in dfsadmin -report output includes all block replicas. Contributed by Eddy Xu.
Revert HDFS-3639. JspHelper#getUGI should always verify the token if security is enabled.
HADOOP-11918. Listing an empty s3a root directory throws FileNotFound. Contributed by Lei (Eddy) Xu.
HADOOP-10841. EncryptedKeyVersion should have a key name property. (asuresh via tucu)
MAPREDUCE-4521. mapreduce.user.classpath.first incompatibility with 0.20/1.x (Ravi Prakash via bobby)
HADOOP-12589. Fix intermittent test failure of TestCopyPreserveFlag (iwasakims)
YARN-4899. Queue metrics of SLS capacity scheduler only activated after app submit to the queue. (Jonathan Hung via wangda)
HDFS-3682. MiniDFSCluster#init should provide more info when it fails. Contributed by Todd Lipcon
YARN-3600. AM container link is broken (Naganarasimha G R via tgraves
HDFS-2054 BlockSender.sendChunk() prints ERROR for connection closures encountered during transferToFully()
HDFS-3919. MiniDFSCluster:waitClusterUp can hang forever. Contributed by Andy Isaacson
YARN-3623. Add a config to indicate the Timeline Service version. Contributed by Xuan Gong.
YARN-5440. Use AHSClient in YarnClient when TimelineServer is running. (Xuan Gong via gtcarrera9)
HDFS-10438. When NameNode HA is configured to use the lifeline RPC server, it should log the address of that server. Contributed by Chris Nauroth.
HADOOP-14669. GenericTestUtils.waitFor should use monotonic time. Contributed by Daniel Templeton
HDFS-5979. Typo and logger fix for fsimage PB code. (wang)
YARN-8054. Improve robustness of the LocalDirsHandlerService MonitoringTimerTask thread. Contributed by Jonathan Eagles
Support additional compression levels for GzipCodec. Contributed by Ravi Mutyala.
HDFS-7884. Fix NullPointerException in BlockSender when the generation stamp provided by the client is larger than the one stored in the datanode.  Contributed by Brahma Reddy Battula
HDFS-12076. Ozone: Review all cases where we are returning FAILED_INTERNAL_ERROR. Contributed by Chen Liang.
MAPREDUCE-5159. Change ValueAggregatorJob to add APIs which can support binary compatibility with hadoop-1 examples. Contributed by Zhijie Shen.
YARN-5815. Random failure of TestApplicationPriority.testOrderOfActivatingThePriorityApplicationOnRMRestart (Bibin A Chundatt via Varun Saxena)
YARN-2484. FileSystemRMStateStore#readFile/writeFile should close FSData(In|Out)putStream in final block. Contributed by Tsuyoshi OZAWA
YARN-4544. All the log messages about rolling monitoring interval are shown with WARN level. Contributed by Takashi Ohnishi.
HDFS-9224. TestFileTruncate fails intermittently with BindException (Contributed by Brahma Reddy Battula)
HADOOP-6687.  user object in the subject in UGI should be reused in case of a relogin.
HADOOP-14067. VersionInfo should load version-info.properties from its own classloader. Contributed by Thejas M Nair.
YARN-2243. Order of arguments for Preconditions.checkNotNull() is wrong in SchedulerApplicationAttempt ctor. Contributed by Devaraj K.
HADOOP-11599. Client#getTimeout should use IPC_CLIENT_PING_DEFAULT when IPC_CLIENT_PING_KEY is not configured. Contributed by zhihai xu.
YARN-3584. Fixed attempt diagnostics format shown on the UI. Contributed by nijel
HDFS-7356. Use DirectoryListing.hasMore() directly in nfs. Contributed by Li Lu.
HDFS-2700. Fix failing TestDataNodeMultipleRegistrations in trunk. Contributed by Uma Maheswara Rao G.
MAPREDUCE-6460. TestRMContainerAllocator.testAttemptNotFoundCausesRMCommunicatorException fails. Contributed by Zhihai Xu.
HADOOP-15402. Prevent double logout of UGI's LoginContext
YARN-4628. Display application priority in yarn top. Contributed by Bibin A Chundatt.
HADOOP-15235. Authentication Tokens should use HMAC instead of MAC (rkanter)
MAPREDUCE-6436. JobHistory cache issue. Contributed by Kai Sasaki
HADOOP-13526. Add detailed logging in KMS for the authentication failure of proxy user. Contributed by Suraj Acharya.
HDFS-3932. NameNode Web UI broken if the rpc-address is set to the wildcard. Contributed by Colin Patrick McCabe
HDFS-2790. FSNamesystem.setTimes throws exception with wrong configuration name in the message. Contributed by Arpit Gupta
HDFS-6159. TestBalancerWithNodeGroup.testBalancerWithNodeGroup fails if there is block missing after balancer success. Contributed by Chen He.
HADOOP-12567. NPE in SaslRpcServer. Contributed by Sergey Shelukhin.
MAPREDUCE-6253. Update use of Iterator to Iterable. Contributed by Ray Chiang.
HADOOP-10657. Have RetryInvocationHandler log failover attempt at INFO level. Contributed by Ming Ma.
HDFS-8167. BlockManager.addBlockCollectionWithCheck should check if the block is a striped block. Contributed by Hui Zheng.
YARN-4973. YarnWebParams next.fresh.interval should be next.refresh.interval (templedf via rkanter)
TestGlobPath symlink tests fail to cleanup properly. (cmccabe via wang)
YARN-909. Disable TestLinuxContainerExecutorWithMocks on Windows. Contributed by Chuan Liu.
HADOOP-11581. Multithreaded correctness Warnings #org.apache.hadoop.fs.shell.Ls (Brahma Reddy Battula via aw)
MAPREDUCE-5470. LocalJobRunner does not work on Windows. Contributed by Sandy Ryza.
HDFS-8004. Use KeyProviderCryptoExtension#warmUpEncryptedKeys when creating an encryption zone. (awang via asuresh)
YARN-6372. Add default value for NM disk validator (Contributed by Yufei Gu via Daniel Templeton)
HDFS-4801. lsSnapshottableDir throws IllegalArgumentException when root is snapshottable.  Contributed by Jing Zhao
HADOOP-14743. CompositeGroupsMapping should not swallow exceptions. Contributed by Wei-Chiu Chuang.
"HADOOP-7193. Correct the ""fs -touchz"" command help message.  Contributed by Uma Maheswara Rao G"
HDFS-4669. TestBlockPoolManager fails using IBM java. Contributed by Tian Hong Wang.
YARN-5813. Slider should not try to set a negative lifetime timeout value. Contributed by Jian He
Fix a merge mistake from last trunk merge.
YARN-6284. hasAlreadyRun should be final in ResourceManager.StandByTransitionRunnable (Contributed by Laura Adams via Daniel Templeton)
HDFS-11718. DFSStripedOutputStream hsync/hflush should not throw UnsupportedOperationException. (Manoj Govindassamy via lei)
HADOOP-14030. PreCommit TestKDiag failure. Contributed by Wei-Chiu Chuang.
MAPREDUCE-7066. TestQueue fails on Java9
HDFS-2144. If SNN shuts down during initialization it does not log the cause. (Ravi Prakash via atm)
"HADOOP-14774. S3A case ""testRandomReadOverBuffer"" failed due to improper range parameter. Contributed by Yonger."
Fix broken download of directories
HDFS-6447. balancer should timestamp the completion message. Contributed by Juan Yu.
YARN-1979. TestDirectoryCollection fails when the umask is unusual. (Contributed by Vinod Kumar Vavilapalli and Tsuyoshi OZAWA)
YARN-7077. TestAMSimulator and TestNMSimulator fail. (Contributed by Akira Ajisaka via Yufei Gu)
HADOOP-14281. Fix TestKafkaMetrics#testPutMetrics. Contributed by Alison Yu.
HADOOP-8452. DN logs backtrace when running under jsvc and /jmx is loaded (Andy Isaacson via bobby)
MAPREDUCE-5359. JobHistory should not use File.separator to match timestamp in path. Contributed by Chuan Liu.
HDFS-12376. Enable JournalNode Sync by default. Contributed by Hanisha Koneru.
HDFS-3260. TestDatanodeRegistration should set minimum DN version in addition to minimum NN version. Contributed by Aaron T. Myers.
HDFS-4274. BlockPoolSliceScanner does not close verification log during shutdown. Contributed by Chris Nauroth.
HADOOP-11800. Clean up some test methods in TestCodec.java. Contributed by Brahma Reddy Battula.
HADOOP-15150. in FsShell, UGI params should be overidden through env vars(-D arg). Contributed by Brahma Reddy Battula.
HDFS-9648. TestStartup.testImageChecksum is broken by HDFS-9569's message change. (Wei-Chiu Chuang via Yongjun Zhang)
HDFS-5766. In DFSInputStream, do not add datanode to deadNodes after InvalidEncryptionKeyException in fetchBlockByteRange (Liang Xie via Colin Patrick McCabe)
YARN-7310. TestAMRMProxy#testAMRMProxyE2E fails with FairScheduler. (Robert Kanter via Haibo Chen)
HADOOP-11291. Log the cause of SASL connection failures. Contributed by Stephen Chu.
HDFS-9379. Make NNThroughputBenchmark support more than 10 datanodes. (Contributed by Mingliang Liu)
MAPREDUCE-5036. Default shuffle handler port should not be 8080. Contributed by Sandy Ryza.
MAPREDUCE-5274. Bring back SecureShuffleUtils.toHex in mapreduce for binary compatibility with 1.x APIs. Contributed by Mayank Bansal.
YARN-2813. Fixed NPE from MemoryTimelineStore.getDomains. Contributed by Zhijie Shen
HADOOP-6622. Token should not print the password in toString.
MAPREDUCE-6363. [NNBench] Lease mismatch error when running with multiple mappers. Contributed by Brahma Reddy Battula.
MAPREDUCE-5755. MapTask.MapOutputBuffer#compare/swap should have @Override annotation. (ozawa)
MAPREDUCE-5623. TestJobCleanup fails because of RejectedExecutionException and NPE. Contributed by Jason Lowe
HDFS-3768. Exception in TestJettyHelper is incorrect. Contributed by Eli Reisman.
MAPREDUCE-3904. Job history produced with mapreduce.cluster.acls.enabled false can not be viewed with mapreduce.cluster.acls.enabled true (Jonathon Eagles via tgraves)
YARN-7954. Set component status to STOPPED when YARN service is stopped. Contributed by Gour Saha
HDFS-2653. DFSClient should cache whether addrs are non-local when short-circuiting is enabled. Contributed by Eli Collins
YARN-3247. TestQueueMappings should use CapacityScheduler explicitly. Contributed by Zhihai Xu.
HDFS-10985. o.a.h.ha.TestZKFailoverController should not use fixed time sleep before assertions. Contributed by Mingliang Liu
YARN-1281. Fixed TestZKRMStateStoreZKClientConnections to not fail intermittently due to ZK-client timeouts. Contributed by Tsuyoshi Ozawa.
HADOOP-12706. TestLocalFsFCStatistics#testStatisticsThreadLocalDataCleanUp times out occasionally. Contributed by Sangjin Lee and Colin Patrick McCabe
HDFS-9467. Fix data race accessing writeLockHeldTimeStamp in FSNamesystem. Contributed by Mingliang Liu.
"Revert ""HADOOP-14732. ProtobufRpcEngine should use Time.monotonicNow to measure durations. Contributed by Hanisha Koneru."""
YARN-4279. Mark ApplicationId and ApplicationAttemptId static methods as @Public, @Unstable. (stevel)
HADOOP-13163 Reuse pre-computed filestatus in Distcp-CopyMapper (Rajesh Balamohan via stevel)
MAPREDUCE-5828. Fixed a test issue with TestMapReduceJobControl that was causing it to fail on Windows. Contributed by Vinod Kumar Vavilapalli.
HADOOP-12100. ImmutableFsPermission should not override applyUmask since that method doesn't modify the FsPermission (Bibin A. Chundatt via Colin P. McCabe)
HADOOP-7009. MD5Hash provides a public factory method that creates an instance of MessageDigest. Contributed by Hairong Kuang.
MAPREDUCE-3114. Fixed invalid ApplicationURL on RM WebUI. Contributed by Subroto Sanyal.
HDFS-7001. Tests in TestTracing should not depend on the order of execution. (iwasakims via cmccabe)
HDFS-2445. Ensure failed tests exit with proper error code. Contributed by Jonathan Eagles. 
HDFS-12312. Rebasing HDFS-10467 (2). Contributed by Inigo Goiri.
YARN-3533. Test: Fix launchAM in MockRM to wait for attempt to be scheduled. Contributed by Anubhav Dhoot
MAPREDUCE-3057. Job History Server goes of OutOfMemory with 1200 Jobs and Heap Size set to 10 GB. (Eric Payne via mahadev)
HDFS-4768. File handle leak in datanode when a block pool is removed. Contributed by Chris Nauroth.
Disable caching for JarURLConnection to avoid sharing JarFile with other users when loading resource from URL in Configuration class. Contributed by Zhihai Xu
HDFS-8363. Erasure Coding: DFSStripedInputStream#seekToNewSource. (yliu)
HDFS-5705. TestSecondaryNameNodeUpgrade#testChangeNsIDFails may fail due to ConcurrentModificationException. Contributed by Ted Yu
YARN-3505 addendum: fix an issue in previous patch.
HDFS-9049. Make Datanode Netty reverse proxy port to be configurable. Contributed by Vinayakumar B.
MAPREDUCE-3241. [Rumen] Fix Rumen to ignore the AMStartedEvent. (amarrk)
HDFS-9426. Rollingupgrade finalization is not backward compatible (Contributed by Kihwal Lee)
YARN-6703. RM startup failure with old state store due to version mismatch. Contributed by Varun Saxena
HDFS-776.  Fix exception handling in Balancer.  Contributed by Uma Maheswara Rao G
HADOOP-14405. Fix performance regression due to incorrect use of DataChecksum. Contributed by LiXin Ge.
YARN-3078. LogCLIHelpers lacks of a blank space before string 'does not exist'. Contributed by Sam Liu.
HADOOP-11878. FileContext#fixRelativePart should check for not null for a more informative exception. (Brahma Reddy Battula via kasha)
HDFS-4471. Namenode WebUI file browsing does not work with wildcard addresses configured. Contributed by Andrew Wang.
HADOOP-8894. GenericTestUtils.waitFor should dump thread stacks on timeout. Contributed by Todd Lipcon.
MAPREDUCE-4414. Add main methods to JobConf and YarnConfiguration, for debug purposes. Contributed by Plamen Jeliazkov.
HDFS-7897. Shutdown metrics when stopping JournalNode. Contributed by zhouyingchao.
HDFS-9842. dfs.datanode.balance.bandwidthPerSec should accept friendly size units. (Contributed by Lin Yiqun)
HADOOP-13158 S3AFileSystem#toString might throw NullPointerException due to null cannedACL. (Chris Nauroth via stevel)
HADOOP-14560. Make HttpServer2 backlog size configurable. Contributed by Alexander Krasheninnikov.
HDFS-7261. storageMap is accessed without synchronization in DatanodeDescriptor#updateHeartbeatState() (Brahma Reddy Battula via Colin P. McCabe)
HDFS-10668. Fix intermittently failing UT TestDataNodeMXBean#testDataNodeMXBeanBlockCount. Contributed by Mingliang Liu.
HDFS-8930. Block report lease may leak if the 2nd full block report comes when NN is still in safemode (Colin P. McCabe via Jing Zhao)
HDFS-6245. Datanode fails to start with a bad disk even when failed volumes is set. (Arpit Agarwal)
HDFS-7065. Pipeline close recovery race can cause block corruption. Contributed by Kihwal Lee.
YARN-2988. Graph#save() may leak file descriptors. (Ted Yu via ozawa)
HDFS-9304. Add HdfsClientConfigKeys class to TestHdfsConfigFields#configurationClasses. Contributed by Mingliang Liu.
YARN-7048. Fix tests faking kerberos to explicitly set ugi auth type. Contributed by Daryn Sharp
YARN-6186 Handle InvalidResourceRequestException in native services AM onError
HADOOP-7011.  Fix KerberosName.main() to not throw an NPE.  Contributed by Aaron T. Myers.
HDFS-10417. Improve error message from checkBlockLocalPathAccess. Contributed by Tianyin Xu.
MAPREDUCE-3344. o.a.h.mapreduce.Reducer since 0.21 blindly casts to ReduceContext.ValueIterator. Contributed by Brock Noland.
HDFS-9655. NN should start JVM pause monitor before loading fsimage. (John Zhuge via Lei (Eddy) Xu)
YARN-5622. TestYarnCLI.testGetContainers fails due to mismatched date formats. Contributed by Eric Badger.
HADOOP-10611. KMS, keyVersion name should not be assumed to be keyName@versionNumber. (tucu)
[Rumen] LoggedTaskAttempt#getHostName() returns null. (amarrk)
HDFS-2065. Add null checks in DFSClient.getFileChecksum(..).  Contributed by Uma Maheswara Rao G
MAPREDUCE-6036. TestJobEndNotifier fails intermittently in branch-2. Contributed by chang li
YARN-5631. Missing refreshClusterMaxPriority usage in rmadmin help message. Contributed by Kai Sasaki.
MAPREDUCE-6815. Fix flaky TestKill.testKillTask(). Contributed by Haibo Chen
YARN-3404. Display queue name on application page. Contributed by Ryu Kobayashi
YARN-4880. Running TestZKRMStateStorePerf with real zookeeper cluster throws NPE. Contributed by Sunil G
YARN-7663. RMAppImpl:Invalid event: START at KILLED. Contributed by lujie
HADOOP-11605. FilterFileSystem#create with ChecksumOpt should propagate it to wrapped FS. (gera)
"HADOOP-12239. StorageException complaining "" no lease ID"" when updating FolderLastModifiedTime in WASB. Contributed by Duo Xu."
HADOOP-11309. System class pattern package.Foo should match package.Foo$Bar, too. Contributed by Gera Shegalov
HDFS-12828. OIV ReverseXML Processor fails with escaped characters
HDFS-11229. HDFS-11056 failed to close meta file. Contributed by Wei-Chiu Chuang.
HADOOP-14111 cut some obsolete, ignored s3 tests in TestS3Credentials. Contributed by Yuanbo Liu
HDFS-4392. Use NetUtils#getFreeSocketPort in MiniDFSCluster. Contributed by Andrew Purtell.
HDFS-11960. Successfully closed files can stay under-replicated. Contributed by Kihwal Lee.
HADOOP-14914. Change to a safely casting long to int. Contributed by Ajay Kumar.
HDFS-3326. Append enabled log message uses the wrong variable. Contributed by Matthew Jacobs
YARN-6542. Fix the logger in TestAlignedPlanner and TestGreedyReservationAgent.
MAPREDUCE-3185. RM Web UI does not sort the columns in some cases. (Jonathan Eagles via mahadev)
HADOOP-10015. UserGroupInformation prints out excessive warnings.  Contributed by Nicolas Liochon
MAPREDUCE-6029. TestCommitterEventHandler fails in trunk. Contributed by Mit Desai
MAPREDUCE-6334. Fetcher#copyMapOutput is leaking usedMemory upon IOException during InMemoryMapOutput shuffle handler. Contributed by Eric Payne
HADOOP-10541. InputStream in MiniKdc#initKDCServer for minikdc.ldiff is not closed. Contributed by Swarnim Kulkarni.
HDFS-7109. TestDataStorage does not release file locks between tests. Contributed by Chris Nauroth.
MAPREDUCE-3521. Fixed streaming to ensure it doesn't silently ignore unknown arguments. Contributed by Robert Evans. 
YARN-2856. Fixed RMAppImpl to handle ATTEMPT_KILLED event at ACCEPTED state on app recovery. Contributed by Rohith Sharmaks
HDFS-8915. TestFSNamesystem.testFSLockGetWaiterCount fails intermittently. Contributed by Masatake Iwasaki.
HDFS-12143. Improve performance of getting and removing inode features. Contributed by Daryn Sharp.
YARN-4464. Lower the default max applications stored in the RM and store. (Daniel Templeton via kasha)
HDFS-7570. SecondaryNameNode need twice memory when calling reloadFromImageFile. Contributed by zhaoyunjiong.
MAPREDUCE-4422. YARN_APPLICATION_CLASSPATH needs a documented default value in YarnConfiguration. (ahmed via tucu)
HADOOP-14428. s3a: mkdir appears to be broken. Contributed by Mingliang Liu
HDFS-4903. Print trash configuration and trash emptier state in namenode log. Contributed by Arpit Agarwal.
MAPREDUCE-4098. TestMRApps testSetClasspath fails (tucu)
HDFS-8113. Add check for null BlockCollection pointers in BlockInfoContiguous structures (Chengbing Liu via Colin P. McCabe)
MAPREDUCE-3392. Fixed Cluster's getDelegationToken's API to return null when there isn't a supported token. Contributed by John George.
"HADOOP-6647. balancer fails with ""is not authorized for protocol interface NamenodeProtocol"" in secure environment"
HDFS-3395. NN doesn't start with HA+security enabled and HTTP address set to 0.0.0.0. Contributed by Aaron T. Myers.
HDFS-8969. Clean up findbugs warnings for HDFS-8823 and HDFS-8932. Contributed by Anu Engineer.
HADOOP-7786. Remove HDFS-specific config keys defined in FsConfig. Contributed by Eli Collins
HDFS-11571. Typo in DataStorage exception message (Contributed by Anna Budai via Daniel Templeton)
HADOOP-11323. WritableComparator#compare keeps reference to byte array. Contributed by Wilfred Spiegelenburg.
MAPREDUCE-6370. Made the timeline service v2 test driver write event ID. Contributed by Li Lu.
HDFS-6312. WebHdfs HA failover is broken on secure clusters. (daryn via tucu)
HDFS-10516. Fix bug when warming up EDEK cache of more than one encryption zone. Contributed by Xiao Chen.
HDFS-7643. Test case to ensure lazy persist files cannot be truncated. (Contributed by Yi Liu)
HDFS-10292. Add block id when client got Unable to close file exception. Contributed by Brahma Reddy Battula.
MAPREDUCE-4990. Construct debug strings conditionally in ShuffleHandler.Shuffle#sendMapOutput(). (kkambatl via tucu)
"HDFS-7176. The namenode usage message doesn't include ""-rollingupgrade started"" (cmccabe)"
MAPREDUCE-3537. Fix race condition in DefaultContainerExecutor which led to container localization occuring in wrong directories.
HADOOP-6569. FsShell#cat should avoid calling unecessary getFileStatus before opening a file to read. Contributed by Hairong Kuang.
YARN-2594. Potential deadlock in RM when querying ApplicationResourceUsageReport. (Wangda Tan via kasha)
YARN-6334. TestRMFailover#testAutomaticFailover always passes even when it should fail (Contributed by Yufei Gu via Daniel Templeton)
MAPREDUCE-3302. Remove the last dependency call from org.apache.hadoop.record package in MR. (harsh)
HADOOP-13988. KMSClientProvider does not work with WebHDFS and Apache Knox w/ProxyUser. Contributed by Greg Senia and Xiaoyu Yao.
HDFS-11827. NPE is thrown when log level changed in BlockPlacementPolicyDefault#chooseRandom() method. Contributed by xupeng.
HDFS-10876. Dispatcher#dispatch should log IOException stacktrace. Contributed by Manoj Govindassamy.
HADOOP-9889. Refresh the Krb5 configuration when creating a new kdc in Hadoop-MiniKDC (Wei Yan via Sandy Ryza)
MAPREDUCE-4923. Add toString method to TaggedInputSplit. (sandyr via tucu)
MAPREDUCE-3139. SlivePartitioner generates negative partitions.
YARN-4958. The file localization process should allow for wildcards to reduce the application footprint in the state store (Daniel Templeton via sjlee)
YARN-8076. Support to specify application tags in distributed shell. Contributed by Weiwei Yang.
HADOOP-13410. RunJar adds the content of the jar twice to the classpath (Yuanbo Liu via sjlee)
HDFS-12384. Fixing compilation issue with BanDuplicateClasses. Contributed by Inigo Goiri.
HADOOP-9646: Inconsistent exception specifications in FileUtils#chmod
YARN-5048. DelegationTokenRenewer#skipTokenRenewal may throw NPE (Jian He via Yongjun Zhang)
HDFS-4048. Use ERROR instead of INFO for volume failure logs. Contributed by Stephen Chu
HDFS-3321. Fix safe mode turn off tip message.  Contributed by Ravi Prakash
MAPREDUCE-6115. TestPipeApplication#testSubmitter fails in trunk. Contributed by Binglin Chang
YARN-1082. Addendum patch.
MAPREDUCE-3020. Fixed TaskAttemptImpl to log the correct node-address for a finished Reduce task. Contributed by Chackaravarthy.
YARN-7611. Node manager web UI should display container type in containers page. Contributed by Weiwei Yang.
YARN-3384. TestLogAggregationService.verifyContainerLogs fails after YARN-2777. Contributed by Naganarasimha G R.
HDFS-10878. TestDFSClientRetries#testIdempotentAllocateBlockAndClose throws ConcurrentModificationException. Contributed by Rushabh S Shah.
YARN-1923. Make Fair Scheduler resource ratio calculations terminate faster (Anubhav Dhoot via Sandy Ryza)
HADOOP-9181. Set daemon flag for HttpServer's QueuedThreadPool. Contributed by Liang Xie.
"Revert ""HDFS-10990. TestPendingInvalidateBlock should wait for IBRs. Contributed by Yiqun Lin."""
HDFS-2526. (Client)NamenodeProtocolTranslatorR23 do not need to keep a reference to rpcProxyWithoutRetry (atm)
HADOOP-6145. Fix FsShell rm/rmr error messages when there is a FNFE.  Contributed by Jakob Homan
HDFS-11533. reuseAddress option should be used for child channels in Portmap and SimpleTcpServer. Contributed by Mukul Kumar Singh.
HADOOP-12588. addendum patch to fix intermittent failure of TestGangliaMetrics. (iwasakims)
HDFS-8686. WebHdfsFileSystem#getXAttr(Path p, final String name) doesn't work if namespace is in capitals (Contributed by kanaka kumar avvaru)
MAPREDUCE-5723. MR AM container log can be truncated or empty. (Mohammad Kamrul Islam via kasha)
HDFS-4887. TestNNThroughputBenchmark exits abruptly. Contributed by Kihwal Lee.
HADOOP-7046. Fix Findbugs warning in Configuration. Contributed by Po Cheung.
HDFS-4003. test-patch should build the common native libs before running hdfs tests. Contributed by Colin Patrick McCabe
HADOOP-11368. Fix SSLFactory truststore reloader thread leak in KMSClientProvider. Contributed by Arun Suresh.
HDFS-6047 TestPread NPE inside in DFSInputStream hedgedFetchBlockByteRange (stack)
YARN-6104. RegistrySecurity overrides zookeeper sasl system properties. Contributed by Billie Rinaldi
HDFS-2976. Remove unnecessary method (tokenRefetchNeeded) in DFSClient.     (Contributed by Uma Maheswara Rao G)
HADOOP-7988. Upper case in hostname part of the principals doesn't work with kerberos.
HADOOP-10127. Add ipc.client.connect.retry.interval to control the frequency of connection retries (Karthik Kambatla via Sandy Ryza)
YARN-2950. Change message to mandate, not suggest JS requirement on UI. Contributed by Dustin Cote.
HDFS-3996. Add debug log removed in HDFS-3873 back. Contributed by Eli Collins
MAPREDUCE-5888. Failed job leaves hung AM after it unregisters (Jason Lowe via jeagles)
YARN-5920. Fix deadlock in TestRMHA.testTransitionedToStandbyShouldNotHang. Contributed by Varun Saxena.
YARN-269. Resource Manager not logging the health_check_script result when taking it out. Contributed by Jason Lowe
HDFS-12278. LeaseManager operations are inefficient in 2.8. Contributed by Rushabh S Shah.
YARN-5663. Small refactor in ZKRMStateStore. Contributed by Oleksii Dymytrov.
HADOOP-7159. RPC server should log the client hostname when read exception happened. Contributed by Scott Chen.
YARN-2730. DefaultContainerExecutor runs only one localizer at a time. Contributed by Siqi Li
HDFS-11363. Need more diagnosis info when seeing Slow waitForAckedSeqno.
HADOOP-11377. Added Null.java without which jdiff completely flops. Contributed by Tsuyoshi Ozawa.
MAPREDUCE-4467. IndexCache failures due to missing synchronization (Kihwal Lee via tgraves)
Fix two more issues from trunk merge just committed -- removal of VersionedProtocol
HDFS-11018. Incorrect check and message in FsDatasetImpl#invalidate. Contributed by Yiqun Lin.
"HADOOP-6842. ""hadoop fs -text"" does not give a useful text representation of MapWritable objects"
HADOOP-9673. NetworkTopology: When a node cannot be added, print out its location for diagnostic purposes
HADOOP-14646. FileContextMainOperationsBaseTest#testListStatusFilterWithSomeMatches never runs. Contributed by Andras Bokor.
HDFS-7890. Improve information on Top users for metrics in RollingWindowsManager and lower log level (Contributed by J.Andreina)
HDFS-5886. Potential null pointer deference in RpcProgramNfs3#readlink(). Contributed by Brandon Li
HDFS-2992. Edit log failure trace should include transaction ID of error. Contributed by Colin Patrick McCabe
HDFS-7583. Fix findbug in TransferFsImage.java (Contributed by Vinayakumar B)
HDFS-7473. Document setting dfs.namenode.fs-limits.max-directory-items to 0 is invalid. Contributed by Akira AJISAKA.
HDFS-12499. dfs.namenode.shared.edits.dir property is currently namenode specific key. Contributed by Bharat Viswanadham.
YARN-7469. Capacity Scheduler Intra-queue preemption: User can starve if newest app is exactly at user limit. Contributed by Eric Payne.
HDFS-8217. During block recovery for truncate Log new Block Id in case of copy-on-truncate is true. (Contributed by Vinayakumar B)
YARN-6827. [ATS1/1.5] NPE exception while publishing recovering applications into ATS during RM restart. Contributed by Rohith Sharma K S.
HDFS-5825. Use FileUtils.copyFile() to implement DFSTestUtils.copyFile(). (Contributed by Haohui Mai)
YARN-3617. Fix WindowsResourceCalculatorPlugin.getCpuFrequency() returning always -1. Contributed by J.Andreina.
YARN-1556. NPE getting application report with a null appId. Contributed by Weiwei Yang.
YARN-5777. TestLogsCLI#testFetchApplictionLogsAsAnotherUser fails. Contributed by Akira Ajisaka.
YARN-5023. TestAMRestart#testShouldNotCountFailureToMaxAttemptRetry fails. Contributed by sandflee
HDFS-5532. Enable the webhdfs by default to support new HDFS web UI. Contributed by Vinay.
YARN-1845. Elapsed time for failed tasks that never started is wrong (Rushabh S Shah via jeagles)
MAPREDUCE-5315.  DistCp reports success even on failure. (mithun and jlowe via daryn)
HDFS-7242. Code improvement for FSN#checkUnreadableBySuperuser. (Contributed by Yi Liu)
HADOOP-12169 ListStatus on empty dir in S3A lists itself instead of returning an empty list. author: Pieter Reuse. - omitted new S3A subclass
HADOOP-14059. typo in s3a rename(self, subdir) error message. Contributed by Steve Loughran.
MAPREDUCE-3181. Fixed MapReduce runtime to load yarn-default.xml and yarn-site.xml.
YARN-1883. TestRMAdminService fails due to inconsistent entries in UserGroups (Mit Desai via jeagles)
HADOOP-14255. S3A to delete unnecessary fake directory objects in mkdirs(). Contributed by Mingliang Liu
HDFS-5468. CacheAdmin help command does not recognize commands  (Stephen Chu via Colin Patrick McCabe)
HDFS-8336. Expose some administrative erasure coding operations to HdfsAdmin (Contributed by Uma Maheswara Rao G)
HADOOP-11780. Prevent IPC reader thread death. Contributed by Daryn Sharp.
HDFS-8278. When computing max-size-to-move in Balancer, count only the storage with remaining >= default block size.
HDFS-9911. TestDataNodeLifeline Fails intermittently. Contributed by Yiqun Lin
HDFS-9480. Expose nonDfsUsed via StorageTypeStats. Contributed by Brahma Reddy Battula
HADOOP-11069. KMSClientProvider should use getAuthenticationMethod() to determine if in proxyuser mode or not. (tucu)
HDFS-6890. NFS readdirplus doesn't return dotdot attributes. Contributed by Brandon Li
Reverting 1512475 (labeled as YARN-656). Accidentally committed two patches together
HDFS-3915. QJM: Failover fails with auth error in secure cluster. Contributed by Todd Lipcon.
MAPREDUCE-5744. Job hangs because RMContainerAllocator.preemptReduce() violates the comparator contract (Gera Shegalov via kasha)
HDFS-12089. Fix ambiguous NN retry log message in WebHDFS. Contributed by Eric Badger
HDFS-2497 Fix TestBackupNode failure. Contributed by Suresh Srinivas.
HADOOP-15282. HADOOP-15235 broke TestHttpFSServerWebServer
YARN-6992. Kill application button is visible even if the application is FINISHED in RM UI. Contributed by Suma Shivaprasad.
HDFS-10693. metaSave should print blocks, not LightWeightHashSet. Contributed by Yuanbo Liu.
HADOOP-7112. Issue a warning when GenericOptionsParser libjars are not on local filesystem.
HADOOP-10031. FsShell -get/copyToLocal/moveFromLocal should support Windows local path. Contributed by Chuan Liu.
HADOOP-7902. skipping name rules setting (if already set) should be done on UGI initialization only. (tucu)
YARN-7094. Document the current known issue with server-side NM graceful decom (rkanter)
YARN-6410. FSContext.scheduler should be final (Contributed by Yeliang Cang via Daniel Templeton)
HADOOP-8431. Running distcp wo args throws IllegalArgumentException. Contributed by Sandy Ryza
YARN-7024: Fix issues on recovery in LevelDB store. Contributed by Jonathan Hung
"HADOOP-7329. Improve help message for ""df"" to include ""-h"" flag. Contributed by Xie Xianshan."
HDFS-7819. Log WARN message for the blocks which are not in Block ID based layout (Rakesh R via Colin P. McCabe)
HDFS-10921. TestDiskspaceQuotaUpdate doesn't wait for NN to get out of safe mode. Contributed by Eric Badger
HADOOP-8599. Non empty response from FileSystem.getFileBlockLocations when asking for data beyond the end of file. Contributed by Andrey Klochkov.
HADOOP-7357. hadoop.io.compress.TestCodec#main() should exit with non-zero exit code if test failed. Contributed by Philip Zeyliger
YARN-1789. ApplicationSummary does not escape newlines in the app name. Contributed by Tsuyoshi OZAWA
HDFS-10276. HDFS should not expose path info that user has no permission to see. (Yuanbo Liu via Yongjun Zhang)
HDFS-7401. Add block info to DFSInputStream' WARN message when it adds node to deadNodes (Contributed by Arshad Mohammad)
HDFS-7681. Change ReplicaInputStreams constructor to take InputStream(s) instead of FileDescriptor(s).  Contributed by Joe Pallas
HADOOP-13693. Remove the message about HTTP OPTIONS in SPNEGO initialization message from kms audit log.
HDFS-6858. Allow dfs.data.transfer.saslproperties.resolver.class default to hadoop.security.saslproperties.resolver.class. Contributed by Benoy Antony.
YARN-3564. Fix TestContainerAllocation.testAMContainerAllocationWhenDNSUnavailable fails randomly. (Jian He via wangda)
HDFS-8597. Fix TestFSImage#testZeroBlockSize on Windows. Contributed by Xiaoyu Yao.
HADOOP-6422.  Remove log line.
HADOOP-15366. Add a helper shutdown routine in HadoopExecutor to ensure clean shutdown. Contributed by Shashikant Banerjee.
HDFS-8173. NPE thrown at DataNode shutdown when HTTP server was not able to create (Contributed by surendra singh lilhore)
HADOOP-13802. Make generic options help more consistent, and aligned. Contributed by Grant Sohn
MAPREDUCE-6413. TestLocalJobSubmission is failing with unknown host. Contributed by zhihai xu
HADOOP-11463 Replace method-local TransferManager object with S3AFileSystem#transfers. (Ted Yu via stevel)
HDFS-6089. Standby NN while transitioning to active throws a connection refused error when the prior active NN process is suspended. Contributed by Jing Zhao.
HADOOP-8775. MR2 distcp permits non-positive value to -bandwidth option which causes job never to complete. Contributed by Sandy Ryza.
Fix NPE in LazyPersistFileScrubber. Contributed by Inigo Goiri.
HDFS-8693. Addendum patch to execute the command using UGI. Contributed by Brahma Reddy Battula.
MAPREDUCE-4793. Problem with adding resources when using both -files and -file to hadoop streaming. Contributed by Jason Lowe
HADOOP-12294. Remove the support of the deprecated dfs.umask. Contributed by Chang Li.
HADOOP-7545. Fix wrong variable name in exception message introduced in HADOOP-7509. Contributed by Ravi Prakash.
MAPREDUCE-5837. MRAppMaster fails when checking on uber mode. Contributed by Haohui Mai.
HDFS-7914. TestJournalNode#testFailToStartWithBadConfig fails when the default dfs.journalnode.http-address port 8480 is in use. (Contributed by Xiaoyu Yao)
YARN-253. Fixed container-launch to not fail when there are no local resources to localize. Contributed by Tom White.
YARN-1721. When moving app between queues in Fair Scheduler, grab lock on FSSchedulerApp (Sandy Ryza)
HADOOP-12178. NPE during handling of SASL setup if problem with SASL resolver class. Contributed by Steve Loughran
YARN-7383. Node resource is not parsed correctly for resource names containing dot. Contributed by Gergely Novák.
HDFS-7444. convertToBlockUnderConstruction should preserve BlockCollection. Contributed by Haohui Mai.
HADOOP-14194. Aliyun OSS should not use empty endpoint as default. Contributed by Genmao Yu
MAPREDUCE-6087. Fixed wrong config name of MRJobConfig#MR_CLIENT_TO_AM_IPC_MAX_RETRIES_ON_TIMEOUTS. Contributed by Akira AJISAKA
MAPREDUCE-3203. Fix some javac warnings in MRAppMaster. (mahadev)
YARN-2238. Filtering on UI sticks even if I move away from the page. Contributed by Jian He
YARN-568. Followup; remove an unused field added to Allocation
YARN-3780. Should use equals when compare Resource in RMNodeImpl#ReconnectNodeTransition. Contributed by zhihai xu.
HDFS-13195. DataNode conf page cannot display the current value after reconfig. Contributed by maobaolong.
YARN-6392. Add submit time to Application Summary log. (Zhihai Xu via wangda)
YARN-7678. Ability to enable logging of container memory stats. Contributed by Jim Brennan
HDFS-11834. Ozone: Fix TestArchive#testArchive. Contributed by Xiaoyu Yao.
MAPREDUCE-2942. TestNMAuditLogger.testNMAuditLoggerWithIP failing (Thomas Graves via mahadev)
MAPREDUCE-3345. Fixed a race condition in ResourceManager that was causing TestContainerManagerSecurity to fail sometimes. Contributed by Hitesh Shah.
MAPREDUCE-5514. Fix TestRMContainerAllocator. Contributed by Zhijie Shen.
HADOOP-10639. FileBasedKeyStoresFactory initialization is not using default for SSL_REQUIRE_CLIENT_CERT_KEY. (tucu)
YARN-3888. ApplicationMaster link is broken in RM WebUI when appstate is NEW. Contributed by Bibin A Chundatt
YARN-4998. Minor cleanup to UGI use in AdminService. (Daniel Templeton via kasha)
HDFS-13130. Log object instance get incorrectly in SlowDiskTracker. Contributed by Jianfei Jiang.
HADOOP-9330. Add custom JUnit4 test runner with configurable timeout (Steve Loughran via aw)
HADOOP-9339. IPC.Server incorrectly sets UGI auth type. Contributed by Daryn Sharp
HDFS-10730. Fix some failed tests due to BindException. Contributed by Yiqun Lin
HADOOP-14361. Azure: NativeAzureFileSystem.getDelegationToken() call fails sometimes when invoked concurrently. Contributed by Santhosh G Nayak
HDFS-11943. [Erasure coding] Warn log frequently print to screen in doEncode/doDecode functions. Contributed by liaoyuxiangqin
HDFS-4603. TestMiniDFSCluster fails on Windows. Contributed by Ivan Mitic.
YARN-4520. Finished app info is unnecessarily persisted in NM state-store if container is acquired but not lunched on this node. Contributed by sandflee
HADOOP-12448. TestTextCommand: use mkdirs rather than mkdir to create test directory. (Contributed by Colin Patrick McCabe and Chris Nauroth)
HDFS-9174. Fix findbugs warnings in FSOutputSummer.tracer and DirectoryScanner$ReportCompiler.currentThread. Contributed by Yi Liu.
MAPREDUCE-4395. Possible NPE at ClientDistributedCacheManager#determineTimestamps (Bhallamudi via bobby)
MAPREDUCE-6383. Pi job (QuasiMonteCarlo) should not try to read the results file if its job fails. Contributed by Harsh J.
HADOOP-11657. Align the output of `hadoop fs -du` to be more Unix-like. (aajisaka)
HADOOP-13797 Remove hardcoded absolute path for ls. Contributed by Christine Koppelt
Revert YARN-516 per HADOOP-9357.
HADOOP-13140. FileSystem#initialize must not attempt to create StorageStatistics objects with null or empty schemes (Mingliang Liu via cmccabe)
HADOOP-15104. AliyunOSS: change the default value of max error retry. Contributed by Jinhu Wu
MAPREDUCE-3706. Fix circular redirect error in job-attempts page. Contributed by Robert Evans.
HDFS-9210. Fix some misuse of %n in VolumeScanner#printStats. Contributed by Xiaoyu Yao.
HDFS-9478. Reason for failing ipc.FairCallQueue contruction should be thrown. (Contributed by Ajith S)
YARN-42. Modify NM's non-aggregating logs' handler to stop properly so that NMs don't get NPEs on startup errors. Contributed by Devaraj K.
HDFS-13065. TestErasureCodingMultipleRacks#testSkewedRack3 is failing. Contributed by Gabor Bota.
YARN-3770. SerializedException should also handle java.lang.Error on de-serialization. Contributed by Lavkesh Lahngir
MAPREDUCE-3304. Fixed intermittent test failure due to a race in TestRMContainerAllocator#testBlackListedNodes. Contributed by Ravi Prakash. 
HADOOP-10547. Give SaslPropertiesResolver.getDefaultProperties() public scope. (Contributed by Benoy Antony)
MAPREDUCE-2995. Fixed race condition in ContainerLauncher. Contributed by Vinod K V.
YARN-7020. TestAMRMProxy#testAMRMProxyTokenRenewal is flakey. Contributed by Robert Kanter
YARN-2871. TestRMRestart#testRMRestartGetApplicationList sometime fails in trunk. Contributed by zhihai xu
HDFS-11278. Add missing @Test annotation for TestSafeMode.testSafeModeUtils() (Contributed by Lukas Majercak via Daniel Templeton)
HDFS-7483. Display information per tier on the Namenode UI. Contributed by Benoy Antony and Haohui Mai.
YARN-347. Node CLI should show CPU info besides memory in node status. (Junping Du via llu)
MAPREDUCE-6589. TestTaskLog outputs a log under directory other than target/test-dir. (aajisaka)
YARN-4562. YARN WebApp ignores the configuration passed to it for keystore settings. Contributed by Sergey Shelukhin.
HDFS-4583. TestNodeCount fails. Contributed by Ivan Mitic.
YARN-760. NodeManager throws AvroRuntimeException on failed start. Contributed by Niranjan Singh
HDFS-8051. FsVolumeList#addVolume should release volume reference if not put it into BlockScanner. (Lei (Eddy) Xu via Colin P. McCabe)
"MAPREDUCE-5518. Fixed typo ""can't read paritions file"". Contributed by Albert Chu."
HDFS-7315. DFSTestUtil.readFileBuffer opens extra FSDataInputStream. Contributed by Plamen Jeliazkov.
HADOOP-6686. Remove redundant exception class name from the exception message for the exceptions thrown at RPC client. Contributed by Suresh Srinivas.
YARN-3624. ApplicationHistoryServer should not reverse the order of the filters it gets. Contributed by Mit Desai
"MAPREDUCE-5906. Inconsistent configuration in property ""mapreduce.reduce.shuffle.input.buffer.percent"" (Akira AJISAKA via aw)"
HDFS-7283. Bump DataNode OOM log from WARN to ERROR. Contributed by Stephen Chu.
HDFS-11526. Fix confusing block recovery message. Contributed by Yiqun Lin.
HADOOP-14850. Read HttpServer2 resources directly from the source tree (if exists). Contributed by Elek, Marton.
Fix trivial mistake in test code in previous merge - tests were failing due to misuse of NodeFencer.create
HADOOP-8290. Remove remaining references to hadoop.native.lib (harsh)
HDFS-6738. Remove unnecessary getEncryptionZoneForPath call in EZManager#createEncryptionZone. (clamb)
YARN-1724. Race condition in Fair Scheduler when continuous scheduling is turned on (Sandy Ryza)
YARN-3582. NPE in WebAppProxyServlet. Contributed by Jian He
HDFS-11593. Change SimpleHttpProxyHandler#exceptionCaught log level from info to debug. Contributed by Xiaobing Zhou.
HDFS-6497. Make TestAvailableSpaceVolumeChoosingPolicy deterministic (cmccabe)
HDFS-9148. Incorrect assert message in TestWriteToReplica#testWriteToTemporary (Tony Wu via Lei (Eddy) Xu)
MAPREDUCE-5775. Remove unnecessary job.setNumReduceTasks in SleepJob.createJob. Contributed by jhanver chand sharma.
HADOOP-11710. Make CryptoOutputStream behave like DFSOutputStream wrt synchronization. (Sean Busbey via yliu)
HADOOP-8355. SPNEGO filter throws/logs exception when authentication fails (tucu)
HDFS-12358. Handle IOException when transferring edit log to Journal current dir through JN sync. Contributed by Hanisha Koneru.
HDFS-9412. getBlocks occupies FSLock and takes too long to complete. Contributed by He Tianyi.
YARN-3396. Handle URISyntaxException in ResourceLocalizationService. (Contributed by Brahma Reddy Battula)
MAPREDUCE-3723. TestAMWebServicesJobs & TestHSWebServicesJobs incorrectly asserting tests (Bhallamudi Venkata Siva Kamesh via mahadev)
MAPREDUCE-6261. NullPointerException if MapOutputBuffer.flush invoked twice. Contributed by Tsuyoshi OZAWA
HDFS-6062. TestRetryCacheWithHA#testConcat is flaky. Contributed by Jing Zhao.
HDFS-4022. Replication not happening for appended block. Contributed by Vinay.
Add missing file for MAPREDUCE-5732
YARN-1833. TestRMAdminService Fails in trunk and branch-2 (Mit Desais via jeagles)
HADOOP-6763. Remove verbose logging from the Groups class
MAPREDUCE-6555. TestMRAppMaster fails on trunk. (Junping Du via ozawa)
YARN-3919. NPEs' while stopping service after exception during CommonNodeLabelsManager#start. (varun saxena via rohithsharmaks)
HDFS-12877. Add open(PathHandle) with default buffersize
HADOOP-14857. Fix downstream shaded client integration test. Contributed by Sean Busbey.
HDFS-9777. Fix typos in DFSAdmin command line and documentation.(Wei-Chiu Chuang via umamahesh)
HDFS-2687. Tests failing with ClassCastException post protobuf RPC changes. Contributed by Suresh Srinivas.
HADOOP-6612.  Protocols RefreshUserToGroupMappingsProtocol and  RefreshAuthorizationPolicyProtocol will fail with security enabled (boryas)
HDFS-3948. Do not use hflush in TestWebHDFS.testNamenodeRestart() since the out stream returned by WebHdfsFileSystem does not support it. Contributed by Jing Zhao
HADOOP-10668. Addendum patch to fix TestZKFailoverController. Contributed by Ming Ma.
YARN-491. TestContainerLogsPage fails on Windows. Contributed by Chris Nauroth.
HDFS-2572. Remove Unnecessary double-check in DN#getHostName (harsh)
HDFS-8666. Speedup the TestMover test. Contributed by Walter Su.
HDFS-2412. Add backwards-compatibility layer for renamed FSConstants class. Contributed by Todd Lipcon.
YARN-8106. Update LogAggregationIndexedFileController to use readFull instead read to avoid IOException while loading log meta. (Prabhu Joseph via wangda)
HADOOP-10343. Change info to debug log in LossyRetryInvocationHandler. Contributed by Arpit Gupta
HDFS-5724. modifyCacheDirective logging audit log command wrongly as addCacheDirective (Uma Maheswara Rao G via Colin Patrick McCabe)
YARN-758. Augment MockNM to use multiple cores (Karthik Kambatla via Sandy Ryza)
HDFS-9517. Fix missing @Test annotation on TestDistCpUtils.testUnpackAttributes (Wei-Chiu Chuang via cmccabe)
YARN-3349. Treat all exceptions as failure in TestFSRMStateStore#testFSRMStateStoreClientRetry. Contributed by Zhihai Xu.
HDFS-2002. Incorrect computation of needed blocks in getTurnOffTip(). Contributed by Plamen Jeliazkov.
HDFS-10260. TestFsDatasetImpl#testCleanShutdownOfVolume often fails. Contributed by Rushabh Shah.
HDFS-9401. Fix findbugs warnings in BlockRecoveryWorker. Contributed by Brahma Reddy Battula.
MAPREDUCE-4845. ClusterStatus.getMaxMemory() and getUsedMemory() exist in MR1 but not MR2. Contributed by Sandy Ryza.
HADOOP-11390 Metrics 2 ganglia provider to include hostname in unresolved address problems. (Varun Saxena via stevel)
HDFS-6797. DataNode logs wrong layoutversion during upgrade. (Contributed by Benoy Antony)
YARN-2662. TestCgroupsLCEResourcesHandler leaks file descriptors. Contributed by Chris Nauroth.
HDFS-5809. BlockPoolSliceScanner and high speed hdfs appending make datanode to drop into infinite loop (cmccabe)
MAPREDUCE-3009. Fixed node link on JobHistory webapp. Contributed by hackaravarthy.
HDFS-10239. Fsshell mv fails if port usage doesn't match in src and destination paths. Contributed by Kuhu Shukla.
HADOOP-6558. Return null in HarFileSystem.getFileChecksum(..) since no checksum algorithm is implemented.
HDFS-4867. metaSave NPEs when there are invalid blocks in repl queue. Contributed by Plamen Jeliazkov and Ravi Prakash.
HDFS-4784. NPE in FSDirectory.resolvePath(). Contributed by Brandon Li.
"HADOOP-12088. KMSClientProvider uses equalsIgnoreCase(""application/json"").   (Brahma Reddy Battula via stevel)"
"HDFS-4658. Standby NN will log that it has received a block report ""after becoming active"". Contributed by Aaron T. Myers."
YARN-4252. Log container-executor invocation details when exit code is non-zero. Contributed by Sidharta Seethana.
YARN-1673. Fix option parsing in YARN's application CLI after it is broken by YARN-967. Contributed by Mayank Bansal.
YARN-2241. ZKRMStateStore: On startup, show nicer messages if znodes already exist. (Robert Kanter via kasha)
YARN-43. Fix TestResourceTrackerService to not depend on test order and thus pass on JDK7. Contributed by Thomas Graves.
HADOOP-8110. Fix trash checkpoint collisions (Jason Lowe via daryn)
HADOOP-12559. KMS connection failures should trigger TGT renewal. Contributed by Zhe Zhang.
HADOOP-11120. hadoop fs -rmr gives wrong advice. Contributed by Juliet Houghland.
HDFS-2152. TestWriteConfigurationToDFS causing the random failures. (Uma Maheswara Rao G via atm)
HDFS-3921. NN will prematurely consider blocks missing when entering active state while still in safe mode. Contributed by Aaron T. Myers.
HDFS-8879. Quota by storage type usage incorrectly initialized upon namenode restart. Contributed by Xiaoyu Yao.
HDFS-9844. Correct path creation in getTrashRoot to handle root dir.
HDFS-9867. Missing block exception should carry locatedBlocks information. Contributed by Mingliang Liu.
HDFS-7361. TestCheckpoint fails after change of log message related to locking violation. Contributed by Konstantin Shvachko.
HADOOP-10843. TestGridmixRecord unit tests failure on PowerPC (Jinghui Wang via Colin Patrick McCabe)
HDFS-3037. TestMulitipleNNDataBlockScanner#testBlockScannerAfterRestart is racy. Contributed by Aaron T. Myers.
HADOOP-11587. TestMapFile#testMainMethodMapFile creates test files in hadoop-common project root. Contributed by Xiaoyu Yao.
HADOOP-11868. Invalid user logins trigger large backtraces in server log. Contributed by Chang Li
MAPREDUCE-4262. NM gives wrong log message saying Connected to ResourceManager before trying to connect. (Devaraj K via tgraves)
HADOOP-10665. Make Hadoop Authentication Handler loads case in-sensitive (Contributed by Benoy Antony)
TestRMApplicationHistoryWriter sometimes fails in trunk. Contributed by Zhijie Shen
HADOOP-13858. TestGridmixMemoryEmulation and TestResourceUsageEmulators fail on the environment other than Linux or Windows.
YARN-4816. Fix incompatible change in SystemClock.
HDFS-5474. Deletesnapshot can make Namenode in safemode on NN restarts. Contributed by Sathish.
YARN-1723. AMRMClientAsync missing blacklist addition and removal functionality. Contributed by Bartosz Ługowski.
HDFS-13115. In getNumUnderConstructionBlocks(), ignore the inodeIds for which the inodes have been deleted. Contributed by Yongjun Zhang.
HDFS-10990. TestPendingInvalidateBlock should wait for IBRs. Contributed by Yiqun Lin.
HDFS-4308. addBlock() should persist file blocks once. Contributed by Plamen Jeliazkov.
Revert HADOOP-9692.
HADOOP-12891. S3AFileSystem should configure Multipart Copy threshold and chunk size. (Andrew Olson via stevel)
HADOOP-11432. Fix SymlinkBaseTest#testCreateLinkUsingPartQualPath2. (Liang Xie via gera)
MAPREDUCE-5780. SliveTest should use the specified path to get the particular FileSystem instead of using the default FileSystem.
YARN-6249. TestFairSchedulerPreemption fails inconsistently. (Tao Jie via Yufei Gu)
"YARN-2713. ""RM Home"" link in NM should point to one of the RMs in an HA setup. (kasha)"
Rebased onto trunk - fix conflicts
YARN-6457. Allow custom SSL configuration to be supplied in WebApps. (Sanjay M Pujare via Haibo Chen)
MAPREDUCE-6172. TestDbClasses timeouts are too aggressive. Contributed by Varun Saxena
HDFS-13316. Ozone: Update the ksm/scm CLI usage info. Contributed by Xiaoyu Yao.
YARN-4551. Address the duplication between StatusUpdateWhenHealthy and StatusUpdateWhenUnhealthy transitions. (Sunil G via kasha)
YARN-726. Fix queue & finish time fields in web-ui for ResourceManager. Contributed by Mayank Bansal.
YARN-3716. Node-label-expression should be included by ResourceRequestPBImpl.toString. (Xianyin Xin via wangda)
HDFS-5003. TestNNThroughputBenchmark failed caused by existing directories. Contributed by Xi Fang.
HDFS-6030.  Remove an unused constructor in INode.java (yzhang via cmccabe)
YARN-6082. Invalid REST api response for getApps since queueUsagePercentage is coming as INF. Contributed by Sunil G.
YARN-1497. Fix comment and remove accidental println
HDFS-2143. Federation: In cluster web console, add link to namenode page that displays live and dead datanodes. Contributed by Ravi Prakash.
YARN-731. RPCUtil.unwrapAndThrowException should unwrap remote RuntimeExceptions. Contributed by Zhijie Shen.
YARN-4573. Fix test failure in TestRMAppTransitions#testAppRunningKill and testAppKilledKilled. (Takashi Ohnishi via rohithsharmaks)
MAPREDUCE-2783. Fixing RM web-UI to show no tracking-URL when AM crashes. Contributed by Eric Payne.
HDFS-13311. RBF: TestRouterAdminCLI#testCreateInvalidEntry fails on Windows. Contributed by Inigo Goiri
YARN-5678. Log demand as demand in FSLeafQueue and FSParentQueue. (Yufei Gu via kasha)
HDFS-11369. Change exception message in StorageLocationChecker.
HDFS-3789. JournalManager#format() should be able to throw IOException. Contributed by Ivan Kelly.
YARN-6014. Followup fix for slider core module findbugs. Contributed by Jian He
HDFS-9261. Erasure Coding: Skip encoding the data cells if all the parity data streamers are failed for the current block group. (Rakesh R via umamahesh)
HDFS-3520. Add transfer rate logging to TransferFsImage. Contributed by Eli Collins
HDFS-10567. Improve plan command help message. Contributed by Xiaobing Zhou.
YARN-3395. FairScheduler: Trim whitespaces when using username for queuename. (Zhihai Xu via kasha)
HADOOP-13503. Improve SaslRpcClient failure logging. Contributed by Xiaobing Zhou.
YARN-3554. Default value for maximum nodemanager connect wait time is too high. Contributed by Naganarasimha G R
YARN-3302. TestDockerContainerExecutor should run automatically if it can detect docker in the usual place (Ravindra Kumar Naik via raviprak)
HDFS-2923. Namenode IPC handler count uses the wrong configuration key. Contributed by Todd Lipcon.
MAPREDUCE-4681. Fix unit tests broken by HDFS-3910. Contributed by Arun C. Murthy.
HDFS-7894. Rolling upgrade readiness is not updated in jmx until query command is issued. Contributed by Brahma Reddy Battula.
HDFS-7659. truncate should check negative value of the new length. Contributed by Yi Liu.
HDFS-7419. Improve error messages for DataNode hot swap drive feature (Lei Xu via Colin P. Mccabe)
HADOOP-9322. LdapGroupsMapping doesn't seem to set a timeout for its directory search. Contributed by Harsh J. (harsh)
HDFS-8595. TestCommitBlockSynchronization fails in branch-2.7. (Patch applies to all branches). (Contributed by Arpit Agarwal)
YARN-8082. Include LocalizedResource size information in the NM download log for localization. Contributed by Kuhu Shukla
HDFS-3792. Fix two findbugs introduced by HDFS-3695. Contributed by Todd Lipcon.
HDFS-3413. TestFailureToReadEdits timing out. Contributed by Aaron T. Myers.
MAPREDUCE-6897. Add Unit Test to ensure Job end notification gets sent even when appMaster stop gets YarnRuntimeException. Contributed by Gergely Novák
HDFS-13388. RequestHedgingProxyProvider calls multiple configured NNs all the time. Contributed by Jinglun.
HADOOP-7306. Start metrics system even if config files are missing. Contributed by Luke Lu.
MAPREDUCE-4149. [Rumen] Rumen fails to parse certain counter strings. (ravigummadi)
MAPREDUCE-5335. Rename Job Tracker terminology in ShuffleSchedulerImpl. Contributed by Devaraj K.
YARN-4398. Remove unnecessary synchronization in RMStateStore. Contributed by Ning Ding
YARN-1600. RM does not startup when security is enabled without spnego configured. Contributed by Haohui Mai
"HADOOP-11523. StorageException complaining "" no lease ID"" when updating FolderLastModifiedTime in WASB. Contributed by Duo Xu."
HADOOP-7900. LocalDirAllocator confChanged() accesses conf.get() twice. Contributed by Ravi Gummadi.
YARN-3905. Application History Server UI NPEs when accessing apps run after RM restart (Eric Payne via jeagles)
"Revert ""MAPREDUCE-6958. Shuffle audit logger should log size of shuffle transfer. Contributed by Jason Lowe"""
HDFS-10715. NPE when applying AvailableSpaceBlockPlacementPolicy. Contributed by Guangbin Zhu.
HADOOP-12540. TestAzureFileSystemInstrumentation#testClientErrorMetrics fails intermittently due to assumption that a lease error will be thrown. Contributed by Gaurav Kanade.
MAPREDUCE-3058. Fixed MR YarnChild to report failure when task throws an error and thus prevent a hanging task and job. (vinodkv)
HDFS-6024. Test whether the NN will reject the downgrade if it has a fsimage from a newer release. Contributed by Haohui Mai.
HDFS-4448. Allow HA NN to start in secure mode with wildcard address configured (atm via asuresh)
HDFS-8268. Port conflict log for data node server is not sufficient (Contributed by Mohammad Shahid Khan)
HDFS-3342. SocketTimeoutException in BlockSender.sendChunks could have a better error message. Contributed by Yongjun Zhang.
YARN-7737. prelaunch.err file not found exception on container failure. Contributed by Keqiu Hu.
HDFS-9305. Delayed heartbeat processing causes storm of subsequent heartbeats. (Contributed by Arpit Agarwal)
YARN-4386. refreshNodesGracefully() should send recommission event to active RMNodes only. Contributed by Kuhu Shukla.
Fix TestViewFsFileStatusHdfs per previous commit.
HDFS-5671. Fix socket leak in DFSInputStream#getBlockReader. Contributed by JamesLi
Fixing merge conflicts due to HDFS-10637
HADOOP-14102. Relax error message assertion in S3A test ITestS3AEncryptionSSEC. Contributed by Mingliang Liu
HADOOP-9909. org.apache.hadoop.fs.Stat should permit other LANG. (Shinichi Yamashita via Andrew Wang)
HADOOP-13697. LogLevel#main should not throw exception if no arguments. Contributed by Mingliang Liu
HDFS-11928. Segment overflow in FileDistributionCalculator. Contributed by LiXin Ge.
YARN-1889. In Fair Scheduler, avoid creating objects on each call to AppSchedulable comparator (Hong Zhiguo via Sandy Ryza)
HDFS-12705. WebHdfsFileSystem exceptions should retain the caused by exception. Contributed by Hanisha Koneru.
YARN-6881. LOG is unused in AllocationConfiguration (Contributed by weiyuan via Daniel Templeton)
YARN-7294. TestSignalContainer#testSignalRequestDeliveryToNM fails intermittently with Fair Scheduler. (Contributed by Miklos Szegedi)
HDFS-6885. Fix wrong use of BytesWritable in FSEditLogOp#RenameOp. Contributed by Yi Liu.
HDFS-12066. When Namenode is in safemode,may not allowed to remove an user's erasure coding policy. Contributed by lufei.
HDFS-10545. DiskBalancer: PlanCommand should use -fs instead of -uri to be consistent with other hdfs commands. Contributed by Anu Engineer.
YARN-5533. JMX AM Used metrics for queue wrong when app submited to nodelabel partition (Bibin A Chundatt via Varun Saxena)
HADOOP-10488. TestKeyProviderFactory fails randomly. (tucu)
HDFS-7305. NPE seen in wbhdfs FS while running SLive. Contributed by Jing Zhao.
HADOOP-12418. TestRPC.testRPCInterruptedSimple fails intermittently. Contributed Kihwal Lee.
YARN-4710. Reduce logging application reserved debug info in FSAppAttempt#assignContainer (Contributed by Yiqun Lin via Daniel Templeton)
HDFS-6130. NPE when upgrading namenode from fsimages older than -32. Contributed by Haohui Mai.
HDFS-10868. Remove stray references to DFS_HDFS_BLOCKS_METADATA_ENABLED.
HDFS-5517. Lower the default maximum number of blocks per file. Contributed by Aaron T. Myers.
"Revert ""HDFS-5517. Lower the default maximum number of blocks per file. Contributed by Aaron T. Myers."""
HDFS-12107. FsDatasetImpl#removeVolumes floods the logs when removing the volume. Contributed by Kelvin Chu.
HDFS-2173. saveNamespace should not throw IOE when only one storage directory fails to write VERSION file. Contributed by Andras Bokor.
YARN-5492. TestSubmitApplicationWithRMHA is failing sporadically during precommit builds. Contributed by Vrushali C.
YARN-7466.  addendum patch for failing unit test.  (Contributed by Chandni Singh)
MAPREDUCE-6672. TestTeraSort fails on Windows. Contributed by Tibor Kiss.
YARN-1351. Invalid string format in Fair Scheduler log warn message (Konstantin Weitz via Sandy Ryza)
Remove redundant TestMiniDFSCluster.testDualClusters. Contributed by Jiayi Zhou.
HDFS-5240. Separate formatting from logging in the audit logger API (daryn)
YARN-1880. Cleanup TestApplicationClientProtocolOnHA. Contributed by ozawa.
MAPREDUCE-2384. The job submitter should make sure to validate jobs before creation of necessary files. (harsh)
HADOOP-10645. TestKMS fails because race condition writing acl files. (tucu)
HDFS-7394. Log at INFO level, not WARN level, when InvalidToken is seen in ShortCircuitCache (Keith Pak via Colin P. McCabe)
MAPREDUCE-6587. Remove unused params in connection-related methods of Fetcher. Contributed by Yiqun Lin.
HDFS-8454. Remove unnecessary throttling in TestDatanodeDeath. (Arpit Agarwal)
HDFS-10590: Fix TestReconstructStripedBlocks.testCountLiveReplicas test failures. Contributed by Rakesh R
HADOOP-7129. Fix typo in method name getProtocolSigature. Contributed by Todd Lipcon.
HADOOP-7629. Allow immutable FsPermission objects to be used as IPC parameters. Contributed by Todd Lipcon.
YARN-3459. Fix failiure of TestLog4jWarningErrorMetricsAppender. (Varun Vasudev via wangda)
MAPREDUCE-4981. Add WordMean, WordMedian, WordStandardDeviation to ExamplesDriver. Contributed by Plamen Jeliazkov.
YARN-6493. Print requested node partition in assignContainer logs. (Jonathan Hung via wangda)
HDFS-3466. Get HTTP kerberos principal from the web authentication keytab. (omalley)
HADOOP-6933. TestListFiles is flaky. Contributed by Todd Lipcon.
YARN-4643. Container recovery is broken with delegating container runtime. Contributed by Sidharta Seethana
HDFS-2286. DataXceiverServer logs AsynchronousCloseException at shutdown. Contributed by Todd Lipcon.
HDFS-3398. Client will not retry when primaryDN is down once it's just got pipeline. Contributed by Amith D K.
HADOOP-15060. TestShellBasedUnixGroupsMapping.testFiniteGroupResolutionTime flaky. Contributed by Miklos Szegedi.
HDFS-5857. TestWebHDFS#testNamenodeRestart fails intermittently with NPE. Contributed By Mit Desai.
Updated timeline reader to use AuthenticationFilter
HADOOP-6714. Resolve compressed files using CodecFactory in FsShell::text. Contributed by Patrick Angeles
HDFS-8039. Fix TestDebugAdmin#testRecoverLease and testVerfiyBlockChecksumCommand on Windows. Contributed by Xiaoyu Yao.
HADOOP-8084. Updates ProtoBufRpc engine to not do an unnecessary copy for RPC request/response. Contributed by Devaraj Das.
HADOOP-14173. Remove unused AdlConfKeys#ADL_EVENTS_TRACKING_SOURCE. Contributed by John Zhuge.
HDFS-6418. Regression: DFS_NAMENODE_USER_NAME_KEY missing
YARN-3238. Connection timeouts to nodemanagers are retried at multiple levels. Contributed by Jason Lowe
MAPREDUCE-6804. Add timeout when starting JobHistoryServer in MiniMRYarnCluster. Contributed by Andras Bokor
HDFS-3174. Fix assert in TestPendingDataNodeMessages. Contributed by Eli Collins
HADOOP-13429. Dispose of unnecessary SASL servers. Contributed by Daryn Sharp.
HADOOP-12119. hadoop fs -expunge does not work for federated namespace (Contributed by J.Andreina)
YARN-7143. FileNotFound handling in ResourceUtils is inconsistent
HADOOP-11507 Hadoop RPC Authentication problem with different user locale. (Talat UYARER via stevel)
HADOOP-14500. Azure: TestFileSystemOperationExceptionHandling{,MultiThreaded} fails. Contributed by Rajesh Balamohan
MAPREDUCE-6656. [NNBench] OP_DELETE operation isn't working after MAPREDUCE-6363. Contributed by J.Andreina.
HADOOP-11369. Fix new findbugs warnings in hadoop-mapreduce-client, non-core directories. Contributed by Li Lu.
HDFS-10668. Fix intermittently failing UT TestDataNodeMXBean#testDataNodeMXBeanBlockCount. Contributed by Mingliang Liu.
HDFS-3501. Checkpointing with security enabled will stop working after ticket lifetime expires. Contributed by Aaron T. Myers
"HDFS-12406. dfsadmin command prints ""Exception encountered"" even if there is no exception, when debug is enabled. Contributed by Nandakumar."
YARN-264. y.s.rm.DelegationTokenRenewer attempts to renew token even after removing an app. (kkambatl via tucu)
HDFS-8923. Add -source flag to balancer usage message.  Contributed by Chris Trezzo
YARN-6217. TestLocalCacheDirectoryManager test timeout is too aggressive. Contributed by Miklos Szegedi
YARN-1568. Rename clusterid to clusterId in ActiveRMInfoProto (kasha)
YARN-2874. Dead lock in DelegationTokenRenewer which blocks RM to execute any further apps. (Naganarasimha G R via kasha)
YARN-3751. Fixed AppInfo to check if used resources are null. Contributed by Sunil G.
MAPREDUCE-5504. mapred queue -info inconsistent with types (Kousuke Saruta via tgraves)
YARN-4171. Fix findbugs warnings in YARN-1197 branch. Contributed by Wangda Tan
HADOOP-9692. SequenceFile reader throws EOFException on zero-length file. Contributed by Zhe Zhang and Chu Tong.
HADOOP-10402. Configuration.getValByRegex does not substitute for variables. (Robert Kanter via kasha)
HDFS-10335 Mover$Processor#chooseTarget() always chooses the first matching target storage group.  Contributed by  Mingliang Liu
HDFS-9072. Fix random failures in TestJMXGet.  (J.Andreina via stevel)
HADOOP-8323. Add javadoc and tests for Text.clear() behavior (harsh)
HDFS-7379. TestBalancer#testBalancerWithRamDisk creates test files incorrectly. Contributed by Xiaoyu Yao.
MAPREDUCE-6793. io.sort.factor code default and mapred-default.xml values inconsistent. Contributed by Gera Shegalov.
HDFS-3612. Single namenode image directory config warning can be improved. Contributed by Andy Isaacson. (harsh)
HADOOP-7963. Fix ViewFS to catch a null canonical service-name and pass tests TestViewFileSystem* (Siddharth Seth via vinodkv)
HDFS-2596. TestDirectoryScanner doesn't test parallel scans. (eli)
YARN-3740. Fixed the typo in the configuration name: APPLICATION_HISTORY_PREFIX_MAX_APPS. Contributed by Xuan Gong.
MAPREDUCE-5517. Fixed MapReduce ApplicationMaster to not validate reduce side resource configuration for deciding uber-mode on map-only jobs. Contributed by Siqi Li.
HDFS-8687. Remove the duplicate usage message from Dfsck.java. (Contributed by Brahma Reddy Battula)
HDFS-7552. Change FsVolumeList toString() to fix TestDataNodeVolumeFailureToleration (Liang Xie via Colin P. McCabe)
HADOOP-6227. Fix Configuration to allow final parameters to be set to null and prevent them from being overridden. Contributed by Amareshwari Sriramadasu.
YARN-6779. DominantResourceFairnessPolicy.DominantResourceFairnessComparator.calculateShares() should be @VisibleForTesting (Contributed by Yeliang Cang via Daniel Templeton)
HADOOP-10568. Add s3 server-side encryption. Contributed by David S. Wang.
HDFS-11344. The default value of the setting dfs.disk.balancer.block.tolerance.percent is different. Contributed by Yiqun Lin.
MAPREDUCE-4008. ResourceManager throws MetricsException on start up saying QueueMetrics MBean already exists (Devaraj K via tgraves)
MAPREDUCE-3840  JobEndNotifier doesn't use the proxyToUse during connecting (Ravi Prakash via bobby)
HADOOP-6627. 'Bad Connection to FS' message in FSShell should print message from the exception
HADOOP-11924. Tolerate JDK-8047340-related exceptions in Shell#isSetSidAvailable preventing class init. (Tsuyoshi Ozawa via gera)
HADOOP-7290. Unit test failure in TestUserGroupInformation.testGetServerSideGroups. Contributed by Trevor Robison
"Revert ""HADOOP-12718. Incorrect error message by fs -put local dir without permission. (John Zhuge via Yongjun Zhang)"""
MAPREDUCE-4356. [Rumen] Provide access to the method ParsedTask.obtainTaskAttempts(). (ravigummadi)
Treat encrypted files as private. Contributed by Daniel Templeton.
HDFS-9670. DistCp throws NPE when source is root. (John Zhuge via Yongjun Zhang)
HDFS-9618. Fix mismatch between log level and guard in BlockManager#computeRecoveryWorkForBlocks (iwasakims)
HDFS-5065. TestSymlinkHdfsDisable fails on Windows. Contributed by Ivan Mitic.
YARN-3006. Improve the error message when attempting manual failover with auto-failover enabled. (Akira AJISAKA via wangda)
HADOOP-13867. FilterFileSystem should override rename(.., options) to take effect of Rename options called via FilterFileSystem implementations. Contributed By Vinayakumar B.
HDFS-9332. Fix Precondition failures from NameNodeEditLogRoller while saving namespace.
HADOOP-8692. TestLocalDirAllocator fails intermittently with JDK7 (Trevor Robinson via tgraves)
YARN-2280. Resource manager web service fields are not accessible (Krisztian Horvath via aw)
HADOOP-11441. Hadoop-azure: Change few methods scope to public. Contributed by Shashank Khandelwal.
YARN-1028. Addendum patch. Added FailoverProxyProvider capability to ResourceManager to help with RM failover.
Addendum patch for Configuration fix. (Jason Lowe via asuresh)
HDFS-11842. TestDataNodeOutlierDetectionViaMetrics UT fails intermittently. Controbuted by Hanisha Koneru.
HADOOP-12895. SSLFactory#createSSLSocketFactory exception message is wrong. Contributed by Wei-Chiu Chuang.
"HADOOP-12714. Fix hadoop-mapreduce-client-nativetask unit test which fails because it is not able to open the ""glibc bug spill"" file. (cmccabe)"
YARN-219. NM should aggregate logs when application finishes. (bobby)
YARN-6132. SliderClient bondToCluster should call findInstance with live states filter. Contributed by Gour Saha
HADOOP-8931. Add Java version to startup message. Contributed by Eli Collins
YARN-4152. NodeManager crash with NPE when LogAggregationService#stopContainer called for absent container. (Bibin A Chundatt via rohithsharmaks)
HDFS-2694. Removal of Avro broke non-PB NN services. Contributed by Aaron T. Myers.
"Revert ""YARN-1299. Improve a log message in AppSchedulingInfo by adding application id. Contributed by Ashutosh Jindal and devaraj."""
HADOOP-7886. Add toString to FileStatus. Contributed by SreeHari.
HDFS-5028. LeaseRenewer throws ConcurrentModificationException when timeout.  Contributed by zhaoyunjiong
"HDFS-3240. Drop log level of ""heartbeat: ..."" in BPServiceActor to DEBUG. Contributed by Todd Lipcon."
HADOOP-6645.  Bugs on listStatus for HarFileSystem (rodrigo via mahadev)
HADOOP-13847. KMSWebApp should close KeyProviderCryptoExtension. Contributed by John Zhuge.
HDFS-10651. Clean up some configuration related codes about legacy block reader. Contributed by Youwei Wang
YARN-202. Log Aggregation generates a storm of fsync() for namenode (Kihwal Lee via bobby)
MAPREDUCE-5604. TestMRAMWithNonNormalizedCapabilities fails on Windows due to exceeding max path length. Contributed by Chris Nauroth.
HDFS-7448 TestBookKeeperHACheckpoints fails in trunk build
HDFS-2724. NN web UI can throw NPE after startup, before standby state is entered. Contributed by Todd Lipcon.
YARN-635 and MAPREDUCE-5301. Bug fix as the committed patch ended up being stale.
HDFS-11717. Add unit test for HDFS-11709 StandbyCheckpointer should handle non-existing legacyOivImageDir gracefully. Contributed by Erik Krogen.
HDFS-8043. NPE in MiniDFSCluster teardown. Contributed by Brahma Reddy Battula.
HDFS-3234. Accidentally left log message in GetConf after HDFS-3226. Contributed by Todd Lipcon.
HADOOP-6652. Removes the unnecessary cache from ShellBasedUnixGroupsMapping. Contributed by Devaraj Das.
HDFS-3292. Remove the deprecated DiskStatus, getDiskStatus(), getRawCapacity() and getRawUsed() from DistributedFileSystem.  Contributed by Arpit Gupta
HDFS-10381, DataStreamer DataNode exclusion log message should be warning. (John Zhuge via Yongjun Zhang)
"Revert ""HDFS-10455. Logging the username when deny the setOwner operation. Contributed by Tianyin Xiu"""
YARN-5460. Change container runtime type logging in DelegatingLinuxContainerRuntime to debug. Contributed by Shane Kumpf.
YARN-1846. TestRM#testNMTokenSentForNormalContainer assumes CapacityScheduler. (Robert Kanter via kasha)
HADOOP-8329. Build fails with Java 7. Contributed by Eli Collins
YARN-761. TestNMClientAsync fails sometimes (Zhijie Shen via bikas)
HDFS-7333. Improve logging in Storage.tryLock(). Contributed by Konstantin Shvachko.
HDFS-7939. Two fsimage_rollback_* files are created which are not deleted after rollback. (Contributed by J.Andreina)
HADOOP-14310. RolloverSignerSecretProvider.LOG should be @VisibleForTesting (Contributed by Arun Shanmugam Kumar via Daniel Templeton)
HDFS-5560. Trash configuration log statements prints incorrect units. Contributed by Josh Elser.
MAPREDUCE-3999. Tracking link gives an error if the AppMaster hasn't started yet (Ravi Prakash via bobby)
HDFS-9572. Prevent DataNode log spam if a client connects on the data transfer port but sends no data. Contributed by Chris Nauroth
HADOOP-8197. Configuration logs WARNs on every use of a deprecated key (tucu)
HDFS-9458. TestBackupNode always binds to port 50070, which can cause bind failures. Contributed by Xiao Chen.
HDFS-10641. TestBlockManager#testBlockReportQueueing fails intermittently. (Contributed by Daryn Sharp)
HDFS-11302. Improve Logging for SSLHostnameVerifier. Contributed by Chen Liang.
HDFS-7780. Update use of Iterator to Iterable in DataXceiverServer and SnapshotDiffInfo. Contributed by Ray Chiang.
HADOOP-10507. FsShell setfacl can throw ArrayIndexOutOfBoundsException when no perm is specified. Contributed by Stephen Chu and Sathish Gurram.
YARN-2204. Addendum patch. TestAMRestart#testAMRestartWithExistingContainers assumes CapacityScheduler. (Robert Kanter via kasha)
HDFS-7367. HDFS short-circuit read cannot negotiate shared memory slot and file descriptors when SASL is enabled on DataTransferProtocol. Contributed by Chris Nauroth.
HADOOP-14184. Remove service loader config entry for ftp fs. Contributed by Sen Zhao.
MAPREDUCE-4496. AM logs link is missing user name (Jason Lowe via bobby)
MAPREDUCE-4577. HDFS-3672 broke TestCombineFileInputFormat.testMissingBlocks() test. Contributed by Aaron T. Myers.
YARN-1830. Fixed TestRMRestart#testQueueMetricsOnRMRestart failure due to race condition when app is submitted. Contributed by Zhijie Shen
HDFS-6529. Trace logging for RemoteBlockReader2 to identify remote datanode and file being read. Contributed by Anubhav Dhoot.
HDFS-12584. [READ] Fix errors in image generation tool from latest rebase
HADOOP-6633. normalize property names for JT/NN kerberos principal names in configuration
HDFS-2942. TestActiveStandbyElectorRealZK fails if build dir does not exist. Contributed by Aaron T. Myers.
MAPREDUCE-5220. Fix backward incompatibility for TaskCompletionEvent by adding back setTaskID. Contributed by Zhijie Shen.
HDFS-9003. ForkJoin thread pool leaks. Contributed by Kihwal Lee.
HDFS-9158. [OEV-Doc] : Document does not mention about '-f' and '-r' options (Contributed by nijel)
HDFS-5669. Storage#tryLock() should check for null before logging successfull message. Contributed by Vinayakumar B
MAPREDUCE-5230. Bring back NLineInputFormat.createFileSplit for binary compatibility with mapred in 1.x Contributed by Mayank Bansal.
HADOOP-10664. TestNetUtils.testNormalizeHostName fails. Contributed by Aaron T. Myers.
HDFS-3235. MiniDFSClusterManager doesn't correctly support -format option. Contributed by Henry Robinson.
YARN-7338. Support same origin policy for cross site scripting prevention. (Sunil G via wangda)
HDFS-11915. Sync rbw dir on the first hsync() to avoid file lost on power failure. Contributed by Vinayakumar B.
YARN-7199. Fix TestAMRMClientContainerRequest.testOpportunisticAndGuaranteedRequests. (Botong Huang via asuresh)
HDFS-11249. Redundant toString() in DFSConfigKeys.java. Contributed by Jagadesh Kiran N.
HADOOP-14678. AdlFilesystem#initialize swallows exception when getting user name. Contributed by John Zhuge.
HADOOP-12440. TestRPC#testRPCServerShutdown did not produce the desired thread states before shutting down. (Xiao Chen via mingma)
HADOOP-6097. Fix Path conversion in makeQualified and reset LineReader byte count at the start of each block in Hadoop archives. Contributed by Ben Slusky, Tom White, and Mahadev Konar
YARN-400. RM can return null application resource usage report leading to NPE in client (Jason Lowe via tgraves)
HADOOP-7166. Add DaemonFactory to common. Contributed by Erik Steffl and jitendra.
HDFS-2666. Fix TestBackupNode failure. Contributed by Suresh Srinivas.
HADOOP-13188 S3A file-create should throw error rather than overwrite directories. Contributed by Steve Loughran
HADOOP-14727. Socket not closed properly when reading Configurations with BlockReaderRemote. Contributed by Jonathan Eagles.
MAPREDUCE-6923. Optimize MapReduce Shuffle I/O for small partitions. Contributed by Robert Schmidtke.
YARN-3589. RM and AH web UI display DOCTYPE wrongly. Contbituted by Rohith.
HADOOP-10928. Incorrect usage on . Contributed by Josh Elser.
YARN-5195. RM intermittently crashed with NPE while handling APP_ATTEMPT_REMOVED event when async-scheduling enabled in CapacityScheduler. (sandflee via wangda)
YARN-6166. Unnecessary INFO logs in AMRMClientAsyncImpl$CallbackHandlerThread.run (Contributed by Grant Whiteheart via Daniel Templeton)
HADOOP-12051. ProtobufRpcEngine.invoke() should use Exception.toString()  over getMessage() in logging/span events. (Varun Saxena via stevel)
HDFS-12324. Ozone: TestQueryNode#testStaleNodesCount is failing. Contributed by Xiaoyu Yao.
YARN-3602. TestResourceLocalizationService.testPublicResourceInitializesLocalDir fails Intermittently due to IOException from cleanup. Contributed by zhihai xu
MAPREDUCE-3869. Fix classpath for DistributedShell application. (Contributed by Devaraj K)
MAPREDUCE-3952. In MR2, when Total input paths to process == 1, CombinefileInputFormat.getSplits() returns 0 split. (zhenxiao via tucu)
YARN-282. Fair scheduler web UI double counts Apps Submitted. (sandyr via tucu)
MAPREDUCE-5213. Re-assess TokenCache methods marked @Private. (kkambatl via tucu)
HDFS-5265. Namenode fails to start when dfs.https.port is unspecified. Contributed by Haohui Mai.
HDFS-6631. TestPread#testHedgedReadLoopTooManyTimes fails intermittently. Contributed by Liang Xie.
HDFS-2815. Namenode sometimes oes not come out of safemode during NN crash + restart. Contributed by Uma Maheswara Rao.
HDFS-10264. Logging improvements in FSImageFormatProtobuf.Saver. (Contributed by Xiaobing Zhou)
HDFS-5929. Add blockpool % usage to HDFS federated nn page. Contributed by Siqi Li.
YARN-7153. Remove duplicated code in AMRMClientAsyncImpl.java. Contributed by Sen Zhao.
YARN-5491. Fix random failure of TestCapacityScheduler#testCSQueueBlocked (Bibin A Chundatt via Varun Saxena)
HADOOP-11796. Skip TestShellBasedIdMapping.testStaticMapUpdate on Windows. Contributed by Xiaoyu Yao.
YARN-251. Proxy URI generation fails for blank tracking URIs. Contributed by Tom White
HDFS-13289. RBF: TestConnectionManager#testCleanup() test case need correction. Contributed by Dibyendu Karmakar.
HDFS-7130. TestDataTransferKeepalive fails intermittently on Windows. Contributed by Chris Nauroth.
YARN-1560. Fixed TestYarnClient#testAMMRTokens failure with null AMRM token. (Contributed by Ted Yu)
HADOOP-14902. LoadGenerator#genFile write close timing is incorrectly calculated. Contributed by Hanisha Koneru
HDFS-6618. FSNamesystem#delete drops the FSN lock between removing INodes from the tree and deleting them from the inode map (kihwal via cmccabe)
HDFS-12137. DN dataset lock should be fair. Contributed by Daryn Sharp.
HDFS-13202. Fix the outdated javadocs in HAUtil. Contributed by Chao Sun.
MAPREDUCE-6068. Illegal progress value warnings in map tasks. Contributed by Binglin Chang.
HADOOP-12795. KMS does not log detailed stack trace for unexpected errors. Contributed by Chris Nauroth.
YARN-5055. max apps per user can be larger than max per queue. Contributed by Eric Badger
HDFS-13241. RBF: TestRouterSafemode failed if the port 8888 is in use. Contributed by maobaolong.
YARN-4384. updateNodeResource CLI should not accept negative values for resource. (Junping Du via wangda)
MAPREDUCE-6975. Logging task counters. Contributed by Prabhu Joseph.
MAPREDUCE-3496. Fixed client to print queue acls in consistent order. Contributed by Jonathan Eagles. 
HDFS-12808. Add LOG.isDebugEnabled() guard for LOG.debug(...). Contributed by Bharat Viswanadham.
HADOOP-12736. TestTimedOutTestsListener#testThreadDumpAndDeadlocks sometimes times out. Contributed by Xiao Chen.
YARN-3077. Fixed RM to create zk root path recursively. Contributed by Chun Chen
HADOOP-13813. TestDelegationTokenFetcher#testDelegationTokenWithoutRenewer is failing. Contributed by Mingliang Liu
HADOOP-9113. o.a.h.fs.TestDelegationTokenRenewer is failing intermittently. Contributed by Karthik Kambatla
MAPREDUCE-6046. Change the class name for logs in RMCommunicator. Contributed by Sahil Takiar.
HADOOP-12055. Deprecate usage of NativeIO#link. Contributed by Andrew Wang.
HDFS-2689. HA: BookKeeperEditLogInputStream doesn't implement isInProgress(). Contributed by Aaron T. Myers
YARN-7164. TestAMRMClientOnRMRestart fails sporadically with bind address in use. Contributed by Jason Lowe
HDFS-2360. Ugly stacktrce when quota exceeds. (harsh)
MAPREDUCE-3226. Fix shutdown of fetcher threads. Contributed by Vinod K V.
YARN-8107. Give an informative message when incorrect format is used in ATSv2 filter attributes. (Rohith Sharma K S via Haibo Chen)
HDFS-3613. GSet prints some INFO level values, which aren't really very useful to all. Contributed by Andrew Wang. (harsh)
HADOOP-6293. Fix FsShell -text to work on filesystems other than the default.
HADOOP-7351 Regression: HttpServer#getWebAppsPath used to be protected so subclasses could supply alternate webapps path but it was made private by HADOOP-6461
"HADOOP-11440. Use ""test.build.data"" instead of ""build.test.dir"" for testing in ClientBaseWithFixes. Contributed by Kengo Seki."
HADOOP-7183. WritableComparator.get should not cache comparator objects. Contributed by Tom White
"HADOOP-6314. Fix ""fs -help"" for the ""-count"" commond.  Contributed by Ravi Phulari"
HADOOP-14715. TestWasbRemoteCallHelper failing. Contributed by Esfandiar Manii.
MAPREDUCE-6343. JobConf.parseMaximumHeapSizeMB() fails to parse value greater than 2GB expressed in bytes. (Hao Xia via kasha)
HDFS-2646. Hadoop HttpFS introduced 4 findbug warnings. (tucu)
YARN-5904. Reduce the number of default server threads for AMRMProxyService.
YARN-3085. Application summary should include the application type. Contributed by Rohith
HDFS-2071. Use of isConnected() in DataXceiver is invalid. Contributed by Kihwal Lee.
HDFS-12085. Reconfigure namenode heartbeat interval fails if the interval was set with time unit. Contributed by Weiwei Yang.
HDFS-6015. Fix TestBlockRecovery#testRaceBetweenReplicaRecoveryAndFinalizeBlock. Contributed by Kihwal Lee.
"HDFS-9033. dfsadmin -metasave prints ""NaN"" for cache used%. Contributed by Brahma Reddy Battula."
HADOOP-8818. Use equals instead == in MD5MD5CRC32FileChecksum and TFileDumper. Contributed by Brandon Li.
HDFS-12465. Ozone: fix a KeySpaceManager startup message typo. Contributed by Nandakumar.
HADOOP-8406. CompressionCodecFactory.CODEC_PROVIDERS iteration is thread-unsafe. Contributed by Todd Lipcon.
HDFS-4038. Override toString() for BookKeeperEditLogInputStream. Contributed by Vinay.
YARN-5928. Move ATSv2 HBase backend code into a new module that is only dependent at runtime by yarn servers. Contributed by Haibo Chen.
YARN-3179. Update use of Iterator to Iterable in RMAdminCLI and CommonNodeLabelsManager. Contributed by Ray Chiang
YARN-6126. Obtaining app logs for Running application fails with json parse error. Contributed by Xuan Gong.
HADOOP-8108. Move method getHostPortString() from NameNode to NetUtils. Contributed by Brandon Li.
HADOOP-14966. Handle JDK-8071638 for hadoop-common. Contributed by Bibin A Chundatt.
MAPREDUCE-4924. flakey test: org.apache.hadoop.mapred.TestClusterMRNotification.testMR. (rkanter via tucu)
MAPREDUCE-6201. TestNetworkedJob fails on trunk (pbacsko via rkanter)
MAPREDUCE-2575. TestMiniMRDFSCaching fails if test.build.dir is set to something other than build/test (Thomas Graves via mahadev)
HDFS-11012. Unnecessary INFO logging on DFSClients for InvalidToken. Contributed by Harsh J.
YARN-6781. [YARN-3926] ResourceUtils#initializeResourcesMap takes an unnecessary Map parameter. Contributed by Yu-Tang Lin.
YARN-1370. Fair scheduler to re-populate container allocation state. (Anubhav Dhoot via kasha)
HADOOP-14434. Use MoveFileEx to allow renaming a file when the destination exists. Contributed by Lukas Majercak
HDFS-3964. Make NN log of fs.defaultFS debug rather than info. Contributed by Eli Collins
HDFS-5289. Race condition in TestRetryCacheWithHA#testCreateSymlink causes spurious test failure. Contributed by Aaron T. Myers.
YARN-198. Added a link to RM pages from the NodeManager web app. Contributed by Jian He.
MAPREDUCE-4226. ConcurrentModificationException in FileSystemCounterGroup.
MAPREDUCE-5448. MapFileOutputFormat#getReaders bug with invisible files/folders. Contributed by Maysam Yabandeh.
MAPREDUCE-3243. Invalid tracking URL for streaming jobs (Jonathan Eagles via mahadev)
YARN-6615. AmIpFilter drops query parameters on redirect. Contributed by Wilfred Spiegelenburg
YARN-5271. ATS client doesn't work with Jersey 2 on the classpath.  Contributed by Weiwei Yang.
YARN-2597 MiniYARNCluster should propagate reason for AHS not starting
YARN-2400: Addendum fix for TestAMRestart failure. Contributed by Jian He
HADOOP-12718. Incorrect error message by fs -put local dir without permission. (John Zhuge via Yongjun Zhang)
YARN-5623. Apply SLIDER-1166 to yarn-native-services branch. Contributed by Gour Saha
YARN-3604. Fixed ZKRMStateStore#removeApplication to also disable watch. Contributed Zhihai Xu
MAPREDUCE-5694. Fixed MR AppMaster to shutdown the LogManager so as to avoid losing syslog in some conditions. Contributed by Mohammad Kamrul Islam.
YARN-3382. Some of UserMetricsInfo metrics are incorrectly set to root queue metrics. Contributed by Rohit Agarwal
MAPREDUCE-3757. [Rumen] Fixed Rumen Folder to adjust shuffleFinished and sortFinished times when needed.
"Revert ""HDFS-10668. Fix intermittently failing UT TestDataNodeMXBean#testDataNodeMXBeanBlockCount. Contributed by Mingliang Liu."""
YARN-4005. Completed container whose app is finished is possibly not removed from NMStateStore. Contributed by Jun Gong
HDFS-6364. Incorrect check for unknown datanode in Balancer. (Contributed by Benoy Antony)
YARN-7531. ResourceRequest.equal does not check ExecutionTypeRequest.enforceExecutionType().
MAPREDUCE-6964. BaileyBorweinPlouffe should use Time.monotonicNow for measuring durations. Contributed by Chetna Chaudhari
HDFS-4359. Slow RPC responses from NN can prevent metrics collection on DNs. Contributed by liang xie.
YARN-4633. Fix random test failure in TestRMRestart#testRMRestartAfterPreemption. (Bibin A Chundatt via rohithsharmaks)
HADOOP-7126. Fix file permission setting for RawLocalFileSystem on Windows. Contributed by Po Cheung.
YARN-2167. LeveldbIterator should get closed in NMLeveldbStateStoreService#loadLocalizationState() within finally block. Contributed by Junping Du
MAPREDUCE-2754. Fixed MR AM stdout, stderr and syslog to redirect to correct log-files. Contributed by Ravi Teja Ch N V.
HADOOP-9364. PathData#expandAsGlob does not return correct results for absolute paths on Windows. Contributed by Ivan Mitic.
MAPREDUCE-6738. TestJobListCache.testAddExisting failed intermittently in slow VM testbed. Contributed by Junping Du.
YARN-2343. Improve NMToken expire exception message. Contributed by Li Lu
MAPREDUCE-5981. Log levels of certain MR logs can be changed to DEBUG. Contributed by Varun Saxena.
HDFS-5559. Fix TestDatanodeConfig in HDFS-2832. (Contributed by szetszwo)
HADOOP-12888 Shell to disable bash and setsid support when running under JVM security manager (Costin Leau via stevel)
HDFS-9082. Change the log level in WebHdfsFileSystem.initialize() from INFO to DEBUG. Contributed by Santhosh Nayak.
HDFS-9674. The HTrace span for OpWriteBlock should record the maxWriteToDisk time. Contributed by Colin McCabe.
HDFS-4745. TestDataTransferKeepalive#testSlowReader has race condition that causes sporadic failure. Contributed by Chris Nauroth.
YARN-3842. NMProxy should retry on NMNotYetReadyException. (Robert Kanter via kasha)
HDFS-9765. TestBlockScanner#testVolumeIteratorWithCaching fails intermittently. (aajisaka)
HDFS-8384. Allow NN to startup if there are files having a lease but are not under construction. Contributed by Jing Zhao.
HDFS-12836. startTxId could be greater than endTxId when tailing in-progress edit log. Contributed by Chao Sun.
YARN-2700 TestSecureRMRegistryOperations failing on windows: auth problems
HDFS-2759. Pre-allocate HDFS edit log files after writing version number. Contributed by Aaron T. Myers.
HDFS-11466. Change dfs.namenode.write-lock-reporting-threshold-ms default from 1000ms to 5000ms. Contributed by Andrew Wang.
HDFS-4210. Throw helpful exception when DNS entry for JournalNode cannot be resolved. Contributed by Charles Lamb and John Zhuge.
MAPREDUCE-7041. MR should not try to clean up at first job attempt. (Gergo Repas via Haibo Chen)
HDFS-10735 Distcp using webhdfs on secure HA clusters fails with StandbyException
HADOOP-11724. DistCp throws NPE when the target directory is root. (Lei Eddy Xu via Yongjun Zhang)
YARN-5027. NM should clean up app log dirs after NM restart. Contributed by sandflee
YARN-6764. Simplify the logic in FairScheduler#attemptScheduling. Contributed by Yufei Gu.
YARN-4611. Fix scheduler load simulator to support multi-layer network location. Contributed by Ming Ma.
HADOOP-9594 commons-math
YARN-4392. ApplicationCreatedEvent event time resets after RM restart/failover. Contributed by Naganarasimha G R and Xuan Gong
YARN-1642. RMDTRenewer#getRMClient should use ClientRMProxy (kasha)
HADOOP-8436. NPE In getLocalPathForWrite ( path, conf ) when the required context item is not configured. Contributed by Brahma Reddy Battula. (harsh)
YARN-2387. Resource Manager crashes with NPE due to lack of synchronization. Contributed by Mit Desai
Addendum for missing file YARN-1256. NM silently ignores non-existent service in StartContainerRequest (Xuan Gong via bikas)
HDFS-7433. Optimize performance of DatanodeManager's node map. Contributed by Daryn Sharp.
HDFS-10525. Fix NPE in CacheReplicationMonitor#rescanCachedBlockMap (Xiao Chen via cmccabe)
YARN-6231. FairSchedulerTestBase helper methods should call scheduler.update to avoid flakiness. (kasha)
HDFS-5215. dfs.datanode.du.reserved is not considered while computing available space ( Brahma Reddy Battula via Yongjun Zhang)
MAPREDUCE-5190. Unnecessary condition test in RandomSampler. Contributed by Jingguo Yao.
YARN-1910. Fixed a race condition in TestAMRMTokens that causes the test to fail more often on Windows. Contributed by Xuan Gong.
MAPREDUCE-5170. Fixed a wrong log message in CombineFileInputFormat class. Contributed by Sangjin Lee.
HADOOP-12993. Change ShutdownHookManger complete shutdown log from INFO to DEBUG. Contributed by Xiaoyu Yao.
YARN-7032. [ATSv2] NPE while starting hbase co-processor when HBase authorization is enabled. Contributed by Rohith Sharma K S.
YARN-6377. NMTimelinePublisher#serviceStop does not stop timeline clients (Haibo Chen via Varun Saxena)
YARN-2627. Added the info logs of attemptFailuresValidityInterval and number of previous failed attempts. Contributed by Xuan Gong.
HDFS-13336. Test cases of TestWriteToReplica failed in windows. Contributed by Xiao Liang.
HDFS-5445. PacketReceiver populates the packetLen field in PacketHeader incorrectly (Jonathan Mace via Colin P. McCabe)
YARN-4250. NPE in AppSchedulingInfo#isRequestLabelChanged. (Brahma Reddy Battula via rohithsharmaks)
HADOOP-14289. Move log4j APIs over to slf4j in hadoop-common.
HADOOP-7870. fix SequenceFile#createWriter with boolean createParent arg to respect createParent. Contributed by Jon Hsieh
HDFS-11406. Remove unused getStartInstance and getFinalizeInstance in FSEditLogOp. Contributed by Alison Yu.
HDFS-6972. TestRefreshUserMappings.testRefreshSuperUserGroupsConfiguration doesn't decode url correctly. Contributed by Yongjun Zhang.
YARN-266. RM and JHS Web UIs are blank because AppsBlock is not escaping string properly. Contributed by Ravi Prakash
HDFS-3664. BlockManager race when stopping active services. Contributed by Colin Patrick McCabe
MAPREDUCE-6593. TestJobHistoryEventHandler.testTimelineEventHandling fails on trunk because of NPE. Contributed by Naganarasimha G R.
MAPREDUCE-6958. Shuffle audit logger should log size of shuffle transfer. Contributed by Jason Lowe
YARN-6435. [ATSv2] Can't retrieve more than 1000 versions of metrics in time series. (Rohith Sharma K S via Haibo Chen)
HDFS-9302. WebHDFS throws NullPointerException if newLength is not provided. (Jagadesh Kiran N via yliu)
HDFS-11494. Log message when DN is not selected for block replication. Contributed by Yiqun Lin
HADOOP-11499. Check of executorThreadsStarted in ValueQueue#submitRefillTask() evades lock acquisition. Contributed by Ted Yu
YARN-5521. Fix random failure of TestCapacityScheduler#testKillAllAppsInQueue (sandflee via Varun Saxena)
HADOOP-8751. NPE in Token.toString() when Token is constructed using null identifier. Contributed by kanaka kumar avvaru.
HADOOP-7736. Remove duplicate Path#normalizePath call.
TestResourceLocalizationService.testPublicResourceInitializesLocalDir fails Intermittently due to IllegalArgumentException from cleanup (templedf via rkanter)
HADOOP-11466. FastByteComparisons: do not use UNSAFE_COMPARER on the SPARC architecture because it is slower there (Suman Somasundar via Colin P.  McCabe)
HDFS-12156. TestFSImage fails without -Pnative
HDFS-10197. TestFsDatasetCache failing intermittently due to timeout. Contributed by Lin Yiqun.
YARN-1299. Improve a log message in AppSchedulingInfo by adding application id. Contributed by Ashutosh Jindal and Devaraj K.
HDFS-11757. Query StreamCapabilities when creating balancer's lock file. Contributed by SammiChen.
HDFS-7233. NN logs unnecessary org.apache.hadoop.hdfs.protocol.UnresolvedPathException. Contributed by Rushabh S Shah.
MAPREDUCE-3242. Trunk compilation broken with bad interaction from MAPREDUCE-3070 and MAPREDUCE-3239. (mahadev)
HADOOP-10582. Fix the test case for copying to non-existent dir in TestFsShellCopy. Contributed by Kousuke Saruta.
HDFS-7096.  Fix TestRpcProgramNfs3 to use DFS_ENCRYPTION_KEY_PROVIDER_URI (clamb via cmccabe)
HDFS-3580. incompatible types; no instance(s) of type variable(s) V exist so that V conforms to boolean compiling HttpFSServer.java with OpenJDK (adi2 via tucu)
YARN-7889. Missing kerberos token when check for RM REST API availability. Contributed by Eric Yang
HDFS-8850. VolumeScanner thread exits with exception if there is no block pool to be scanned but there are suspicious blocks. (Colin Patrick McCabe via yliu)
HADOOP-10689. InputStream is not closed in AzureNativeFileSystemStore#retrieve(). Contributed by Chen He.
HADOOP-14659. UGI getShortUserName does not need to search the Subject. Contributed by Daryn Sharp.
HDFS-7335. Redundant checkOperation() in FSN.analyzeFileState(). Contributed by Milan Desai.
HDFS-4338. TestNameNodeMetrics#testCorruptBlock is flaky. Contributed by Andrew Wang.
HDFS-13232. RBF: ConnectionPool should return first usable connection. Contributed by Ekanth S.
HADOOP-12792. TestUserGroupInformation#testGetServerSideGroups fails in chroot. Contributed by Eric Badger
YARN-6603. NPE in RMAppsBlock. Contributed by Jason Lowe
HADOOP-12807 S3AFileSystem should read AWS credentials from environment variables. Contributed by Tobin Baker.
HDFS-11878. Fix journal missing log httpServerUrl address in JournalNodeSyncer. Contributed by Hanisha Koneru.
HADOOP-7024. Create a test method for adding file systems during tests.  Contributed by Kan Zhang.
MAPREDUCE-5911. Terasort TeraOutputFormat does not check for output directory existance. Contributed by Bruno P. Kinoshita.
"HADOOP-8994. TestDFSShell creates file named ""noFileHere"", making further tests hard to understand (Andy Isaacson via daryn)"
MAPREDUCE-6339. Job history file is not flushed correctly because isTimerActive flag is not set true when flushTimerTask is scheduled. Contributed by zhihai xu.
HDFS-5111. Remove duplicated error message for snapshot commands when processing invalid arguments. Contributed by Jing Zhao.
HDFS-13114. CryptoAdmin#ReencryptZoneCommand should resolve Namespace info from path. Contributed by Hanisha Koneru.
YARN-2649. Fixed TestAMRMRPCNodeUpdates test failure. Contributed by Ming Ma
MAPREDUCE-3990. MRBench allows Long-sized input-lines value but parses CLI argument as an Integer. (harsh)
HDFS-3199. TestValidateConfigurationSettings is failing. Contributed by Todd Lipcon
HADOOP-14361. Azure: NativeAzureFileSystem.getDelegationToken() call fails sometimes when invoked concurrently. Contributed by Santhosh G Nayak
YARN-4380. TestResourceLocalizationService.testDownloadingResourcesOnContainerKill fails intermittently. Contributed by Varun Saxena.
HDFS-12642. Log block and datanode details in BlockRecoveryWorker.
MAPREDUCE-6676. NNBench should Throw IOException when rename and delete fails. Contributed by Brahma Reddy Battula.
YARN-1454. Fixed test failure issue with TestRMRestart. Contributed by Karthik Kambatla.
MAPREDUCE-6169. MergeQueue should release reference to the current item from key and value at the end of the iteration to save memory. (Zhihai Xu via kasha)
HADOOP-8129. ViewFileSystemTestSetup setupForViewFileSystem is erring (Ahmed Radwan and Ravi Prakash via bobby)
Fix Compilation Error in TestAddBlockgroup.java after the merge
YARN-6738. LevelDBCacheTimelineStore should reuse ObjectMapper instances. Contributed by Zoltan Haindrich
HDFS-5371. Let client retry the same NN when dfs.client.test.drop.namenode.response.number is enabled. Contributed by Jing Zhao.
HADOOP-7859. TestViewFsHdfs.testgetFileLinkStatus is failing an assert. Contributed by Eli Collins
HADOOP-13831. Correct check for error code to detect Azure Storage Throttling and provide retries. Contributed by Gaurav Kanade
HDFS-2618. Fix for the build failure caused by previous commit.
HDFS-11935. Ozone: TestStorageContainerManager#testRpcPermission fails when ipv6 address used. Contributed by Yiqun Lin.
HDFS-11003. Expose XmitsInProgress through DataNodeMXBean. Contributed By Brahma Reddy Battula
YARN-2096. Race in TestRMRestart#testQueueMetricsOnRMRestart. (Anubhav Dhoot via kasha)
HDFS-10915. Fix time measurement bug in TestDatanodeRestart. Contributed by Xiaobing Zhou
"Revert ""HDFS-11140. Directory Scanner should log startup message time correctly. Contributed by Yiqun Lin."""
YARN-295. Fixed a race condition in ResourceManager RMAppAttempt state machine. Contributed by Mayank Bansal.
HDFS-7536. Remove unused CryptoCodec in org.apache.hadoop.fs.Hdfs. Contributed by Haohui Mai.
HDFS-5316. Namenode ignores the default https port. Contributed by Haohui Mai
YARN-1719. Fixed the root path related Jersey warnings produced in ATSWebServices. Contributed by Billie Rinaldi.
YARN-4690. Skip object allocation in FSAppAttempt#getResourceUsage when possible (Ming Ma via sjlee)
HDFS-3852. TestHftpDelegationToken is broken after HADOOP-8225 (daryn)
YARN-4028. AppBlock page key update and diagnostics value null on recovery. Contributed by Bibin A Chundatt
YARN-4450. TestTimelineAuthenticationFilter and TestYarnConfigurationFields fail. Contributed by Sangjin Lee.
HADOOP-13822. Use GlobalStorageStatistics.INSTANCE.reset() at FileSystem#clearStatistics(). Contribute by Brahma Reddy Battula
HDFS-12363. Possible NPE in BlockManager$StorageInfoDefragmenter#scanAndCompactStorages. Contributed by Xiao Chen
HADOOP-14843. Improve FsPermission symbolic parsing unit test coverage. Contributed by Bharat Viswanadham
YARN-1931. Private API change in YARN-1824 in 2.4 broke compatibility with previous releases (Sandy Ryza via tgraves)
MAPREDUCE-5794. SliveMapper always uses default FileSystem. (Contributed by szetszwo)
HDFS-5892. TestDeleteBlockPool fails in branch-2. Contributed by Ted Yu.
YARN-4760. proxy redirect to history server uses wrong URL. Contributed by Eric Badger
MAPREDUCE-6680. JHS UserLogDir scan algorithm sometime could skip directory with update in CloudFS (Azure FileSystem, S3, etc. Contributed by Junping Du
HADOOP-10543. RemoteException's unwrapRemoteException method failed for PathIOException. Contributed by Yongjun Zhang.
Commit the hadoop-common part of HDFS-6189.
HDFS-7798. Checkpointing failure caused by shared KerberosAuthenticator. (Chengbing Liu via yliu)
HADOOP-11247. Fix a couple javac warnings in NFS. Contributed by Brandon Li.
MAPREDUCE-3254. Fixed streaming to set the job.jar by using the right JobConf ctor. 
HADOOP-10062. race condition in MetricsSystemImpl#publishMetricsNow that causes incorrect results.  (Contributed by Sangjin Lee)
HADOOP-12158. Improve error message in TestCryptoStreamsWithOpensslAesCtrCryptoCodec when OpenSSL is not installed.
YARN-6802. Add max AM resource and AM resource usage to leaf queue view in FairScheduler WebUI. (YunFan Zhou via Yufei Gu)
MAPREDUCE-6645. TestWordStats outputs logs under directories other than target/test-dir. Contributed by Gabor Liptak.
YARN=5526. DrainDispacher#serviceStop blocked if setDrainEventsOnStop invoked (sandflee via Varun Saxena)
HADOOP-14752. TestCopyFromLocal#testCopyFromLocalWithThreads is fleaky. Contributed by Andras Bokor.
HDFS-3738. TestDFSClientRetries#testFailuresArePerOperation sets incorrect timeout config. Contributed by Aaron T. Myers.
HADOOP-13496. Include file lengths in Mismatch in length error for distcp. Contributed by Ted Yu
HADOOP-13828. Implement getFileChecksum(path, length) for ViewFileSystem. Contributed by Manoj Govindassamy.
MAPREDUCE-6338. MR AppMaster does not honor ephemeral port range. Contributed by Frank Nguyen.
"HADOOP-7102. Remove ""fs.ramfs.impl"" field from core-deafult.xml. Contributed by Konstantin Shvachko."
HDFS-4674. TestBPOfferService fails on Windows due to failure parsing datanode data directory as URI. Contributed by Chris Nauroth.
HDFS-9744. TestDirectoryScanner#testThrottling occasionally time out after 300 seconds. Contributed by Lin Yiqun.
HADOOP-11958. MetricsSystemImpl fails to show backtrace when an error occurs (Jason Lowe via jeagles)
HADOOP-10248. Property name should be included in the exception where property value is null. Contributed by Akira AJISAKA.
HADOOP-6435. Make RPC.waitForProxy with timeout public. Contributed by Steve Loughran.
YARN-2526. SLS can deadlock when all the threads are taken by AMSimulators. (Wei Yan via kasha)
HDFS-6621. Hadoop Balancer prematurely exits iterations. Contributed by Rafal Wodjdyla and Benjamin Bowman.
HADOOP-7349. HADOOP-7121 accidentally disabled some tests in TestIPC. Contributed by Todd Lipcon.
HDFS-3837. Fix DataNode.recoverBlock findbugs warning. Contributed by Eli Collins
HDFS-9137. DeadLock between DataNode#refreshVolumes and BPOfferService#registrationSucceeded. (Uma Maheswara Rao G via yliu)
HADOOP-12450. UserGroupInformation should not log at WARN level if no groups are found. (Elliott Clark via stevel)
HADOOP-11586. Update use of Iterator to Iterable in AbstractMetricsContext.java. Contributed by Ray Chiang.
HADOOP-9431 TestSecurityUtil#testLocalHostNameForNullOrWild on systems where hostname contains capital letters  (Chris Nauroth via sanjay)
HADOOP-6150. Users should be able to instantiate comparator using TFile API. (Hong Tang via rangadi)
HDFS-9101. Remove deprecated NameNode.getUri() static helper method. Contributed by Mingliang Liu.
YARN-5362. TestRMRestart#testFinishedAppRemovalAfterRMRestart can fail. Contributed by sandflee.
MAPREDUCE-6300. Task list sort by task id broken. Contributed by Siqi Li.
MAPREDUCE-3317. Rumen TraceBuilder is emiting null as hostname. (Ravi Gummadi via mahadev)
HADOOP-11289. Fix typo in RpcUtil log message. Contributed by Charles Lamb.
MAPREDUCE-5616. MR Client-AppMaster RPC max retries on socket timeout is too high. Contributed by Chris Nauroth.
MAPREDUCE-3610. Remove use of the 'dfs.block.size' config for default block size fetching. Use FS#getDefaultBlocksize instead. (Sho Shimauchi via harsh)
HADOOP-7424. Log an error if the topology script doesn't handle multiple args. Contributed by Uma Maheswara Rao G
HADOOP-10656. The password keystore file is not picked by LDAP group mapping. Contributed by Brandon Li
HDFS-3460. HttpFS proxyuser validation with Kerberos ON uses full principal name. (tucu)
HADOOP-12604. Exception may be swallowed in KMSClientProvider. (Yongjun Zhang)
YARN-2204. Explicitly enable vmem check in TestContainersMonitor#testContainerKillOnMemoryOverflow. (Anubhav Dhoot via kasha)
HDFS-5251. Race between the initialization of NameNode and the http server. Contributed by Haohui Mai.
HADOOP-6479. TestUTF8 assertions could fail with better text. Contributed by Steve Loughran.
HDFS-10528. Add logging to successful standby checkpointing. Contributed by Xiaoyu Yao.
MAPREDUCE-3448. TestCombineOutputCollector javac unchecked warning on mocked generics (Jonathan Eagles via mahadev)
HADOOP-10500. TestDoAsEffectiveUser fails on JDK7 due to failure to reset proxy user configuration. Contributed by Chris Nauroth.
YARN-3269. Yarn.nodemanager.remote-app-log-dir could not be configured to fully qualified path. Contributed by Xuan Gong
HDFS-10718. Prefer direct ByteBuffer in native RS encoder and decoder. Contributed by Sammi Chen
HADOOP-6758. MapFile.fix does not allow index interval definition. Contributed by Gianmarco De Francisci Morales.
HDFS-2043. TestHFlush failing intermittently. Contributed by Lin Yiqun.
YARN-6222. TestFairScheduler.testReservationMetrics is flaky. (Yufei Gu via kasha)
HDFS-9625. set replication for empty file failed when set storage policy (Contributed by DENG FEI)
YARN-3457. NPE when NodeManager.serviceInit fails and stopRecoveryStore called. Contributed by Bibin A Chundatt.
"Revert ""HDFS-5079. Cleaning up NNHAStatusHeartbeat.State from DatanodeProtocolProtos. Contributed by Tao Luo."""
MAPREDUCE-7011. TestClientDistributedCacheManager::testDetermineCacheVisibilities assumes all parent dirs set other exec
HADOOP-8208. Disallow self failover. Contributed by Eli Collins
MAPREDUCE-2963. Fix hang in TestMRJobs. Contributed by Siddharth Seth.
HDFS-10417. Improve error message from checkBlockLocalPathAccess. Contributed by Tianyin Xu.
YARN-4748. ApplicationHistoryManagerOnTimelineStore should not swallow exceptions on generateApplicationReport. Contributed by Li Lu
HDFS-8847. change TestHDFSContractAppend to not override testRenameFileBeingAppended method. Contributed by Zhihai Xu
MAPREDUCE-6282. Reuse historyFileAbsolute.getFileSystem in CompletedJob#loadFullHistoryData for code optimization. (zxu via rkanter)
YARN-2050. Fix LogCLIHelpers to create the correct FileContext. Contributed by Ming Ma
HADOOP-6769. Add an API in FileSystem to get FileSystem instances based on users
HADOOP-7758. Make GlobFilter class public. (tucu)
"Revert ""MAPREDUCE-6898. TestKill.testKillTask is flaky. Contributed by Peter Bacsko"""
MAPREDUCE-6748. Enhance logging for Cluster.java around InetSocketAddress (Vrushali C via Varun Saxena)
HDFS-8867. Enable optimized block reports. Contributed by Daryn Sharp.
HDFS-3482. hdfs balancer throws ArrayIndexOutOfBoundsException if option is specified without values. Contributed by Madhukara Phatak. 
MAPREDUCE-3595. Add missing TestCounters#testCounterValue test from branch 1 to 0.23 (Contributed by Tom White)
HDFS-11993. Add log info when connect to datanode socket address failed. Contributed by chencan
HDFS-9933. ReverseXML should be capitalized in oiv usage message (cmccabe)
HDFS-2363. Move datanodes size printing from FSNamesystem.metasave(..) to BlockManager.  Contributed by Uma Maheswara Rao G
MAPREDUCE-4422. YARN_APPLICATION_CLASSPATH needs a documented default value in YarnConfiguration. Contributed by Ahmed Radwan. (harsh)
HADOOP-10404. Some accesses to DomainSocketWatcher#closed are not protected by the lock (cmccabe)
HDFS-3824. TestHftpDelegationToken fails intermittently with JDK7 (Trevor Robinson via tgraves)
HDFS-5268. NFS write commit verifier is not set in a few places. Contributed by Brandon Li
HADOOP-14072. AliyunOSS: Failed to read from stream when seek beyond the download size. Contributed by Genmao Yu
YARN-3547. FairScheduler: Apps that have no resource demand should not participate scheduling. (Xianyin Xin via kasha)
MAPREDUCE-6678. Allow ShuffleHandler readahead without drop-behind. Contributed by Nathan Roberts.
HADOOP-8296. hadoop/yarn daemonlog usage wrong (Devaraj K via tgraves)
HDFS-8111. NPE thrown when invalid FSImage filename given for 'hdfs oiv_legacy' cmd ( Contributed by surendra singh lilhore )
YARN-1358. TestYarnCLI fails on Windows due to line endings. Contributed by Chuan Liu.
HDFS-7677. DistributedFileSystem#truncate should resolve symlinks. (yliu)
MAPREDUCE-5632. TestRMContainerAllocator#testUpdatedNodes fails (jeagles)
YARN-6552. Increase YARN test timeouts from 1 second to 10 seconds. Contributed by Eric Badger
HDFS-7634. Disallow truncation of Lazy persist files. (Contributed by Yi Liu)
MAPREDUCE-3709. TestDistributedShell is failing. (Hitesh Shah via mahadev)
HADOOP-14894. ReflectionUtils should use Time.monotonicNow to mesaure duration. Contributed by Bharat Viswanadham.
HADOOP-7153. MapWritable violates contract of Map interface for equals() and hashCode(). Contributed by Nicholas Telford.
HDFS-12166. Do not deprecate HTTPFS_TEMP. Contributed by John Zhuge.
MAPREDUCE-6945. TestMapFileOutputFormat missing @after annotation. Contributed by Ajay Kumar
HDFS-3249. Use ToolRunner.confirmPrompt in NameNode. Contributed by Todd Lipcon.
HDFS-11362. StorageDirectory should initialize a non-null default StorageDirType. Contribute by Hanisha Koneru.
HADOOP-10754. Reenable several HA ZooKeeper-related tests on Windows. Contributed by Chris Nauroth.
HDFS-9221. HdfsServerConstants#ReplicaState#getState should avoid calling values() since it creates a temporary array. (Staffan Friberg via yliu)
MAPREDUCE-4432. Confusing warning message when GenericOptionsParser is not used. Contributed by Gabriel Reid. (harsh)
YARN-3227. Timeline renew delegation token fails when RM user's TGT is expired. Contributed by Zhijie Shen
HDFS-4522. LightWeightGSet expects incrementing a volatile to be atomic. Contributed by Colin Patrick McCabe.
HDFS-9519. Some coding improvement in SecondaryNameNode#main. (Xiao Chen via Yongjun Zhang)
YARN-5082. Limit ContainerId increase in fair scheduler if the num of node app reserved reached the limit. Addendum to fix javac warning. (Arun Suresh via kasha)
HDFS-6749. FSNamesystem methods should call resolvePath. Contributed by Charles Lamb.
"HADOOP-11180. Change log message ""token.Token: Cannot find class for token kind kms-dt"" to debug. Contributed by Yi Liu."
HADOOP-10542 Potential null pointer dereference in Jets3tFileSystemStore retrieveBlock(). (Ted Yu via stevel)
YARN-6294. ATS client should better handle Socket closed case. Contributed by Li Lu.
HDFS-8490. Typo in trace enabled log in ExceptionHandler of WebHDFS. Contributed by Archana T.
HDFS-13159. TestTruncateQuotaUpdate fails in trunk. Contributed by Nanda kumar.
HDFS-11462. Fix occasional BindException in TestNameNodeMetricsLogger.
YARN-6563 ConcurrentModificationException in TimelineCollectorManager while stopping RM (Contributed by Haibo Chen via Vrushali C)
HDFS-6902. FileWriter should be closed in finally block in BlockReceiver#receiveBlock() (Tsuyoshi OZAWA via Colin Patrick McCabe)
HDFS-4865. Remove sub resource warning from httpfs log at startup time. (ywskycn via tucu)
HDFS-8551. Fix hdfs datanode CLI usage message. Contributed by Brahma Reddy Battula.
YARN-8075. DShell does not fail when we ask more GPUs than available even though AM throws 'InvalidResourceRequestException'. Contributed by Wangda Tan.
addendum patch for YARN-7289.
HDFS-6068. Disallow snapshot names that are also invalid directory names.  Contributed by sathish
HDFS-9597. BaseReplicationPolicyTest should update data node stats after adding a data node. Contributed by Wei-Chiu Chuang.
HADOOP-6667. RPC.waitForProxy should retry through NoRouteToHostException. Contributed by Todd Lipcon.
MAPREDUCE-6059. Speed up history server startup time (Siqi Li via aw)
HDFS-3390. DFSAdmin should print full stack traces of errors when DEBUG logging is enabled. Contributed by Aaron T. Myers.
HADOOP-7301. FSDataInputStream should expose a getWrappedStream method. Contributed by Jonathan Hsieh
MAPREDUCE-6373. The logger reports total input paths but it is referring to input files. Contributed by Bibin A Chundatt.
HADOOP-12767. Update apache httpclient version to 4.5.2; httpcore to 4.4.4. Artem Aliev via stevel.
HDFS-10628. Log HDFS Balancer exit message to its own log. Contributed by Jiayi Zhou.
HDFS-11084. Add a regression test for sticky bit support of OIV ReverseXML processor. Contributed by Wei-Chiu Chuang.
HDFS-12438. Rename dfs.datanode.ec.reconstruction.stripedblock.threads.size to dfs.datanode.ec.reconstruction.threads. Contributed by Andrew Wang
HADOOP-11282. Skip NFS TestShellBasedIdMapping tests that are irrelevant on Windows. Contributed by Chris Nauroth.
MAPREDUCE-5868. Fixed an issue with TestPipeApplication that was causing the nightly builds to fail. Contributed by Akira Ajisaka.
Fix NPE in LazyPersistFileScrubber. Contributed by Inigo Goiri.
HADOOP-11254. Changed visibility of AccessControlList to be public for consumption by ecosystem. Contributed by Zhijie Shen.
HADOOP-7175. Add isEnabled() to Trash.  Contributed by Daryn Sharp
MAPREDUCE-5373. TestFetchFailure.testFetchFailureMultipleReduces could fail intermittently (jeagles)
HADOOP-14384. Reduce the visibility of FileSystem.newFSDataOutputStreamBuilder before the API becomes stable. (lei)
MAPREDUCE-5083. MiniMRCluster should use a random component when creating an actual cluster. Contributed by Siddharth Seth.
HADOOP-8616. ViewFS configuration requires a trailing slash. Contributed by Sandy Ryza.
HDFS-5089. When a LayoutVersion support SNAPSHOT, it must support FSIMAGE_NAME_OPTIMIZATION.
MAPREDUCE-3976. TestRMContainerAllocator failing (Jason Lowe via bobby)
HADOOP-14195. CredentialProviderFactory$getProviders is not thread-safe. Contributed by Vihang Karajgaonkar.
HDFS-4810. several HDFS HA tests have timeouts that are too short. Contributed by Chris Nauroth.
MAPREDUCE-6819. Replace UTF8 with Text in MRBench. Contributed by Peter Bacsko.
HADOOP-6645. Re: Bugs on listStatus for HarFileSystem (rodrigo via mahadev)
HDFS-4797. BlockScanInfo does not override equals(..) and hashCode() consistently.
YARN-523. Modified a test-case to validate container diagnostics on localization failures. Contributed by Jian He.
YARN-6563 ConcurrentModificationException in TimelineCollectorManager while stopping RM (Contributed by Haibo Chen via Vrushali C)
HDFS-8627. NPE thrown if unable to fetch token from Namenode (Contributed by J.Andreina)
Revert HDFS-3837. Fix DataNode.recoverBlock findbugs warning.
MAPREDUCE-3878. Null user on filtered jobhistory job page (Jonathon Eagles via tgraves)
HADOOP-10418. SaslRpcClient should not assume that remote principals are in the default_realm. Contributed by Aaron T. Myers.
HDFS-12112. TestBlockManager#testBlockManagerMachinesArray sometimes fails with NPE. Contributed by Wei-Chiu Chuang.
HDFS-7514. TestTextCommand fails on Windows. (Arpit Agarwal)
MAPREDUCE-6204. TestJobCounters should use new properties instead of JobConf.MAPRED_TASK_JAVA_OPTS.
HADOOP-6778. add isRunning() method to AbstractDelegationTokenSecretManager (for HDFS-1044)
MAPREDUCE-3650. testGetTokensForHftpFS() fails (Ravi Prakash via bobby)
YARN-6647. RM can crash during transitionToStandby due to InterruptedException. Contributed by Bibin A Chundatt
YARN-2972. DelegationTokenRenewer thread pool never expands. Contributed by Jason Lowe
YARN-4326. Fix TestDistributedShell timeout as AHS in MiniYarnCluster no longer binds to default port 8188. (Meng Ding via wangda)
HDFS-9626. TestBlockReplacement#testBlockReplacement fails occasionally. Contributed by Xiao Chen.
Rebase onto latest trunk. minor conflicts
HDFS-3248. bootstrapStandby repeated twice in hdfs namenode usage message. Contributed by Colin Patrick McCabe.
HDFS-2391. Newly set BalancerBandwidth value is not displayed anywhere. (harsh)
HDFS-4969. WebhdfsFileSystem expects non-standard WEBHDFS Json element. (rkanter via tucu)
HDFS-8665. Fix replication check in DFSTestUtils#waitForReplication.
MAPREDUCE-3728. ShuffleHandler can't access results when configured in a secure mode (ahmed via tucu)
HDFS-5457. Fix TestDatanodeRegistration, TestFsck and TestAddBlockRetry. (Contributed by szetszwo)
MAPREDUCE-3953. [Gridmix] Gridmix throws NPE and does not simulate a job if the trace contains null taskStatus for a task.(ravigummadi)
HDFS-8463. Calling DFSInputStream.seekToNewSource just after stream creation causes NullPointerException. Contributed by Masatake Iwasaki.
HADOOP-11173. Improve error messages for some KeyShell commands.
HDFS-7637. Fix the check condition for reserved path. Contributed by Yi Liu.
HDFS-13210. Fix the typo in MiniDFSCluster class. Contributed by fang zhenyi.
HDFS-7956. Improve logging for DatanodeRegistration. Contributed by Plamen Jeliazkov.
HDFS-3276. initializeSharedEdits should have a -nonInteractive flag. Contributed by Todd Lipcon.
HDFS-11928. Segment overflow in FileDistributionCalculator. Contributed by LiXin Ge.
MAPREDUCE-3804. yarn webapp interface vulnerable to cross scripting attacks (Dave Thompson via bobby)
YARN-5094. some YARN container events have timestamp of -1.
HADOOP-14384. Reduce the visibility of FileSystem.newFSDataOutputStreamBuilder before the API becomes stable. (lei)
HADOOP-10365. BufferedOutputStream in FileUtil#unpackEntries() should be closed in finally block. Contributed by Kiran Kumar M R and Sanghyun Yun.
HDFS-2310. TestBackupNode fails since HADOOP-7524 went in. Contributed by Ivan Kelly.
HADOOP-12268. AbstractContractAppendTest#testRenameFileBeingAppended misses rename operation. Contributed by Zhihai Xu
HADOOP-6490. Use StringUtils over String#replace in Path#normalizePath. Contributed by Uma Maheswara Rao G.
HADOOP-11248. Add hadoop configuration to disable Azure Filesystem metrics collection. Contributed by Shanyu Zhao.
HDFS-6115. Call flush() for every append on block scan verification log.  Contributed by Vinayakumar B
YARN-7985.  Removed duplicate service name validation in Yarn Service.             Contributed by Chandni Singh
HADOOP-10967. Improve DefaultCryptoExtension#generateEncryptedKey performance. (hitliuyi via tucu)
MAPREDUCE-5598. TestUserDefinedCounters.testMapReduceJob is flakey. Contributed by Robert Kanter
HADOOP-6803. Add native gzip read/write coverage to TestCodec. Contributed by Eli Collins.
MAPREDUCE-6744. Increase timeout on TestDFSIO tests. Contributed by Eric Badger
YARN-4374. RM capacity scheduler UI rounds user limit factor. Contributed by Chang Li
MAPREDUCE-4771. KeyFieldBasedPartitioner not partitioning properly when configured (jlowe via bobby)
YARN-5379. TestHBaseTimelineStorage. testWriteApplicationToHBase() fails intermittently (Vrushali C via sjlee)
HDFS-4783. TestDelegationTokensWithHA#testHAUtilClonesDelegationTokens fails on Windows. Contributed by Chris Nauroth.
YARN-6103. Log updates for ZKRMStateStore (Contributed by Daniel Sturman via Daniel Templeton)
HDFS-8709. Clarify automatic sync in FSEditLog#logEdit.
YARN-2726. CapacityScheduler should explicitly log when an accessible label has no capacity. Contributed by Wangda Tan
YARN-8147. TestClientRMService#testGetApplications sporadically fails. Contributed by Jason Lowe
MAPREDUCE-6508. TestNetworkedJob fails consistently due to delegation token changes on RM. Contributed by Akira AJISAKA
HDFS-5276. Remove volatile from LightWeightHashSet. (Junping Du via llu)
HADOOP-7045. TestDU fails on systems with local file systems with extended attributes. Contributed by Eli Collins
HDFS-3483. Better error message when hdfs fsck is run against a ViewFS config. Contributed by Stephen Fritz.
HADOOP-10839. Add unregisterSource() to MetricsSystem API. Contributed by Shanyu Zhao.
MAPREDUCE-5177. Use common utils FileUtil#setReadable/Writable/Executable & FileUtil#canRead/Write/Execute. Contributed by Ivan Mitic.
MAPREDUCE-6349. Fix typo in property org.apache.hadoop.mapreduce.lib.chain.Chain.REDUCER_INPUT_VALUE_CLASS. Contributed by Ray Chiang.
HDFS-6578. add toString method to DatanodeStorage for easier debugging. (Contributed by Yongjun Zhang)
YARN-8165. Incorrect queue name logging in AbstractContainerAllocator. Contributed by Weiwei Yan.
HADOOP-12484. Single File Rename Throws Incorrectly In Potential Race Condition Scenarios. Contributed by Gaurav Kanade.
HDFS-3194. DataNode block scanner is running too frequently. Contributed by Andy Isaacson
Reverting all commit booboos made on HADOOP-8290. Resetting to state before that. Sorry for so much noise. (harsh)
HADOOP-8609. IPC server logs a useless message when shutting down socket. Contributed by Jon Zuanich.
MAPREDUCE-5613. DefaultSpeculator holds and checks hashmap that is alway empty (Gera Shegalov via Sandy Ryza)
"Revert ""HDFS-9210. Fix some misuse of %n in VolumeScanner#printStats. Contributed by Xiaoyu Yao."""
HDFS-7936. Erasure coding: resolving conflicts in the branch when merging (this commit is for conflicts from HDFS-6945). Contributed by Zhe Zhang.
HDFS-4607.  In TestGetConf.testGetSpecificKey(), use a platform-specific line separator; otherwise, it fails on Windows.  Contributed by Ivan Mitic
HDFS-5519. COMMIT handler should update the commit status after sync. Contributed by Brandon Li
Minor update to HADOOP-7429.
HDFS-10831. Add log when URLConnectionFactory.openConnection failed. Contributed by yunjiong zhao.
YARN-7116. CapacityScheduler Web UI: Queue's AM usage is always show on per-user's AM usage. Contributed by Wangda Tan.
MAPREDUCE-4402. TestFileInputFormat fails intermittently (Jason Lowe via bobby)
YARN-516. Fix failure in TestContainerLocalizer caused by HADOOP-9357. Contributed by Andrew Wang.
MAPREDUCE-6898. TestKill.testKillTask is flaky. Contributed by Peter Bacsko
HDFS-12605. [READ] TestNameNodeProvidedImplementation#testProvidedDatanodeFailures fails after rebase
YARN-5870. Expose getApplications API in YarnClient with GetApplicationsRequest parameter. Contributed by Jian He.
HDFS-7916. 'reportBadBlocks' from datanodes to standby Node BPServiceActor goes for infinite loop (Contributed by Vinayakumar B) Reverted earlier commit
MAPREDUCE-4449. Incorrect MR_HISTORY_STORAGE property name in JHAdminConfig (Ahmed Radwan via bobby)
YARN-8062. yarn rmadmin -getGroups returns group from which the user has been removed. (Sunil G via wangda)
HDFS-3861. Deadlock in DFSClient (Kihwal Lee via daryn)
HADOOP-13559. Remove close() within try-with-resources in ChecksumFileSystem/ChecksumFs classes. (Contributed by Aaron Fabbri)
HDFS-4275. MiniDFSCluster-based tests fail on Windows due to failure to delete test namenode directory. Contributed by Chris Nauroth.
YARN-5438. TimelineClientImpl leaking FileSystem Instances causing Long running services like HiverServer2 daemon going OOM. Contributed by Rohith Sharma K S
YARN-6342. Make TimelineV2Client's drain timeout after stop configurable (Haibo Chen via Varun Saxena)
YARN-6561. Update exception message during timeline collector aux service initialization. (Vrushali C via Haibo Chen)
MAPREDUCE-3101. Changed default value of yarn.resourcemanager.acl.enable to true and added some more documentation.
HDFS-11441. Add escaping to error message in KMS web UI. Contributed by Aaron T. Myers.
HADOOP-11448. Fix findbugs warnings in FileBasedIPList. (ozawa)
YARN-3848. TestNodeLabelContainerAllocation is timing out. Contributed by Varun Saxena
YARN-2723. Fix rmadmin -replaceLabelsOnNode does not correctly parse port. Contributed by Naganarasimha G R
YARN-4183. Enabling generic application history forces every job to get a timeline service delegation token (jeagles)
YARN-6433. Only accessible cgroup mount directories should be selected for a controller. (Miklos Szegedi via kasha)
YARN-224. Fair scheduler logs too many nodeUpdate INFO messages. Contributed by Sandy Ryza.
"HADOOP-7434. Display error when using ""daemonlog -setlevel"" with illegal level. Contributed by yanjinshuang"
YARN-7635. TestRMWebServicesSchedulerActivities fails in trunk. Contributed by Sunil G.
YARN-6535. Program needs to exit when SLS finishes. (yufeigu via rkanter)
HDFS-4395. In INodeDirectorySnapshottable's constructor, the passed-in dir could be an INodeDirectoryWithSnapshot.  Contributed by Jing Zhao
HADOOP-11068. Match hadoop.auth cookie format to jetty output. Contributed by Gregory Chanan.
YARN-1975. Fix yarn application CLI to print the scheme of the tracking url of failed/killed applications. Contributed by Junping Du
"HDFS-8099. Change ""DFSInputStream has been closed already"" message to debug log level (Charles Lamb via Colin P. McCabe)"
YARN-3552. RM Web UI shows -1 running containers for completed apps. Contributed by Rohith
HADOOP-11253. Hadoop streaming test TestStreamXmlMultipleRecords fails on Windows. Contributed by Varun Vasudev.
HDFS-10216. Distcp -diff throws exception when handling relative path. Contributed by Takashi Ohnishi.
HDFS-7355. TestDataNodeVolumeFailure#testUnderReplicationAfterVolFailure fails on Windows, because we cannot deny access to the file owner. Contributed by Chris Nauroth.
YARN-4320. TestJobHistoryEventHandler fails as AHS in MiniYarnCluster no longer binds to default port 8188. Contributed by Varun Saxena.
HADOOP-6839. [Herriot] Implement a functionality for getting the user list for creating proxy users. Contributed by Vinay Thota.
HDFS-2580. NameNode#main(...) can make use of GenericOptionsParser. Contributed by harsh. (harsh)
HADOOP-13406 S3AFileSystem: Consider reusing filestatus in delete() and mkdirs(). Contributed by Rajesh Balamohan
HDFS-12699. TestMountTable fails with Java 7. Contributed by Inigo Goiri.
HADOOP-9678. TestRPC#testStopsAllThreads intermittently fails on Windows. Contributed by Ivan Mitic.
HDFS-8532. Make the visibility of DFSOutputStream#streamer member variable to private. Contributed by Rakesh R.
HDFS-10701. TestDFSStripedOutputStreamWithFailure#testBlockTokenExpired occasionally fails. Contributed by SammiChen.
YARN-3207. Secondary filter matches entites which do not have the key being filtered for. Contributed by Zhijie Shen
HADOOP-14069. AliyunOSS: listStatus returns wrong file info. Contributed by Fei Hui
MAPREDUCE-4614. Simplify debugging a job's tokens (daryn via bobby)
YARN-3917. getResourceCalculatorPlugin for the default should intercept all exceptions. (gera)
YARN-4555. TestDefaultContainerExecutor#testContainerLaunchError fails on non-english locale environment. Contributed by Takashi Ohnishi.
HADOOP-11762. Enable swift distcp to secure HDFS (Chen He via aw)
HADOOP-13289. Remove unused variables in TestFairCallQueue. Contributed by Ye Zhou.
HDFS-7444. Addendum patch to resolve conflicts between HDFS-7444 and HDFS-7310.
HDFS-1153. dfsnodelist.jsp should handle invalid input parameters. Contributed by Ravi Phulari
HADOOP-7465. A several tiny improvements for the LOG format. Contributed by Xie Xianshan
MAPREDUCE-6797. Job history server scans can become blocked on a single, slow entry. Contributed by Prabhu Joseph
Amend HDFS-2841 to include new file which was omitted from original commit.
MAPREDUCE-5597. Missing alternatives in javadocs for deprecated constructors in mapreduce.Job (Akira AJISAKA via aw)
HDFS-5626. dfsadmin report shows incorrect values (cmccabe)
YARN-1613. Fixed the typo with the configuration name YARN_HISTORY_SERVICE_ENABLED. Contributed by Akira Ajisaka.
HDFS-5540. Fix intermittent failure in TestBlocksWithNotEnoughRacks. (Binglin Chang via junping_du)
HADOOP-7663. Fix TestHDFSTrash failure. Contributed by Mayank Bansal.
HDFS-4656. DN heartbeat loop can be briefly tight. Contributed by Aaron T. Myers.
HDFS-10620. StringBuilder created and appended even if logging is disabled. Contributed by Staffan Friberg.
HADOOP-9894.  Race condition in Shell leads to logged error stream handling exceptions (Arpit Agarwal)
HDFS-4951. FsShell commands using secure httpfs throw exceptions due to missing TokenRenewer. (rknater via tucu)
HADOOP-14472. Azure: TestReadAndSeekPageBlobAfterWrite fails intermittently. Contributed by Mingliang Liu
YARN-7152. [ATSv2] Registering timeline client before AMRMClient service init throw exception (Rohith Sharma K S via Varun Saxena)
HDFS-4998. TestUnderReplicatedBlocks fails intermittently. Contributed by Kihwal Lee.
HDFS-6503. Fix typo of DFSAdmin restoreFailedStorage. Contributed by Zesheng Wu.
HADOOP-10126. LightWeightGSet log message is confusing. Contributed by Vinay.
YARN-3424. Change logs for ContainerMonitorImpl's resourse monitoring from info to debug. Contributed by Anubhav Dhoot.
YARN-6331. Fix flakiness in TestFairScheduler#testDumpState. (Yufei Gu via rchiang)
HADOOP-7851. Configuration.getClasses() never returns the default value. (amarrk)
MAPREDUCE-6951. Improve exception message when mapreduce.jobhistory.webapp.address is in wrong format. Contributed by Prabhu Joseph.
MAPREDUCE-3748. Changed a log in CapacityScheduler.nodeUpdate to debug. Contributed by Ramya Sunil.
HDFS-6694. TestPipelinesFailover.testPipelineRecoveryStress tests fail intermittently with various symptoms - debugging patch (Contributed by Yongjun Zhang)
Neglected to add new file in HDFS-5514 (daryn)
HDFS-4840. ReplicationMonitor gets NPE during shutdown. Contributed by Kihwal Lee.
HADOOP-11280. TestWinUtils#testChmod fails after removal of NO_PROPAGATE_INHERIT_ACE. Contributed by Chris Nauroth.
YARN-6999. Add log about how to solve Error: Could not find or load main class org.apache.hadoop.mapreduce.v2.app.MRAppMaster. (Linlin Zhou via gtcarrera9)
MAPREDUCE-3281. Fixed a bug in TestLinuxContainerExecutorWithMocks. (vinodkv) 
MAPREDUCE-5905. CountersStrings.toEscapedCompactStrings outputs unnecessary null strings. Contributed by Akira AJISAKA.
HDFS-6614. Addendum patch to shorten TestPread run time with smaller retry timeout setting. Contributed by Liang Xie.
MAPREDUCE-6049. AM JVM does not exit if MRClientService graceful shutdown fails. Contributed by Rohith.
"YARN-406. Fix TestRackResolver to function in networks where ""host1"" resolves to a valid host. Contributed by Hitesh Shah."
YARN-3435. AM container to be allocated Appattempt AM container shown as null. Contributed by Bibin A Chundatt
MAPREDUCE-4994. Addendum fixing testcases failures. (sandyr via tucu)
MAPREDUCE-4307. TeraInputFormat calls FileSystem.getDefaultBlockSize() without a Path - Failure when using ViewFileSystem. Contributed by Ahmed Radwan
MAPREDUCE-6442. Stack trace is missing when error occurs in client protocol provider's constructor Contributed by Chang Li.
HADOOP-7265. Keep track of relative paths in PathData.  Contributed by Daryn Sharp
YARN-3875. FSSchedulerNode#reserveResource() doesn't print Application Id properly in log. Contributed by Bibin A Chundatt.
MAPREDUCE-6750. Fix TestHSAdminServer#testRefreshSuperUserGroups (Kihwal Lee via Varun Saxena)
HDFS-3236. NameNode does not initialize generic conf keys when started with -initializeSharedEditsDir. Contributed by Aaron T. Myers.
HADOOP-7451. Generalize StringUtils#join. Contributed by Chris Douglas.
HDFS-10722. Fix race condition in TestEditLog#testBatchedSyncWithClosedLogs. Contributed by Daryn Sharp.
YARN-3182. Cleanup switch statement in ApplicationMasterLauncher#handle(). Contributed by Ray Chiang.
HDFS-3331. In namenode, check superuser privilege for setBalancerBandwidth and acquire the write lock for finalizeUpgrade.
HDFS-2258. Reset lease limits to default values in TestLeaseRecovery2. Contributed by Konstantin Shvachko
"HDFS-10916. Switch from ""raw"" to ""system"" xattr namespace for erasure coding policy. (Andrew Wang via lei)"
HDFS-9225. Fix intermittent test failure of TestBlockManager.testBlocksAreNotUnderreplicatedInSingleRack. Contributed by Masatake Iwasaki.
YARN-4831. Recovered containers will be killed after NM stateful restart. Contributed by Siqi Li
HADOOP-11163. MetricsSystemImpl may miss a registered source. Contributed by Chuan Liu.
YARN-6643. TestRMFailover fails rarely due to port conflict. Contributed by Robert Kanter
HDFS-7638: Small fix and few refinements for FSN#truncate. (yliu)
MAPREDUCE-6965. QuasiMonteCarlo should use Time.monotonicNow for measuring durations. Contributed by Chetna Chaudhari
HDFS-9661. Deadlock in DN.FsDatasetImpl between moveBlockAcrossStorage and createRbw (Contributed by ade)
HADOOP-11674. oneByteBuf in CryptoInputStream and CryptoOutputStream should be non static. (Sean Busbey via yliu)
HADOOP-13721. Remove stale method ViewFileSystem#getTrashCanLocation. Contributed by Manoj Govindassamy.
MAPREDUCE-5586. TestCopyMapper#testCopyFailOnBlockSizeDifference fails when run from hadoop-tools/hadoop-distcp directory (jeagles)
HDFS-11932. BPServiceActor thread name is not correctly set. Contributed by Chen Liang.
HADOOP-9886. Turn warning message in RetryInvocationHandler to debug. Contributed by Arpit Gupta
MAPREDUCE-5895. Close streams properly to avoid leakage in TaskLog. Contributed by Kousuke Saruta.
HDFS-7042. Upgrade fails for Windows HA cluster due to file locks held during rename in JournalNode. Contributed by Chris Nauroth.
MAPREDUCE-5763. Warn message about httpshuffle in NM logs. Contributed by Akira AJISAKA.
HADOOP-12457. [JDK8] Fix a failure of compiling common by javadoc. Contributed by Akira AJISAKA.
HDFS-6627. Rename DataNode#checkWriteAccess to checkReadAccess. Contributed by Liang Xie.
YARN-4622. TestDistributedShell fails for v2 test cases after modifications for 1.5. (Naganarasimha G R via Varun Saxena)
HDFS-7606. Fix potential NPE in INodeFile.getBlocks(). Contributed by Byron Wong.
HDFS-8067. haadmin prints out stale help messages (Contributed by Ajith S)
YARN-6420. RM startup failure due to wrong order in nodelabel editlog (Bibin A Chundatt via Varun Saxena)
YARN-385. Add missing fields - location and #containers to ResourceRequestPBImpl's toString(). Contributed by Sandy Ryza.
HDFS-7051. TestDataNodeRollingUpgrade#isBlockFileInPrevious assumes Unix file path separator. Contributed by Chris Nauroth.
HDFS-10219. Change the default value for dfs.namenode.reconstruction.pending.timeout-sec from -1 to 300. Contributed by Yiqun Lin.
HDFS-8311. DataStreamer.transfer() should timeout the socket InputStream. (Esteban Gutierrez via Yongjun Zhang)
YARN-5073. Refactor startContainerInternal() in ContainerManager to remove unused parameter. (Konstantinos Karanasos via asuresh)
HDFS-4518. Finer grained metrics for HDFS capacity. Contributed by Suresh Srinivas.
YARN-3428. Debug log resources to be localized for a container. (kasha)
HADOOP-12042. Users may see TrashPolicy if hdfs dfs -rm is run (Contributed by Andreina J)
"HDFS-6662. WebHDFS cannot open a file if its path contains ""%"". Contributed by Gerson Carlos."
HDFS-10270. TestJMXGet:testNameNode() fails. Contributed by Gergely Novák
HDFS-9906. Remove spammy log spew when a datanode is restarted. (Contributed by Brahma Reddy Battula)
HDFS-12671. [READ] Test NameNode restarts when PROVIDED is configured
YARN-6617. Services API delete call first attempt usually fails. Contributed by Jian He
MAPREDUCE-6960. Shuffle Handler prints disk error stack traces for every read failure.
MAPREDUCE-6676. NNBench should Throw IOException when rename and delete fails. Contributed by Brahma Reddy Battula.
YARN-4989. TestWorkPreservingRMRestart#testCapacitySchedulerRecovery fails intermittently. Contributed by Ajith S.
YARN-2643. Don't create a new DominantResourceCalculator on every FairScheduler.allocate call. (kasha via rkanter)
HDFS-9151. Mover should print the exit status/reason on console like balancer tool. (Contributed by Surendra singh lilhore)
HADOOP-10312 Shell.ExitCodeException to have more useful toString
MAPREDUCE-5596. Allow configuring the number of threads used to serve shuffle connections. Contributed by Sandy Ryza
MAPREDUCE-3066. Fixed default ResourceTracker address for the NodeManager. Contributed by Chris Riccomini.
HDFS-8324. Add trace info to DFSClient#getErasureCodingZoneInfo(..). Contributed by Vinayakumar B
YARN-6747. TestFSAppStarvation.testPreemptionEnable fails intermittently. (Contributed by Miklos Szegedi)
HDFS-6604. The short-circuit cache doesn't correctly time out replicas that haven't been used in a while (cmccabe)
HDFS-2722. HttpFs should not be using an int for block size. (harsh)
HDFS-9580. TestComputeInvalidateWork#testDatanodeReRegistration failed due to unexpected number of invalidate blocks. Contributed by Wei-Chiu Chuang.
HDFS-3143. TestGetBlocks.testGetBlocks is failing. Contributed by Arpit Gupta.
HDFS-11893. Fix TestDFSShell.testMoveWithTargetPortEmpty failure. Contributed by Brahma Reddy Battula.
YARN-5921. Incorrect synchronization in RMContextImpl#setHAServiceState/getHAServiceState. Contributed by Varun Saxena
YARN-4685. Disable AM blacklisting by default to mitigate situations that application get hanged. (Rohith Sharma K S via wangda)
HDFS-5882. TestAuditLogs is flaky (jxiang via cmccabe)
YARN-417. Addendum patch to fix broken test (Sandy Ryza via bikas)
HDFS-5455. NN should update storageMap on first heartbeat.
MAPREDUCE-3818. Fixed broken compilation in TestSubmitJob after the patch for HDFS-2895. Contributed by Suresh Srinivas.
YARN-7194. Log aggregation status is always Failed with the newly added log aggregation IndexedFileFormat. Contributed by Xuan Gong.
HDFS-10569. A bug causes OutOfIndex error in BlockListAsLongs. Contributed by Weiwei Yang.
MAPREDUCE-5801. Uber mode's log message is missing a vcore reason  (Steven Wong via aw)
YARN-6367. YARN logs CLI needs alway check containerLogsInfo/containerLogInfo before parse the JSON object from NMWebService. Contributed by Xuan Gong.
HADOOP-6836. [Herriot]: Generic method for adding/modifying the attributes for new configuration. Contributed by Vinay Thota.
YARN-1388. Fair Scheduler page always displays blank fair share (Liyin Liang via Sandy Ryza)
"MAPREDUCE-6931. Remove TestDFSIO ""Total Throughput"" calculation. Contributed by Dennis Huo."
MAPREDUCE-6711. JobImpl fails to handle preemption events on state COMMITTING. Contributed by Prabhu Joseph.
MAPREDUCE-3803. Fix broken build of raid contrib due to HDFS-2864. Contributed by Ravi Prakash.
MAPREDUCE-4237. TestNodeStatusUpdater can fail if localhost has a domain associated with it (bobby)
YARN-5096 addendum. Turned another logging statement to debug. Contributed by Sangjin Lee.
YARN-3568. TestAMRMTokens should use some random port. (Takashi Ohnishi via Subru).
HADOOP-12494. fetchdt stores the token based on token kind instead of token service (HeeSoo Kim via aw)
YARN-3794. TestRMEmbeddedElector fails because of ambiguous LOG reference. Contributed by Chengbing Liu.
HDFS-8183. Erasure Coding: Improve DFSStripedOutputStream closing of datastreamer threads. Contributed by Rakesh R.
HDFS-8391. NN should consider current EC tasks handling count from DN while assigning new tasks. Contributed by Uma Maheswara Rao G.
MAPREDUCE-6855. Specify charset when create String in CredentialsTestJob. Contributed by Kai Sasaki.
HADOOP-8006  TestFSInputChecker is failing in trunk. (Daryn Sharp via bobby)
HDFS-8009. Signal congestion on the DataNode. Contributed by Haohui Mai.
HDFS-3614. Revert unused MiniDFSCluster constructor from HDFS-3049. Contributed by Arun Murthy
HADOOP-11349. RawLocalFileSystem leaks file descriptor while creating a file if creat succeeds but chmod fails. (Varun Saxena via Colin P.  McCabe)
HADOOP-12191. Bzip2Factory is not thread safe. Contributed by Brahma Reddy Battula.
HDFS-6448. BlockReaderLocalLegacy should set socket timeout based on conf.socketTimeout (liangxie via cmccabe)
"Revert ""HDFS-10417. Improve error message from checkBlockLocalPathAccess. Contributed by Tianyin Xu."""
MAPREDUCE-5179. Fix unit test in TestHSWebServices which fails when versionInfo has parantheses like when running on a git checkout. Contributed by Hitesh Shah.
YARN-4614. Fix random failure in TestApplicationPriority#testApplicationPriorityAllocationWithChangeInPriority. (Sunil G via rohithsharmaks)
HDFS-9491. Tests should get the number of pending async deletes via FsDatasetTestUtils. (Tony Wu via lei)
MAPREDUCE-7028. Concurrent task progress updates causing NPE in Application Master. Contributed by Gergo Repas
HDFS-6752. Avoid Address bind errors in TestDatanodeConfig#testMemlockLimit (vinayakumarb)
YARN-6275. Fail to show real-time tracking charts in SLS (yufeigu via rkanter)
HADOOP-10337 ConcurrentModificationException from MetricsDynamicMBeanBase.createMBeanInfo() (Liang Xie via stack)
YARN-8164. Fix a potential NPE in AbstractSchedulerPlanFollower. Contributed by lujie.
HDFS-9886. Configuration properties for hedged read is broken. Contributed by Akira AJISAKA.
HADOOP-11709. Time.NANOSECONDS_PER_MILLISECOND - use class-level final constant instead of method variable. Contributed by Ajith S.
YARN-7637. GPU volume creation command fails when work preserving is disabled at NM. Contributed by Zian Chen.
YARN-5185. StageAllocaterGreedyRLE: Fix NPE in corner case. (Carlo Curino via asuresh)
HDFS-9691. TestBlockManagerSafeMode#testCheckSafeMode fails intermittently. Contributed by Mingliang Liu.
"Revert ""YARN-3157. Refactor the exception handling in ConverterUtils#to*Id. Contributed by Bibin A Chundatt."""
HDFS-5677. Need error checking for HA cluster configuration. Contributed by Vincent Sheffer.
HDFS-4751. TestLeaseRenewer#testThreadName flakes. Contributed by Andrew Wang.
HADOOP-8585. Fix initialization circularity between UserGroupInformation and HadoopConfiguration. Contributed by Colin Patrick McCabe.
HADOOP-12801. Suppress obsolete S3FileSystem tests. Contributed by Chris Nauroth.
HDFS-11263. ClassCastException when we use Bzipcodec for Fsimage compression. Contributed by Brahma Reddy Battula.
HDFS-11761. Ozone: Get container report should only report closed containers. Contributed by Weiwei Yang.
HDFS-10302. BlockPlacementPolicyDefault should use default replication considerload value. Contributed by  Lin Yiqun.
HADOOP-8821. Fix findbugs warning related concatenating string in a for loop in Configuration#dumpDeprecatedKeys(). Contributed by Suresh Srinivas.
YARN-4785. inconsistent value type of the type field for LeafQueueInfo in response of RM REST API.
MAPREDUCE-3370. More changes accidentally missed from the previous commit.
YARN-4541. Change log message in LocalizedResource#handle() to DEBUG (rchiang via rkanter)
YARN-1522. Fixed a race condition in the test TestApplicationCleanup that was causing it to randomly fail. Contributed by Liyin Liang.
YARN-3497. ContainerManagementProtocolProxy modifies IPC timeout conf without making a copy. Contributed by Jason Lowe
"HDFS-4088. Remove ""throws QuotaExceededException"" from an INodeDirectoryWithQuota constructor."
HADOOP-10332. HttpServer's jetty audit log always logs 200 OK (jeagles)
Addendum fix for: YARN-7269. Tracking URL in the app state does not get redirected to ApplicationMaster for Running applications. (Wangda Tan)
HADOOP-10354. TestWebHDFS fails after merge of HDFS-4685 to trunk. Contributed by Chris Nauroth.
HADOOP-13770. Shell.checkIsBashSupported swallowed an interrupted exception. Contributed by Wei-Chiu Chuang
HADOOP-14216. Addendum to Improve Configuration XML Parsing Performance (jeagles)
HDFS-9740. Use a reasonable limit in DFSTestUtil.waitForMetric() (Contributed by Chang Li)
HDFS-11893. Fix TestDFSShell.testMoveWithTargetPortEmpty failure. Contributed by Brahma Reddy Battula.
YARN-8010. Add config in FederationRMFailoverProxy to not bypass facade cache when failing over. (Botong Huang via Subru).
HDFS-5710. FSDirectory#getFullPathName should check inodes against null. Contributed by Uma Maheswara Rao G.
HDFS-13145. SBN crash when transition to ANN with in-progress edit tailing enabled. Contributed by Chao Sun.
"HDFS-9871. ""Bytes Being Moved"" -ve(-1 B) when cluster was already balanced. (Contributed by Brahma Reddy Battulla)"
HDFS-9532. Detailed exception info is lost in reportTo methods of ErrorReportAction and ReportBadBlockAction. (Yongjun Zhang)
"HADOOP-15346 S3ARetryPolicy for 400/BadArgument to be ""fail"". Contributed by Steve Loughran."
YARN-5657. Fix TestDefaultContainerExecutor. (asuresh)
HDFS-7710. Remove dead code in BackupImage.java. Contributed by Xiaoyu Yao.
YARN-5655. TestContainerManagerSecurity#testNMTokens is asserting. Contributed by Robert Kanter
MAPREDUCE-6186. Redundant call to requireJob() while displaying the conf page. Contributed by Rohit Agarwal
MAPREDUCE-3282. bin/mapred job -list throws exception. (acmurthy via mahadev)
YARN-2735. diskUtilizationPercentageCutoff and diskUtilizationSpaceCutoff are initialized twice in DirectoryCollection. (Zhihai Xu via kasha)
HDFS-11067. DFS#listStatusIterator(..) should throw FileNotFoundException if the directory deleted before fetching next batch of entries. Contributed by Vinayakumar B.
HDFS-7936. Erasure coding: resolving conflicts when merging with HDFS-7903, HDFS-7435, HDFS-7930, HDFS-7960 (this commit is for HDFS-7960)
YARN-3237. AppLogAggregatorImpl fails to log error cause. Contributed by Rushabh S Shah
HDFS-3629. Fix the typo in the error message about inconsistent storage layout version. Contributed by Brandon Li. (harsh)
YARN 2163. WebUI: Order of AppId in apps table should be consistent with ApplicationId.compareTo()
HADOOP-11088. Quash unnecessary safemode WARN message during NameNode startup. Contributed by Yiqun Lin.
HDFS-11112. Journal Nodes should refuse to format non-empty directories. Contributed by Yiqun Lin.
YARN-5722. FairScheduler hides group resolution exceptions when assigning queue (Contributed by Wilfred Spiegelenburg via Daniel Templeton)
HADOOP-12052 IPC client downgrades all exception types to IOE, breaks callers trying to use them. (Brahma Reddy Battula via stevel)
HDFS-9929. Duplicate keys in NAMENODE_SPECIFIC_KEYS (Contributed by Akira Ajisaka)
HADOOP-10964. Small fix for NetworkTopologyWithNodeGroup#sortByDistance. Contributed by Yi Liu.
MAPREDUCE-5312. TestRMNMInfo is failing. (sandyr via tucu)
HDFS-11502. Datanode UI should display hostname based on JMX bean instead of window.location.hostname. Contributed by Jeffrey E Rodriguez and Yuanbo Liu.
HDFS-5043. For HdfsFileStatus, set default value of childrenNum to -1 instead of 0 to avoid confusing applications. Contributed by Brandon Li
HADOOP-12590. TestCompressorDecompressor failing without stack traces  (John Zhuge via stevel)
YARN-7489. ConcurrentModificationException in RMAppImpl#getRMAppMetrics. Contributed by Tao Yang.
YARN-2125. Changed ProportionalCapacityPreemptionPolicy to log CSV in debug level. Contributed by Wangda Tan
MAPREDUCE-3215. Reneabled and fixed bugs in the failing test TestNoJobSetupCleanup. Contributed by Hitesh Shah.
YARN-2388. Fixed TestTimelineWebServices failure due to HADOOP-10791. Contributed by Zhijie Shen.
YARN-3005. [JDK7] Use switch statement for String instead of if-else statement in RegistrySecurity.java (Contributed by Kengo Seki)
YARN-2192. TestRMHA fails when run with a mix of Schedulers. (Anubhav Dhoot via kasha)
HDFS-3833. TestDFSShell fails on windows due to concurrent file read/write. Contributed by Brandon Li
MAPREDUCE-4794. DefaultSpeculator generates error messages on normal shutdown (Jason Lowe via jeagles)
"Revert ""HADOOP-10054. ViewFsFileStatus.toString() is broken. Contributed by Hanisha Koneru."""
HDFS-12913. TestDNFencingWithReplication sometimes fails because of NameNode in standby state. Contributed by Zsolt Venczel.
YARN-6287. RMCriticalThreadUncaughtExceptionHandler.rmContext should be final (Contributed by Corey Barker via Daniel Templeton)
HDFS-6067. TestPread.testMaxOutHedgedReadPool is flaky (cmccabe)
MAPREDUCE-2805. Update RAID for HDFS-2241.
HDFS-10455. Logging the username when deny the setOwner operation. Contributed by Tianyin Xiu
YARN-7261. Add debug message for better download latency monitoring. (Yufei Gu)
YARN-502. Fixed a state machine issue with RMNode inside ResourceManager which was crashing scheduler. Contributed by Mayank Bansal.
HDFS-2706. Use configuration for blockInvalidateLimit if it is set.
YARN-3465. Use LinkedHashMap to preserve order of resource requests. (Zhihai Xu via kasha)
YARN-2749. Fix some testcases from TestLogAggregationService fails in trunk. (Contributed by Xuan Gong)
"HDFS-7202. Should be able to omit package name of SpanReceiver on ""hadoop trace -add"" (iwasakims via cmccabe)"
HADOOP-13483. File create should throw error rather than overwrite directories. Contributed by Genmao Yu.
HDFS-9713. DataXceiver#copyBlock should return if block is pinned. Contributed by Uma Maheswara Rao G.
YARN-3097. Logging of resource recovery on NM restart has redundancies. Contributed by Eric Payne
HADOOP-12752. Improve diagnostics/use of envvar/sysprop credential propagation. Contributed by Steve Loughran.
HADOOP-6760. WebServer shouldn't increase port number in case of negative port setting caused by Jetty's race. Contributed by Konstantin Boudnik.
HADOOP-9553. TestAuthenticationToken fails on Windows. Contributed by Arpit Agarwal.
HDFS-6518. TestCacheDirectives#testExceedsCapacity should take FSN read lock when accessing pendingCached list. (wang)
HADOOP-14902. LoadGenerator#genFile write close timing is incorrectly calculated. Contributed by Hanisha Koneru
YARN-4795. ContainerMetrics drops records. (Daniel Templeton via kasha)
HDFS-11404. Increase timeout on TestShortCircuitLocalRead.testDeprecatedGetBlockLocalPathInfoRpc. Contributed by Eric Badger
HDFS-4295. Using port 1023 should be valid when starting Secure DataNode. Contributed by Stephen Chu.
HADOOP-15212. Add independent secret manager method for logging expired tokens. Contributed by Daryn Sharp.
HADOOP-11156. DelegateToFileSystem should implement getFsStatus(final Path f). Contributed by Zhihai Xu.
HADOOP-14683. FileStatus.compareTo binary compatible issue. Contributed by Akira Ajisaka.
YARN-6205. Default lifetime for native services app is invalid. Contributed by Billie Rinaldi
HDFS-6032. -rollingUpgrade query hits NPE after the NN restarts. Contributed by Haohui Mai.
YARN-4033. In FairScheduler, parent queues should also display queue status. (Siqi Li via kasha)
HDFS-7502. Fix findbugs warning in hdfs-nfs project. Contributed by Brandon Li.
HADOOP-7957. Classes deriving GetGroupsBase should be able to override proxy creation.
HADOOP-13476. CredentialProviderFactory fails at class loading from libhdfs (JNI). Contributed by Aaron Fabbri.
HADOOP-14478. Optimize NativeAzureFsInputStream for positional reads. Contributed by Rajesh Balamohan
HDFS-7676. Fix TestFileTruncate to avoid bug of HDFS-7611. Contributed by Konstantin Shvachko.
HDFS-12449. TestReconstructStripedFile.testNNSendsErasureCodingTasks randomly cannot finish in 60s. (SammiChen via lei)
YARN-4568. Fix message when NodeManager runs into errors initializing the recovery directory. (rchiang)
HDFS-7869. Inconsistency in the return information while performing rolling upgrade ( Contributed by J.Andreina )
MAPREDUCE-4817. Hardcoded task ping timeout kills tasks localizing large amounts of data (tgraves)
MAPREDUCE-5601. ShuffleHandler fadvises file regions as DONTNEED even when fetch fails (Sandy Ryza)
HDFS-12526. FSDirectory should use Time.monotonicNow for durations. Contributed by Bharat Viswanadham.
HADOOP-6657. Add a capitalization method to StringUtils for MAPREDUCE-1545
YARN-2306. Add test for leakage of reservation metrics in fair scheduler. (Hong Zhiguo and Yufei Gu via subru).
"YARN-1575. Public localizer crashes with ""Localized unkown resource"". Contributed by Jason Lowe"
YARN-2785. Fixed intermittent TestContainerResourceUsage failure. Contributed by Varun Vasudev.
YARN-621. Changed YARN web app to not add paths that can cause duplicate additions of authenticated filters there by causing kerberos replay errors. Contributed by Omkar Vinit Joshi.
HDFS-6500. Snapshot shouldn't be removed silently after renaming to an existing snapshot. (Contributed by Nicholas SZE)
HDFS-13428. RBF: Remove LinkedList From StateStoreFileImpl.java. Contributed by BELUGA BEHR.
HADOOP-14915. method name is incorrect in ConfServlet. Contributed by Bharat Viswanadham.
YARN-4935. TestYarnClient#testSubmitIncorrectQueue fails when FairScheduler is the default. (Yufei Gu via kasha)
HDFS-7324. haadmin command usage prints incorrect command name. Contributed by Brahma Reddy Battula.
HDFS-10976. Report erasure coding policy of EC files in Fsck. Contributed by Wei-Chiu Chuang.
YARN-4574. Fix random failure in TestAMRMClientOnRMRestart. (Takashi Ohnishi via rohithsharmaks)
HDFS-9112. Improve error message for Haadmin when multiple name service IDs are configured. Contributed by Anu Engineer.
HADOOP-8720. TestLocalFileSystem should use test root subdirectory. Contributed by Vlad Rozov
YARN-2540. FairScheduler: Queue filters not working on scheduler page in RM UI. (Ashwin Shankar via kasha)
MAPREDUCE-5483. revert MAPREDUCE-5357. (rkanter via tucu)
HADOOP-7664. Remove warmings when overriding final parameter configuration if the override value is same as the final parameter value. Contributed by Ravi Prakash.
HDFS-2622. Fix TestDFSUpgrade in HA branch. Contributed by Todd Lipcon.
YARN-4763. RMApps Page crashes with NPE. (Bibin A Chundatt via rohithsharmaks)
HDFS-9387. Fix namenodeUri parameter parsing in NNThroughputBenchmark. Contributed by Mingliang Liu.
HDFS-9466. TestShortCircuitCache#testDataXceiverCleansUpSlotsOnFailure is flaky (Wei-Chiu Chuang via cmccabe)
MAPREDUCE-6477. Replace usage of deprecated NameNode.DEFAULT_PORT in TestFileSystem. Contributed by Mingliang Liu.
MAPREDUCE-2985. Fixed findbugs warnings in ResourceLocalizationService. Contributed by Thomas Graves.
YARN-2213. Change proxy-user cookie log in AmIpFilter to DEBUG. Contributed by Varun Saxena
HDFS-7227. Fix findbugs warning about NP_DEREFERENCE_OF_READLINE_VALUE in SpanReceiverHost (cmccabe)
HADOOP-13457. Remove hardcoded absolute path for shell executable. (Chen Liang)
HADOOP-10058. TestMetricsSystemImpl#testInitFirstVerifyStopInvokedImmediately fails on trunk (Chen He via jeagles)
HADOOP-9593 stack trace printed at ERROR for all yarn clients without hadoop.home set
HDFS-5400. DFS_CLIENT_MMAP_CACHE_THREAD_RUNS_PER_TIMEOUT constant is set to the wrong value (Colin Patrick McCabe)
HDFS-8444. Erasure Coding: fix cannot rename a zone dir (Contributed by Walter Su)
HADOOP-10441. Namenode metric rpc.RetryCache/NameNodeRetryCache.CacheHit can't be correctly processed by Ganglia. Contributed by Jing Zhao.
YARN-4844 (Addendum). Change JobStatus(usedMem,reservedMem,neededMem) back to int for compatibility. Contributed by Wangda Tan
HDFS-3611. NameNode prints unnecessary WARNs about edit log normally skipping a few bytes. Contributed by Colin Patrick McCabe. (harsh)
HADOOP-13921. Remove log4j classes from JobConf.
HDFS-4752. TestRBWBlockInvalidation fails on Windows due to file locking. Contributed by Chris Nauroth.
MAPREDUCE-6852. Job#updateStatus() failed with NPE due to race condition. Contributed by Junping Du
YARN-4109. Exception on RM scheduler page loading with labels. (Mohammad Shahid Khan via rohithsharmaks)
MAPREDUCE-6818. Remove direct reference to TimelineClientImpl. Contributed by Li Lu.
MAPREDUCE-6231. Grep example job is not working on a fully-distributed cluster. (aajisaka)
YARN-6208. Improve the log when FinishAppEvent sent to the NodeManager which didn't run the application (Contributed by Akira Ajisaka via Daniel Templeton)
MAPREDUCE-3686. Fixed two bugs in Counters because of which web app displays zero counter values for framework counters. Contributed by Bhallamudi Venkata Siva Kamesh.
HADOOP-6742. Add methods HADOOP-6709 from to TestFilterFileSystem. Contributed by Eli Collins.
YARN-3339. TestDockerContainerExecutor should pull a single image and not the entire centos repository. (Ravindra Kumar Naik via raviprak)
HADOOP-4297. Enable Java assertions when running tests. Contributed by Tsz Wo Nicholas Sze.
HDFS-5517. Lower the default maximum number of blocks per file. Contributed by Aaron T. Myers and Andrew Wang.
HDFS-7045. Fix NameNode deadlock when opening file under /.reserved path. Contributed by Yi Liu.
HADOOP-13178. TestShellBasedIdMapping.testStaticMapUpdate doesn't work on OS X (Kai Sasaki via aw)
HDFS-8659. Block scanner INFO message is spamming logs. Contributed by Yongjun Zhang.
YARN-3203. Correct a log message in AuxServices. Contributed by Brahma Reddy Battula.
HADOOP-14500. Azure: TestFileSystemOperationExceptionHandling{,MultiThreaded} fails. Contributed by Rajesh Balamohan
HDFS-7916. 'reportBadBlocks' from datanodes to standby Node BPServiceActor goes for infinite loop (Contributed by Vinayakumar B)
HDFS-3060. Bump TestDistributedUpgrade#testDistributedUpgrade timeout. Contributed by Eli Collins
YARN-5080. Addendum fix to the original patch to fix YARN logs CLI. Contributed by Xuan Gong
HDFS-6552. add DN storage to a BlockInfo will not replace the different storage from same DN. (Contributed by Amir Langer)
